{"version":3,"sources":["index.js","node.js","config.js","util.js","compose.js","flexLine.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA,ACHA;ADIA,ACHA;ADIA,ACHA;ACFA,AFMA,ACHA;ACFA,AFMA,ACHA;ACFA,AFMA,ACHA;ACFA,AFMA,ACHA,AENA;ADIA,AFMA,ACHA,AENA;ADIA,AFMA,ACHA,AENA;ACFA,AFMA,AFMA,ACHA,AENA;ACFA,AFMA,AFMA,ACHA,AENA;ACFA,AFMA,AFMA,ACHA,AENA;ACFA,AFMA,AGTA,ALeA,ACHA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AJYA,AENA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA,AFMA;ACFA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;ADIA,AFMA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AHUA,AGTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _node = require('./node');\n\nObject.defineProperty(exports, 'Node', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_node).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty = require('babel-runtime/core-js/object/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar id = 1;\n\nvar Node = function () {\n  function Node(config) {\n    (0, _classCallCheck3.default)(this, Node);\n\n    this.config = new _config2.default(config, this);\n    this.parent = null;\n    this.children = [];\n    this.id = id++;\n  }\n\n  (0, _createClass3.default)(Node, [{\n    key: 'appendChild',\n    value: function appendChild(node) {\n      if (!(node instanceof Node)) {\n        throw new Error('appended Child must be instance of Node');\n      }\n      node.parent = this;\n      this.children.push(node);\n      return this;\n    }\n  }, {\n    key: 'calculateLayout',\n    value: function calculateLayout(width, height, direction) {\n      if (width) this.width = width;\n      if (height) this.height = height;\n      if (direction) this.flexDirection = direction;\n      var instance = new _compose2.default(this);\n      instance.compose();\n    }\n  }, {\n    key: 'getComputedLayout',\n    value: function getComputedLayout() {\n      var _this = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var width = this.computedWidth;\n      if (width === undefined) {\n        width = this.width;\n      }\n      var height = this.computedHeight;\n      if (height === undefined) {\n        height = this.height;\n      }\n      var layout = { left: this.left || 0, top: this.top || 0, width: width, height: height };\n      props.forEach(function (item) {\n        layout[item] = _this[item];\n      });\n      return layout;\n    }\n  }, {\n    key: 'getAllComputedLayout',\n    value: function getAllComputedLayout(props) {\n      var layout = this.getComputedLayout();\n      layout.children = this.children.sort(function (a, b) {\n        return a.id > b.id ? 1 : -1;\n      }).map(function (item) {\n        return item.getComputedLayout(props);\n      });\n      return layout;\n    }\n  }], [{\n    key: 'create',\n    value: function create(config) {\n      return new Node(config);\n    }\n  }]);\n  return Node;\n}();\n\n_util.flexProperties.forEach(function (property) {\n  (0, _defineProperty2.default)(Node.prototype, property, {\n    get: function get() {\n      return this.config[property];\n    },\n    set: function set(value) {\n      this.config[property] = value;\n    }\n  });\n});\n\nexports.default = Node;","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Config = function () {\n  function Config() {\n    var _this = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var node = arguments[1];\n    (0, _classCallCheck3.default)(this, Config);\n\n    this.config = {};\n    this.node = node;\n    (0, _keys2.default)(config).forEach(function (item) {\n      if (!_util.flexProperties.includes(item)) {\n        throw new Error('config ' + item + ' is not valid');\n      }\n      _this[item] = config[item];\n    });\n  }\n\n  (0, _createClass3.default)(Config, [{\n    key: 'parse',\n    value: function parse() {\n      this.parseBorder();\n      this.parsePadding();\n      this.parseMargin();\n      this.parseFlex();\n      this.parseFlexFlow();\n      this.parseFlexProps();\n      this.parseSize();\n      this.parseComputedWidth();\n      this.parseComputedHeight();\n      this.parseLayoutWidth();\n      this.parseLayoutHeight();\n    }\n  }, {\n    key: 'parseNumberValue',\n    value: function parseNumberValue(value, parentValue) {\n      if (value === 'auto' || typeof value === 'number') return value;\n      if (!value) return 0;\n      var percentValue = (0, _util.parsePercentValue)(value);\n      if (typeof percentValue === 'number') {\n        if (typeof parentValue === 'string') {\n          parentValue = this.node.parent[parentValue];\n        }\n        value = percentValue * parentValue;\n      } else if (/^[\\d.-]+$/.test(value)) {\n        value = parseFloat(value, 10);\n      } else {\n        throw new Error(value + ' is not a number');\n      }\n      return value;\n    }\n  }, {\n    key: 'parseBorder',\n    value: function parseBorder() {\n      var _this2 = this;\n\n      var border = this.border || [0, 0, 0, 0];\n      if (border) {\n        border = (0, _util.parseCombineValue)(border).map(function (item) {\n          return _this2.parseNumberValue(item);\n        });\n      }\n      var borderList = ['borderTop', 'borderRight', 'borderBottom', 'borderLeft'];\n      this.border = borderList.map(function (item, index) {\n        _this2[item] = _this2.parseNumberValue(_this2[item]) || border[index];\n        if (_this2[item] < 0 || _this2[item] === 'auto') {\n          throw new Error(item + ':' + _this2[item] + ' is not valid');\n        }\n        return _this2[item];\n      });\n    }\n  }, {\n    key: 'parsePadding',\n    value: function parsePadding() {\n      var _this3 = this;\n\n      var padding = this.padding || [0, 0, 0, 0];\n      if (padding) {\n        padding = (0, _util.parseCombineValue)(padding).map(function (item) {\n          return _this3.parseNumberValue(item, 'width');\n        });\n      }\n      var paddingList = ['paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft'];\n      this.padding = paddingList.map(function (item, index) {\n        _this3[item] = _this3.parseNumberValue(_this3[item], 'width') || padding[index];\n        if (_this3[item] < 0 || _this3[item] === 'auto') {\n          throw new Error(item + ':' + _this3[item] + ' is not valid');\n        }\n        return _this3[item];\n      });\n    }\n  }, {\n    key: 'parseMargin',\n    value: function parseMargin() {\n      var _this4 = this;\n\n      var margin = this.margin || [0, 0, 0, 0];\n      if (margin) {\n        margin = (0, _util.parseCombineValue)(margin).map(function (item) {\n          return _this4.parseNumberValue(item, 'width');\n        });\n      }\n      var marginList = ['marginTop', 'marginRight', 'marginBottom', 'marginLeft'];\n      this.margin = marginList.map(function (item, index) {\n        _this4[item] = _this4.parseNumberValue(_this4[item], 'width') || margin[index];\n        return _this4[item];\n      });\n    }\n  }, {\n    key: 'parseFlex',\n    value: function parseFlex() {\n      var flex = this.flex;\n      if (flex) {\n        if (typeof flex === 'number') {\n          this.flexGrow = this.flexGrow || flex;\n        } else {\n          var _flex$split = flex.split(/\\s+/),\n              _flex$split2 = (0, _slicedToArray3.default)(_flex$split, 3),\n              flexFlow = _flex$split2[0],\n              flexShrink = _flex$split2[1],\n              _flexBasis = _flex$split2[2];\n\n          if (!this.flexFlow) {\n            this.flexFlow = flexFlow;\n          }\n          if (!this.flexShrink) {\n            this.flexShrink = flexShrink;\n          }\n          if (!this.flexBasis) {\n            this.flexBasis = _flexBasis;\n          }\n        }\n      }\n      this.flexShrink = parseFloat(this.flexShrink) || 1;\n      this.flexGrow = parseFloat(this.flexGrow) || 0;\n      var flexBasis = this.flexBasis;\n      if (flexBasis) {\n        var flexDirection = this.node.parent.flexDirection;\n        var isRow = flexDirection === 'row' || flexDirection === 'row-reverse';\n        flexBasis = this.parseNumberValue(flexBasis, isRow ? 'width' : 'height');\n        this.flexBasis = flexBasis;\n      } else if (this.flexBasis === '') {\n        this.flexBasis = undefined;\n      }\n    }\n  }, {\n    key: 'parseSize',\n    value: function parseSize() {\n      var _this5 = this;\n\n      var widths = ['width', 'minWidth', 'maxWidth'];\n      widths.forEach(function (item) {\n        _this5[item] = _this5.parseNumberValue(_this5[item], 'width') || 0;\n      });\n      if (this.width && !this.offsetWidth) {\n        this.offsetWidth = this.width;\n      }\n      var heights = ['height', 'minHeight', 'maxHeight'];\n      heights.forEach(function (item) {\n        _this5[item] = _this5.parseNumberValue(_this5[item], 'height') || 0;\n      });\n      if (this.height && !this.offsetHeight) {\n        this.offsetHeight = this.height;\n      }\n    }\n  }, {\n    key: 'parseFlexFlow',\n    value: function parseFlexFlow() {\n      var _this6 = this;\n\n      var flexFlow = this.flexFlow;\n      if (flexFlow) {\n        flexFlow.split(/\\s+/).forEach(function (item) {\n          if (_util.flexDirectionValues.includes(item)) {\n            _this6.flexDirection = item;\n          } else if (_util.flexWrapValues.includes(item)) {\n            _this6.flexWrap = item;\n          } else {\n            throw new Error('FlexFlow: ' + flexFlow + ' is not valid');\n          }\n        });\n      }\n    }\n  }, {\n    key: 'parseFlexProps',\n    value: function parseFlexProps() {\n      var _this7 = this;\n\n      var props = {\n        flexDirection: _util.flexDirectionValues,\n        flexWrap: _util.flexWrapValues,\n        justifyContent: _util.justifyContentValues,\n        alignItems: _util.alignItemsValues,\n        alignSelf: _util.alignSelfValues,\n        alignContent: _util.alignContentValues\n      };\n      (0, _keys2.default)(props).forEach(function (item) {\n        if (_this7[item]) {\n          var allowValues = props[item];\n          if (allowValues.indexOf(_this7[item]) === -1) {\n            throw new Error(item + ' value:' + _this7[item] + ' is not valid');\n          }\n        } else {\n          _this7[item] = props[item][0];\n        }\n      });\n    }\n  }, {\n    key: 'getFlexBasis',\n    value: function getFlexBasis() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'width';\n\n      var flexDirection = this.node.parent.flexDirection;\n      var flexBasis = this.flexBasis;\n      if (flexBasis !== undefined && flexBasis !== 'auto') {\n        var isRow = flexDirection === 'row' || flexDirection === 'row-reverse';\n        if (type === 'width' && isRow || type === 'height' && !isRow) {\n          return this.parseNumberValue(flexBasis, isRow ? 'width' : 'height');\n        }\n      }\n    }\n  }, {\n    key: 'parseComputedWidth',\n    value: function parseComputedWidth() {\n      var width = this.getFlexBasis('width');\n      if (width === undefined) {\n        width = this.offsetWidth || 0;\n      }\n      var minWidth = this.minWidth;\n      var maxWidth = this.maxWidth;\n      if (maxWidth && minWidth && maxWidth < minWidth) {\n        maxWidth = minWidth;\n      }\n      if (minWidth && width < minWidth) {\n        width = minWidth;\n      }\n      if (maxWidth && width > maxWidth) {\n        width = maxWidth;\n      }\n      this.config.computedWidth = width;\n    }\n  }, {\n    key: 'parseLayoutWidth',\n    value: function parseLayoutWidth() {\n      var _this8 = this;\n\n      var width = this.computedWidth;\n\n      var marginLeft = (0, _util.parseMarginAuto)(this.marginLeft);\n      var marginRight = (0, _util.parseMarginAuto)(this.marginRight);\n      width += marginLeft + marginRight;\n      if (this.boxSizing !== 'border-box') {\n        var props = ['borderLeft', 'borderRight', 'paddingLeft', 'paddingRight'];\n        props.forEach(function (item) {\n          width += _this8[item] || 0;\n        });\n      }\n      this.layoutWidth = width;\n    }\n  }, {\n    key: 'parseComputedHeight',\n    value: function parseComputedHeight() {\n      var height = this.getFlexBasis('height');\n      if (height === undefined) {\n        height = this.offsetHeight || 0;\n      }\n      var minHeight = this.minHeight;\n      var maxHeight = this.maxHeight;\n      if (maxHeight && minHeight && maxHeight < minHeight) {\n        maxHeight = minHeight;\n      }\n      if (minHeight && height < minHeight) {\n        height = minHeight;\n      }\n      if (maxHeight && height > maxHeight) {\n        height = maxHeight;\n      }\n      this.config.computedHeight = height;\n    }\n  }, {\n    key: 'parseLayoutHeight',\n    value: function parseLayoutHeight() {\n      var _this9 = this;\n\n      var height = this.computedHeight;\n\n      var marginTop = (0, _util.parseMarginAuto)(this.marginTop);\n      var marginBottom = (0, _util.parseMarginAuto)(this.marginBottom);\n      height += marginTop + marginBottom;\n      if (this.boxSizing !== 'border-box') {\n        var props = ['borderTop', 'borderBottom', 'paddingTop', 'paddingBottom'];\n        props.forEach(function (item) {\n          height += _this9[item] || 0;\n        });\n      }\n      this.layoutHeight = height;\n    }\n  }, {\n    key: 'computedWidth',\n    get: function get() {\n      return this.config.computedWidth;\n    },\n    set: function set(value) {\n      this.config.computedWidth = value;\n      this.parseLayoutWidth();\n    }\n  }, {\n    key: 'computedHeight',\n    get: function get() {\n      return this.config.computedHeight;\n    },\n    set: function set(value) {\n      this.config.computedHeight = value;\n      this.parseLayoutHeight();\n    }\n  }]);\n  return Config;\n}();\n\nexports.default = Config;","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseCombineValue = parseCombineValue;\nexports.parsePercentValue = parsePercentValue;\nexports.parseSpaceBetween = parseSpaceBetween;\nexports.getProp = getProp;\nexports.exchangeFlexProp = exchangeFlexProp;\nexports.parseMarginAuto = parseMarginAuto;\nvar flexProperties = exports.flexProperties = ['flex', 'flexDirection', 'flexWrap', 'flexFlow', 'justifyContent', 'alignContent', 'alignItems', 'alignSelf', 'flexShrink', 'flexBasis', 'flexGrow', 'maxHeight', 'maxWidth', 'minHeight', 'minWidth', 'border', 'borderTop', 'borderRight', 'borderBottom', 'borderLeft', 'height', 'width', 'margin', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'padding', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'boxSizing', 'layoutWidth', 'layoutHeight', 'offsetWidth', 'offsetHeight', 'computedWidth', 'computedHeight', 'order'];\n\nvar flexDirectionValues = exports.flexDirectionValues = ['row', 'row-reverse', 'column', 'column-reverse'];\n\nvar flexWrapValues = exports.flexWrapValues = ['nowrap', 'wrap', 'wrap-reverse'];\n\nvar justifyContentValues = exports.justifyContentValues = ['flex-start', 'flex-end', 'center', 'space-between', 'space-around', 'space-evenly'];\n\nvar alignItemsValues = exports.alignItemsValues = ['stretch', 'flex-start', 'flex-end', 'center', 'baseline'];\n\nvar alignSelfValues = exports.alignSelfValues = ['auto', 'stretch', 'flex-start', 'flex-end', 'center', 'baseline'];\n\nvar alignContentValues = exports.alignContentValues = ['stretch', 'flex-start', 'flex-end', 'center', 'space-between', 'space-around', 'space-evenly'];\n\nfunction parseCombineValue(value) {\n  if (!Array.isArray(value)) {\n    value = [value, value, value, value];\n  } else if (value.length === 1) {\n    value = [value[0], value[0], value[0], value[0]];\n  } else if (value.length === 2) {\n    value = [value[0], value[1], value[0], value[1]];\n  } else if (value.length === 3) {\n    value[3] = value[1];\n  }\n  return value;\n}\n\n/**\n * parse percent value\n * @param {String} value percent value, like `10%`\n */\nfunction parsePercentValue(value) {\n  if (!/%$/.test(value)) return false;\n  return 0.01 * parseFloat(value, 10);\n}\n\n/**\n * parse space between items\n * @param {Number} space space size\n * @param {String} type flex-start/flex-end/...\n * @param {Number} num array size\n */\nfunction parseSpaceBetween(space, type, num) {\n  var marginSize = [];\n  var fillFull = function fillFull() {\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    for (var i = marginSize.length; i < num + 1; i++) {\n      marginSize[i] = size;\n    }\n  };\n  if (space < 0) {\n    if (type === 'space-between' || type === 'stretch') {\n      type = 'flex-start';\n    } else if (type === 'space-around' || type === 'space-evenly') {\n      type = 'center';\n    }\n  }\n  if (type === 'flex-end') {\n    marginSize[0] = space;\n    fillFull();\n  } else if (type === 'center') {\n    var itemSize = space / 2;\n    marginSize[0] = itemSize;\n    fillFull();\n    marginSize[num] = itemSize;\n  } else if (type === 'space-between') {\n    marginSize[0] = 0;\n    if (num === 1) {\n      fillFull(space);\n    } else {\n      fillFull(space / (num - 1));\n      marginSize[num] = 0;\n    }\n  } else if (type === 'space-between-reverse') {\n    if (num === 1) {\n      marginSize[0] = space;\n      fillFull(0);\n    } else {\n      marginSize[0] = 0;\n      fillFull(space / (num - 1));\n      marginSize[num] = 0;\n    }\n  } else if (type === 'space-around') {\n    var _itemSize = space / num;\n    marginSize[0] = _itemSize / 2;\n    fillFull(_itemSize);\n    marginSize[num] = _itemSize / 2;\n  } else if (type === 'space-evenly') {\n    var _itemSize2 = space / (num + 1);\n    fillFull(_itemSize2);\n  } else if (type === 'stretch') {\n    var _itemSize3 = space / num;\n    marginSize[0] = 0;\n    fillFull(_itemSize3);\n  } else {\n    // flex-start\n    fillFull();\n  }\n  return marginSize;\n}\n\nfunction getProp(flexDirection) {\n  if (flexDirection === 'column' || flexDirection === 'column-reverse') {\n    return {\n      mainLayoutSize: 'layoutHeight',\n      crossLayoutSize: 'layoutWidth',\n      mainSize: 'height',\n      mainComputedSize: 'computedHeight',\n      crossSize: 'width',\n      crossComputedSize: 'computedWidth',\n      mainPos: 'top',\n      mainMaxSize: 'maxHeight',\n      mainMinSize: 'minHeight',\n      crossPos: 'left',\n      crossMaxSize: 'maxWidth',\n      mainMarginStart: 'marginTop',\n      mainMarginEnd: 'marginBottom',\n      crossMarginStart: 'marginLeft',\n      crossMarginEnd: 'marginRight'\n    };\n  }\n  return {\n    mainLayoutSize: 'layoutWidth',\n    crossLayoutSize: 'layoutHeight',\n    mainSize: 'width',\n    mainComputedSize: 'computedWidth',\n    crossSize: 'height',\n    crossComputedSize: 'computedHeight',\n    mainPos: 'left',\n    mainMaxSize: 'maxWidth',\n    mainMinSize: 'minWidth',\n    crossMaxSize: 'maxHeight',\n    crossPos: 'top',\n    mainMarginStart: 'marginLeft',\n    mainMarginEnd: 'marginRight',\n    crossMarginStart: 'marginTop',\n    crossMarginEnd: 'marginBottom'\n  };\n}\n\nfunction exchangeFlexProp(prop) {\n  if (prop === 'flex-start') return 'flex-end';\n  if (prop === 'flex-end') return 'flex-start';\n  if (prop === 'space-between') return 'space-between-reverse';\n  return prop;\n}\n\nfunction parseMarginAuto(value) {\n  var autoValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  if (value === 'auto') return autoValue;\n  return value || 0;\n}","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _flexLine = require('./flexLine');\n\nvar _flexLine2 = _interopRequireDefault(_flexLine);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Compose = function () {\n  function Compose(container) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, Compose);\n\n    this.container = container;\n    var props = (0, _util.getProp)(container.flexDirection);\n    (0, _keys2.default)(props).forEach(function (prop) {\n      _this[prop] = props[prop];\n    });\n    container.children.forEach(function (item) {\n      item.config.parse();\n    });\n    container.children = this.parseOrder(container.children);\n    this.flexLines = this.parseFlexLines(container.children);\n  }\n\n  (0, _createClass3.default)(Compose, [{\n    key: 'parseOrder',\n    value: function parseOrder(items) {\n      return items.sort(function (a, b) {\n        var ar = a.order | 0;\n        var br = b.order | 0;\n        if (a.order && b.order) return ar > br ? 1 : -1;\n        if (a.order) return ar > 0 ? 1 : -1;\n        if (b.order) return br > 0 ? -1 : 1;\n        return a.id > b.id ? 1 : -1;\n      });\n    }\n\n    /**\n     * parse flex lines by flexWrap\n     * @param {Array} items flex items\n     */\n\n  }, {\n    key: 'parseFlexLines',\n    value: function parseFlexLines(items) {\n      var _this2 = this;\n\n      var wrap = this.container.flexWrap;\n      var flexDirection = this.container.flexDirection;\n      var containerPropValue = this.container[this.mainSize];\n      var lines = [];\n      if (wrap === 'nowrap' || !containerPropValue) {\n        lines = [items];\n      } else {\n        var line = [];\n        var propValue = 0;\n        items.forEach(function (item) {\n          var value = item[_this2.mainLayoutSize];\n          if (propValue + value > containerPropValue && line.length) {\n            lines.push(line);\n            propValue = 0;\n            line = [];\n          }\n          propValue += value;\n          line.push(item);\n        });\n        if (line.length) {\n          lines.push(line);\n          line = [];\n        }\n        if (wrap === 'wrap-reverse') {\n          lines = lines.reverse();\n        }\n      }\n\n      if (flexDirection === 'row-reverse' || flexDirection === 'column-reverse') {\n        lines = lines.map(function (line) {\n          return line.reverse();\n        });\n      }\n      lines = lines.map(function (line) {\n        return new _flexLine2.default(line, _this2.container);\n      });\n      return lines;\n    }\n\n    /**\n     * parse align-content on multiline flex lines\n     */\n\n  }, {\n    key: 'parseAlignContent',\n    value: function parseAlignContent() {\n      var alignContent = this.container.alignContent;\n      var crossAxisSize = this.container[this.crossSize];\n      var space = 0;\n      var lineLength = this.flexLines.length;\n      if (crossAxisSize) {\n        var linesCrossAxisSize = 0;\n        this.flexLines.forEach(function (line) {\n          linesCrossAxisSize += line.crossAxisSize;\n        });\n        // margin between lines\n        space = crossAxisSize - linesCrossAxisSize;\n      }\n      var linesMarginSize = [];\n      if (lineLength === 1) {\n        this.container.alignContent = 'stretch';\n        linesMarginSize = [0, space];\n      } else {\n        if (this.container.flexWrap === 'wrap-reverse') {\n          alignContent = (0, _util.exchangeFlexProp)(alignContent);\n        }\n        linesMarginSize = (0, _util.parseSpaceBetween)(space, alignContent, lineLength);\n      }\n      var crossPosition = 0;\n      this.flexLines.forEach(function (line, index) {\n        crossPosition += linesMarginSize[index] || 0;\n        line.crossPosition = crossPosition;\n        line.crossSpace = linesMarginSize[index + 1] || 0;\n        crossPosition += line.crossAxisSize;\n      });\n    }\n  }, {\n    key: 'parseAlignSelf',\n    value: function parseAlignSelf() {\n      this.flexLines.forEach(function (line) {\n        line.parseAlignSelf(line.crossAxisSize);\n      });\n    }\n  }, {\n    key: 'computeContainerSize',\n    value: function computeContainerSize() {\n      var line = this.flexLines[0];\n      if (!this.container[this.crossSize]) {\n        this.container[this.crossSize] = line.crossAxisSize;\n      }\n      if (!this.container[this.mainSize]) {\n        this.container[this.mainSize] = line.mainAxisSize;\n      }\n    }\n  }, {\n    key: 'parseMainAxis',\n    value: function parseMainAxis() {\n      this.flexLines.forEach(function (line) {\n        line.parseMainAxis();\n      });\n    }\n  }, {\n    key: 'compose',\n    value: function compose() {\n      this.parseAlignContent();\n      this.parseAlignSelf();\n      this.parseMainAxis();\n      this.computeContainerSize();\n    }\n  }]);\n  return Compose;\n}();\n\nexports.default = Compose;","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _symbol = require('babel-runtime/core-js/symbol');\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CROSS_AXIS_SIZE = (0, _symbol2.default)('crossAxisSize');\n\nvar FlexLine = function () {\n  function FlexLine(items, container) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, FlexLine);\n\n    this.items = items;\n    this.container = container;\n    this.flexDirection = container.flexDirection;\n    this.crossPosition = 0;\n    this.crossSpace = 0;\n    var props = (0, _util.getProp)(this.flexDirection);\n    (0, _keys2.default)(props).forEach(function (prop) {\n      _this[prop] = props[prop];\n    });\n  }\n\n  /**\n   * get main axis size base on flex direction\n   */\n\n\n  (0, _createClass3.default)(FlexLine, [{\n    key: 'parseAutoCrossMargin',\n    value: function parseAutoCrossMargin(item, crossSize) {\n      var startAuto = item[this.crossMarginStart] === 'auto';\n      var endAuto = item[this.crossMarginEnd] === 'auto';\n      if (startAuto || endAuto) {\n        if (this.container.alignContent === 'stretch') {\n          crossSize += this.crossSpace;\n        }\n        var layoutSize = item[this.crossLayoutSize];\n        var size = 0;\n        if (startAuto && endAuto) {\n          size = (crossSize - layoutSize) / 2;\n        } else if (startAuto) {\n          size = crossSize - layoutSize;\n        } else {\n          size = item[this.crossMarginStart];\n        }\n        item[this.crossPos] = this.crossPosition + size;\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'parseItemAlignSelf',\n    value: function parseItemAlignSelf(item, crossSize) {\n      // has auto value in margin on cross axis\n      if (this.parseAutoCrossMargin(item, crossSize)) return;\n\n      var alignSelf = item.alignSelf;\n      if (alignSelf === 'auto') {\n        alignSelf = item.parent.alignItems;\n      }\n      var flexWrap = this.container.flexWrap;\n      if (flexWrap === 'wrap-reverse') {\n        alignSelf = (0, _util.exchangeFlexProp)(alignSelf);\n      }\n      var layoutSize = item[this.crossLayoutSize];\n      var itemCrossSize = item[this.crossSize];\n      var crossSpace = this.crossSpace;\n      if (this.container.alignContent !== 'stretch') {\n        crossSpace = 0;\n      }\n      var crossPosition = 0;\n      switch (alignSelf) {\n        case 'flex-end':\n          crossPosition = crossSpace + crossSize - layoutSize;\n          break;\n        case 'center':\n          crossPosition = (crossSpace + crossSize - layoutSize) / 2;\n          break;\n        case 'stretch':\n          // stretch item cross size\n          if (!itemCrossSize) {\n            var maxSize = item[this.crossMaxSize] || 0;\n            var caculateSize = this.crossAxisSize - item[this.crossLayoutSize] + item[this.crossComputedSize];\n            if (this.container.alignContent === 'stretch') {\n              caculateSize += this.crossSpace;\n            }\n            if (maxSize) {\n              item[this.crossComputedSize] = Math.min(caculateSize, maxSize);\n            } else {\n              item[this.crossComputedSize] = caculateSize;\n            }\n          } else if (flexWrap === 'wrap-reverse') {\n            crossPosition = crossSpace + crossSize - layoutSize;\n          }\n          break;\n        case 'baseline':\n          throw new Error('align-self:baseline is not support');\n        default:\n          // default is flex-start\n          break;\n      }\n      var pos = this.crossPosition + crossPosition;\n      item[this.crossPos] = pos + (0, _util.parseMarginAuto)(item[this.crossMarginStart]);\n    }\n  }, {\n    key: 'parseAlignSelf',\n    value: function parseAlignSelf() {\n      var _this2 = this;\n\n      var crossSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.items.forEach(function (item) {\n        _this2.parseItemAlignSelf(item, crossSize);\n      });\n    }\n  }, {\n    key: 'hasMarginAutoInMainAxis',\n    value: function hasMarginAutoInMainAxis() {\n      var _this3 = this;\n\n      return this.items.some(function (item) {\n        return item[_this3.mainMarginStart] === 'auto' || item[_this3.mainMarginEnd] === 'auto';\n      });\n    }\n  }, {\n    key: 'hasFlexGrow',\n    value: function hasFlexGrow() {\n      return this.items.some(function (item) {\n        return item.flexGrow;\n      });\n    }\n  }, {\n    key: 'parseByFlexGrow',\n    value: function parseByFlexGrow(space) {\n      var _this4 = this;\n\n      var grow = 0;\n      var max = 0;\n      var items = [];\n      this.items.forEach(function (item) {\n        grow += item.flexGrow || 0;\n        items.push({ max: item[_this4.mainMaxSize], grow: item.flexGrow });\n        if (item[_this4.mainMaxSize]) max++;\n      });\n\n      var _loop = function _loop() {\n        var itemSpace = space / Math.max(grow, 1);\n        if (!max) {\n          items.forEach(function (item, index) {\n            if (item.grow) {\n              var increSpace = item.grow * itemSpace;\n              _this4.items[index][_this4.mainComputedSize] += increSpace;\n              space -= increSpace;\n            }\n          });\n          return 'break';\n        }\n        var flag = false;\n        items.forEach(function (item, index) {\n          if (item.max && item.grow) {\n            var leaveSpace = item.max - _this4.items[index][_this4.mainComputedSize];\n            if (itemSpace * item.grow > leaveSpace) {\n              _this4.items[index][_this4.mainComputedSize] = item.max;\n              space -= leaveSpace;\n              grow -= item.grow;\n              delete item.max;\n              delete item.grow;\n              flag = true;\n            }\n          }\n        });\n        if (!grow) return 'break';\n        if (!flag) {\n          max = 0;\n        }\n      };\n\n      while (true) {\n        var _ret = _loop();\n\n        if (_ret === 'break') break;\n      }\n      return space;\n    }\n  }, {\n    key: 'parseByMarginAuto',\n    value: function parseByMarginAuto(space) {\n      var _this5 = this;\n\n      var marginAutoNum = 0;\n      this.items.forEach(function (item) {\n        if (item[_this5.mainMarginStart] === 'auto') {\n          marginAutoNum++;\n        }\n        if (item[_this5.mainMarginEnd] === 'auto') {\n          marginAutoNum++;\n        }\n      });\n      var itemSpace = space / marginAutoNum;\n      var pos = 0;\n      this.items.forEach(function (item) {\n        pos += (0, _util.parseMarginAuto)(item[_this5.mainMarginStart], itemSpace);\n        item[_this5.mainPos] = pos;\n        pos += item[_this5.mainLayoutSize] - (0, _util.parseMarginAuto)(item[_this5.mainMarginStart]);\n        pos += (0, _util.parseMarginAuto)(item[_this5.mainMarginEnd], itemSpace) - (0, _util.parseMarginAuto)(item[_this5.mainMarginEnd]);\n      });\n    }\n  }, {\n    key: 'parseJustifyContent',\n    value: function parseJustifyContent() {\n      var justifyContent = this.container.justifyContent;\n      var flexDirection = this.container.flexDirection;\n      if (flexDirection === 'row-reverse' || flexDirection === 'column-reverse') {\n        justifyContent = (0, _util.exchangeFlexProp)(justifyContent);\n      }\n      return justifyContent;\n    }\n  }, {\n    key: 'parseByJustifyContentPositive',\n    value: function parseByJustifyContentPositive(space) {\n      return this.parseByJustifyContentSpace(space);\n    }\n  }, {\n    key: 'parseByJustifyContentSpace',\n    value: function parseByJustifyContentSpace(space) {\n      var _this6 = this;\n\n      var justifyContent = this.parseJustifyContent();\n      var marginSizes = (0, _util.parseSpaceBetween)(space, justifyContent, this.items.length);\n      var pos = 0;\n      this.items.forEach(function (item, index) {\n        pos += marginSizes[index] || 0;\n        item[_this6.mainPos] = pos + (0, _util.parseMarginAuto)(item[_this6.mainMarginStart]);\n        pos += item[_this6.mainLayoutSize];\n      });\n    }\n  }, {\n    key: 'parseByJustifyContentNegative',\n    value: function parseByJustifyContentNegative(space) {\n      var _this7 = this;\n\n      var shrink = 0;\n      var min = 0;\n      var items = [];\n      this.items.forEach(function (item) {\n        var shrinkItem = item.flexShrink * item[_this7.mainComputedSize];\n        shrink += shrinkItem;\n        items.push({ min: item[_this7.mainMinSize], shrink: shrinkItem });\n        if (item[_this7.mainMinSize]) min++;\n      });\n\n      var _loop2 = function _loop2() {\n        var itemSpace = (0 - space) / shrink;\n        if (!min) {\n          items.forEach(function (item, index) {\n            if (item.shrink) {\n              var decreSpace = item.shrink * itemSpace;\n              var size = _this7.items[index][_this7.mainComputedSize] - decreSpace;\n              if (size > 0) {\n                _this7.items[index][_this7.mainComputedSize] -= decreSpace;\n                space += decreSpace;\n              } else {\n                _this7.items[index][_this7.mainComputedSize] = 1;\n                space += decreSpace + size;\n              }\n            }\n          });\n          return 'break';\n        }\n        var flag = false;\n        items.forEach(function (item, index) {\n          if (item.min) {\n            var leaveSpace = _this7.items[index][_this7.mainComputedSize] - item.min;\n            if (itemSpace * item.shrink > leaveSpace) {\n              _this7.items[index][_this7.mainComputedSize] = item.min;\n              space += leaveSpace;\n              shrink -= item.shrink;\n              delete item.min;\n              delete item.shrink;\n              flag = true;\n            }\n          }\n        });\n        if (!flag) {\n          min = 0;\n        }\n      };\n\n      while (true) {\n        var _ret2 = _loop2();\n\n        if (_ret2 === 'break') break;\n      }\n      this.parseByJustifyContentSpace(space);\n    }\n  }, {\n    key: 'parseMainAxis',\n    value: function parseMainAxis() {\n      var _this8 = this;\n\n      var mainSize = this.container[this.mainSize];\n      // container size is not set\n      if (!mainSize) {\n        var pos = 0;\n        this.items.forEach(function (item) {\n          item[_this8.mainPos] = pos;\n          pos += item[_this8.mainLayoutSize];\n        });\n        return;\n      }\n      var space = mainSize - this.mainAxisSize;\n      if (space > 0) {\n        if (this.hasFlexGrow()) {\n          space = this.parseByFlexGrow(space);\n        }\n        if (this.hasMarginAutoInMainAxis()) {\n          return this.parseByMarginAuto(space);\n        }\n        return this.parseByJustifyContentPositive(space);\n      }\n      return this.parseByJustifyContentNegative(space);\n    }\n  }, {\n    key: 'mainAxisSize',\n    get: function get() {\n      var _this9 = this;\n\n      var value = 0;\n      this.items.forEach(function (item) {\n        value += item[_this9.mainLayoutSize] || 0;\n      });\n      return value;\n    }\n\n    /**\n     * get cross axis size based on flex direction\n     */\n\n  }, {\n    key: 'crossAxisSize',\n    get: function get() {\n      var _this10 = this;\n\n      if (this[CROSS_AXIS_SIZE]) return this[CROSS_AXIS_SIZE];\n      var values = this.items.map(function (item) {\n        return item[_this10.crossLayoutSize] || 0;\n      });\n      var result = Math.max.apply(Math, (0, _toConsumableArray3.default)(values));\n      this[CROSS_AXIS_SIZE] = result;\n      return result;\n    }\n  }]);\n  return FlexLine;\n}();\n\nexports.default = FlexLine;"]}