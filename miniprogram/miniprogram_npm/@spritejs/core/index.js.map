{"version":3,"sources":["index.js","utils/index.js","utils/parse-font.js","utils/utils.js","utils/svgpath.js","utils/decorators.js","utils/store.js","utils/render.js","core/basesprite.js","core/baseattr.js","core/attr.js","core/basenode.js","core/filters.js","core/sprite.js","core/label.js","core/layer.js","helpers/fast-animation-frame.js","core/batch.js","core/group.js","helpers/group.js","core/path.js","core/use.js","modules/animation/index.js","modules/animation/animation.js","modules/animation/patheffect/index.js","modules/animation/patheffect/sort.js","modules/actions/index.js","modules/actions/attr.js","modules/actions/node.js","modules/layout/index.js","modules/layout/attr.js","modules/layout/flex.js","modules/dom/index.js","modules/dom/selector.js","modules/dom/nodetype.js","modules/css/index.js","modules/css/stylesheet.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA,ACHA;AFOA,ACHA,ACHA;AFOA,ACHA,ACHA;AFOA,ACHA,ACHA,ACHA;AHUA,ACHA,ACHA,ACHA;AHUA,ACHA,ACHA,ACHA;AHUA,ACHA,ACHA,AENA,ADGA;AHUA,ACHA,ACHA,AENA,ADGA;AHUA,ACHA,ACHA,AENA,ADGA;AHUA,AKfA,AJYA,ACHA,AENA,ADGA;AHUA,AKfA,AJYA,ACHA,AENA,ADGA;AHUA,AKfA,AJYA,ACHA,AENA,ADGA;AHUA,AKfA,AJYA,ACHA,AIZA,AFMA,ADGA;AHUA,AKfA,AJYA,ACHA,AIZA,AFMA,ADGA;AHUA,AKfA,AJYA,ACHA,AIZA,AFMA,ADGA;AHUA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AHUA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AHUA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AKdA,ARwBA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AKdA,ARwBA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AKdA,ARwBA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AMjBA,ADGA,ARwBA,AKfA,AJYA,ACHA,AKfA,ADGA,AFMA,ADGA;AMjBA,ADGA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AMjBA,ADGA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,ADGA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,ADGA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,ADGA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,ARwBA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AZoCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AZoCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AZoCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,ACHA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,ACHA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,ACHA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ADGA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ADGA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ADGA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ACHA,AFMA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ACHA,AFMA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ACHA,AFMA,AbuCA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AIZA,AENA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AENA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AHSA,ADGA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AENA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AENA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AFMA,AGTA,AhBgDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AFMA,AGTA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AFMA,AGTA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AFMA,AGTA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AKfA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AsBlEA,AjBmDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AsBlEA,AjBmDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AsBlEA,AjBmDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AjBmDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AjBmDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AjBmDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AENA,AnByDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AENA,AnByDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AENA,AnByDA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,AuBrEA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A0B9EA,AHSA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A0B9EA,AHSA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A0B9EA,AHSA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ADGA,AHSA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ADGA,AHSA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,AJYA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,ApB4DA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AIZA,AxBwEA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AIZA,AxBwEA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AIZA,AxBwEA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AKfA,ADGA,AxBwEA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AKfA,ADGA,AxBwEA,AJYA,ACHA,AKfA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AKfA,ADGA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AKfA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AKfA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AKfA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,AFMA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,AFMA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,AFMA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ALeA,AMlBA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,ACHA,AHSA,ACHA,AFMA,AxBwEA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,ACHA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,ACHA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AOrBA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,AHSA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,AHSA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,AHSA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AQxBA,ALeA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AGTA,AGTA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AU9BA,ACHA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AS3BA,ACHA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AnByDA,A2BjFA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ADGA,AENA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AHSA,ACHA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,AENA,ADGA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,ACHA,AWjCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AJYA,AMlBA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,AFMA,A1B8EA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AQxBA,ACHA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,ACHA,AYpCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AENA,AJYA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AJYA,ACHA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,AMlBA,AS3BA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,AHSA,A5BoFA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA,AFMA;AOpBA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AKdA,ADGA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,ALeA,AavCA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,APqBA,Ae7CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AKfA,AQxBA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AU9BA,AJYA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,ACHA,AavCA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,Ac1CA,AQxBA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA,A/B6FA;AIXA,AENA,AHSA,AMlBA,AsBlEA;A3BkFA,AENA,AHSA,AMlBA,AsBlEA;A3BkFA,AENA,AHSA,AMlBA,AsBlEA;A3BkFA,AENA,AHSA,AMlBA,AsBlEA;A3BkFA,AENA,AHSA,AMlBA,AsBlEA;A3BkFA,AENA,AHSA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A3BkFA,ADGA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA,A4BpFA;A5BqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Effects\", {\n  enumerable: true,\n  get: function get() {\n    return _spriteAnimator.Effects;\n  }\n});\nObject.defineProperty(exports, \"Easings\", {\n  enumerable: true,\n  get: function get() {\n    return _spriteAnimator.Easings;\n  }\n});\nObject.defineProperty(exports, \"Timeline\", {\n  enumerable: true,\n  get: function get() {\n    return _spriteAnimator.Timeline;\n  }\n});\nObject.defineProperty(exports, \"SvgPath\", {\n  enumerable: true,\n  get: function get() {\n    return _svgPathToCanvas.default;\n  }\n});\nObject.defineProperty(exports, \"BaseSprite\", {\n  enumerable: true,\n  get: function get() {\n    return _basesprite.default;\n  }\n});\nObject.defineProperty(exports, \"Sprite\", {\n  enumerable: true,\n  get: function get() {\n    return _sprite.default;\n  }\n});\nObject.defineProperty(exports, \"Label\", {\n  enumerable: true,\n  get: function get() {\n    return _label.default;\n  }\n});\nObject.defineProperty(exports, \"Layer\", {\n  enumerable: true,\n  get: function get() {\n    return _layer.default;\n  }\n});\nObject.defineProperty(exports, \"Group\", {\n  enumerable: true,\n  get: function get() {\n    return _group.default;\n  }\n});\nObject.defineProperty(exports, \"BaseNode\", {\n  enumerable: true,\n  get: function get() {\n    return _basenode.default;\n  }\n});\nObject.defineProperty(exports, \"Path\", {\n  enumerable: true,\n  get: function get() {\n    return _path.default;\n  }\n});\nObject.defineProperty(exports, \"Batch\", {\n  enumerable: true,\n  get: function get() {\n    return _batch.default;\n  }\n});\nObject.defineProperty(exports, \"use\", {\n  enumerable: true,\n  get: function get() {\n    return _use.default;\n  }\n});\nObject.defineProperty(exports, \"registerNodeType\", {\n  enumerable: true,\n  get: function get() {\n    return _dom.registerNodeType;\n  }\n});\nObject.defineProperty(exports, \"createNode\", {\n  enumerable: true,\n  get: function get() {\n    return _dom.createNode;\n  }\n});\nObject.defineProperty(exports, \"createElement\", {\n  enumerable: true,\n  get: function get() {\n    return _dom.createElement;\n  }\n});\nObject.defineProperty(exports, \"isValidNodeType\", {\n  enumerable: true,\n  get: function get() {\n    return _dom.isValidNodeType;\n  }\n});\nObject.defineProperty(exports, \"querySelector\", {\n  enumerable: true,\n  get: function get() {\n    return _dom.querySelector;\n  }\n});\nObject.defineProperty(exports, \"querySelectorAll\", {\n  enumerable: true,\n  get: function get() {\n    return _dom.querySelectorAll;\n  }\n});\nObject.defineProperty(exports, \"stylesheet\", {\n  enumerable: true,\n  get: function get() {\n    return _css.default;\n  }\n});\nexports.utils = exports.math = exports.Color = void 0;\n\nvar _spriteAnimator = require(\"sprite-animator\");\n\nvar _svgPathToCanvas = _interopRequireDefault(require(\"svg-path-to-canvas\"));\n\nvar math = _interopRequireWildcard(require(\"sprite-math\"));\n\nexports.math = math;\n\nvar utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = utils;\n\nvar _basesprite = _interopRequireDefault(require(\"./core/basesprite\"));\n\nvar _sprite = _interopRequireDefault(require(\"./core/sprite\"));\n\nvar _label = _interopRequireDefault(require(\"./core/label\"));\n\nvar _layer = _interopRequireDefault(require(\"./core/layer\"));\n\nvar _group = _interopRequireDefault(require(\"./core/group\"));\n\nvar _basenode = _interopRequireDefault(require(\"./core/basenode\"));\n\nvar _path = _interopRequireDefault(require(\"./core/path\"));\n\nvar _batch = _interopRequireDefault(require(\"./core/batch\"));\n\nvar _use = _interopRequireDefault(require(\"./core/use\"));\n\nrequire(\"./modules/animation\");\n\nrequire(\"./modules/actions\");\n\nrequire(\"./modules/layout\");\n\nvar _dom = require(\"./modules/dom\");\n\nvar _css = _interopRequireDefault(require(\"./modules/css\"));\n\n// load modules\nvar Color = utils.Color;\nexports.Color = Color;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"parseFont\", {\n  enumerable: true,\n  get: function get() {\n    return _parseFont.default;\n  }\n});\nObject.defineProperty(exports, \"createSvgPath\", {\n  enumerable: true,\n  get: function get() {\n    return _svgpath.default;\n  }\n});\nObject.defineProperty(exports, \"notice\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.notice;\n  }\n});\nObject.defineProperty(exports, \"Color\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.Color;\n  }\n});\nObject.defineProperty(exports, \"parseColor\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.parseColor;\n  }\n});\nObject.defineProperty(exports, \"oneOrTwoValues\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.oneOrTwoValues;\n  }\n});\nObject.defineProperty(exports, \"praseString\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.praseString;\n  }\n});\nObject.defineProperty(exports, \"parseStringInt\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.parseStringInt;\n  }\n});\nObject.defineProperty(exports, \"parseStringFloat\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.parseStringFloat;\n  }\n});\nObject.defineProperty(exports, \"parseColorString\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.parseColorString;\n  }\n});\nObject.defineProperty(exports, \"fourValuesShortCut\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.fourValuesShortCut;\n  }\n});\nObject.defineProperty(exports, \"eightValuesShortCut\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.eightValuesShortCut;\n  }\n});\nObject.defineProperty(exports, \"parseStringTransform\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.parseStringTransform;\n  }\n});\nObject.defineProperty(exports, \"rectVertices\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.rectVertices;\n  }\n});\nObject.defineProperty(exports, \"appendUnit\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.appendUnit;\n  }\n});\nObject.defineProperty(exports, \"sortOrderedSprites\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.sortOrderedSprites;\n  }\n});\nObject.defineProperty(exports, \"generateID\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.generateID;\n  }\n});\nObject.defineProperty(exports, \"sizeToPixel\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.sizeToPixel;\n  }\n});\nObject.defineProperty(exports, \"attr\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.attr;\n  }\n});\nObject.defineProperty(exports, \"flow\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.flow;\n  }\n});\nObject.defineProperty(exports, \"absolute\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.absolute;\n  }\n});\nObject.defineProperty(exports, \"inherit\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.inherit;\n  }\n});\nObject.defineProperty(exports, \"inheritAttributes\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.inheritAttributes;\n  }\n});\nObject.defineProperty(exports, \"setDeprecation\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.setDeprecation;\n  }\n});\nObject.defineProperty(exports, \"deprecate\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.deprecate;\n  }\n});\nObject.defineProperty(exports, \"parseValue\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.parseValue;\n  }\n});\nObject.defineProperty(exports, \"relative\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.relative;\n  }\n});\nObject.defineProperty(exports, \"cachable\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.cachable;\n  }\n});\nObject.defineProperty(exports, \"composit\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.composit;\n  }\n});\nObject.defineProperty(exports, \"decorators\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.decorators;\n  }\n});\nObject.defineProperty(exports, \"attributeNames\", {\n  enumerable: true,\n  get: function get() {\n    return _store.attributeNames;\n  }\n});\nObject.defineProperty(exports, \"relatedAttributes\", {\n  enumerable: true,\n  get: function get() {\n    return _store.relatedAttributes;\n  }\n});\nObject.defineProperty(exports, \"findColor\", {\n  enumerable: true,\n  get: function get() {\n    return _render.findColor;\n  }\n});\nObject.defineProperty(exports, \"cacheContextPool\", {\n  enumerable: true,\n  get: function get() {\n    return _render.cacheContextPool;\n  }\n});\nObject.defineProperty(exports, \"drawRadiusBox\", {\n  enumerable: true,\n  get: function get() {\n    return _render.drawRadiusBox;\n  }\n});\n\nvar _parseFont = _interopRequireDefault(require(\"./parse-font\"));\n\nvar _svgpath = _interopRequireDefault(require(\"./svgpath\"));\n\nvar _utils = require(\"./utils\");\n\nvar _decorators = require(\"./decorators\");\n\nvar _store = require(\"./store\");\n\nvar _render = require(\"./render\");","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseFont;\n\nvar _utils = require(\"./utils\");\n\n// borrow from node-canvas (https://github.com/Automattic/node-canvas)\n\n/**\n * Font RegExp helpers.\n */\nvar weights = 'bold|bolder|lighter|[1-9]00',\n    styles = 'italic|oblique',\n    variants = 'small-caps',\n    stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded',\n    units = 'px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%',\n    string = \"'([^']+)'|\\\"([^\\\"]+)\\\"|([\\\\w-]|[\\u4E00-\\u9FA5])+\"; // [ [ <‘font-style’> || <font-variant-css21> || <‘font-weight’> || <‘font-stretch’> ]?\n//    <‘font-size’> [ / <‘line-height’> ]? <‘font-family’> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\n\nvar weightRe = new RegExp(\"(\".concat(weights, \") +\"), 'i');\nvar styleRe = new RegExp(\"(\".concat(styles, \") +\"), 'i');\nvar variantRe = new RegExp(\"(\".concat(variants, \") +\"), 'i');\nvar stretchRe = new RegExp(\"(\".concat(stretches, \") +\"), 'i');\n/* eslint-disable prefer-template */\n\nvar sizeFamilyRe = new RegExp('([\\\\d\\\\.]+)(' + units + ') *' + '((?:' + string + ')( *, *(?:' + string + '))*)');\n/* eslint-enable prefer-template */\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nfunction parseFont(str, defaultHeight) {\n  // Try for required properties first.\n  var sizeFamily = sizeFamilyRe.exec(str);\n  if (!sizeFamily) return; // invalid\n  // Default values and required properties\n\n  var font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/ *, */g, ',')\n  }; // Stop search at `sizeFamily.index`\n\n  var substr = str.substring(0, sizeFamily.index); // Optional, unordered properties.\n\n  var weight = weightRe.exec(substr),\n      style = styleRe.exec(substr),\n      variant = variantRe.exec(substr),\n      stretch = stretchRe.exec(substr);\n  if (weight) font.weight = weight[1];\n  if (style) font.style = style[1];\n  if (variant) font.variant = variant[1];\n  if (stretch) font.stretch = stretch[1];\n  font.size0 = font.size;\n  font.size = (0, _utils.sizeToPixel)({\n    size: font.size0,\n    unit: font.unit\n  }, defaultHeight);\n\n  if (font.unit === 'vw' || font.unit === 'vh') {\n    if (typeof document !== 'undefined' && document.documentElement) {\n      var _document$documentEle = document.documentElement,\n          clientWidth = _document$documentEle.clientWidth,\n          clientHeight = _document$documentEle.clientHeight;\n      var val = font.unit === 'vw' ? clientWidth : clientHeight;\n      font.size = val * font.size / 100;\n    }\n  }\n\n  return font;\n}\n/* eslint-enable */","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseColor = parseColor;\nexports.parseColorString = parseColorString;\nexports.parseStringTransform = parseStringTransform;\nexports.parseValuesString = parseValuesString;\nexports.praseString = praseString;\nexports.parseStringInt = parseStringInt;\nexports.parseStringFloat = parseStringFloat;\nexports.oneOrTwoValues = oneOrTwoValues;\nexports.fourValuesShortCut = fourValuesShortCut;\nexports.eightValuesShortCut = eightValuesShortCut;\nexports.rectVertices = rectVertices;\nexports.appendUnit = appendUnit;\nexports.sortOrderedSprites = sortOrderedSprites;\nexports.notice = notice;\nexports.generateID = generateID;\nexports.sizeToPixel = sizeToPixel;\nexports.Color = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar colorString = require('color-string');\n\nvar Color =\n/*#__PURE__*/\nfunction () {\n  function Color(color) {\n    (0, _classCallCheck2.default)(this, Color);\n\n    if (typeof color === 'string') {\n      var _colorString$get = colorString.get(color || 'rgba(0,0,0,1)'),\n          model = _colorString$get.model,\n          value = _colorString$get.value;\n\n      this.model = model;\n      this.value = value;\n    } else {\n      this.model = color.model;\n      this.value = color.value;\n    }\n  }\n\n  (0, _createClass2.default)(Color, [{\n    key: \"toString\",\n    value: function toString() {\n      var _this$value = (0, _slicedToArray2.default)(this.value, 4),\n          a = _this$value[0],\n          b = _this$value[1],\n          c = _this$value[2],\n          d = _this$value[3];\n\n      var model = this.model;\n\n      if (model === 'rgb') {\n        return \"\".concat(model, \"a(\").concat(a, \",\").concat(b, \",\").concat(c, \",\").concat(d, \")\");\n      }\n\n      return \"\".concat(model, \"a(\").concat(a, \",\").concat(b, \"%,\").concat(c, \"%,\").concat(d, \")\");\n    }\n  }, {\n    key: \"str\",\n    get: function get() {\n      return String(this);\n    }\n  }]);\n  return Color;\n}();\n\nexports.Color = Color;\n\nfunction parseColor(color) {\n  return new Color(color);\n}\n\nfunction parseColorString(color) {\n  if (color && typeof color === 'string' && color !== 'inherit') {\n    return parseColor(color).toString();\n  }\n\n  return color;\n}\n\nfunction parseStringTransform(str) {\n  if (typeof str !== 'string') return str;\n  var rules = str.match(/(?:^|\\s)+((?:scale|rotate|translate|skew|matrix)\\([^()]+\\))/g);\n  var ret = {};\n\n  if (rules) {\n    rules.forEach(function (rule) {\n      var matched = rule.match(/(scale|rotate|translate|skew|matrix)\\(([^()]+)\\)/);\n\n      var _matched = (0, _slicedToArray2.default)(matched, 3),\n          m = _matched[1],\n          v = _matched[2];\n\n      if (m === 'rotate') {\n        ret[m] = parseStringFloat(v)[0];\n      } else {\n        ret[m] = parseStringFloat(v);\n      }\n    });\n  }\n\n  return ret;\n}\n\nfunction parseValuesString(str, parser) {\n  if (typeof str === 'string' && str !== '' && str !== 'inherit') {\n    var values = str.split(/[\\s,]+/g);\n    return values.map(function (v) {\n      var ret = parser ? parser(v) : v;\n      return Number.isNaN(ret) ? v : ret;\n    });\n  }\n\n  return str;\n}\n\nfunction praseString(str) {\n  return parseValuesString(str);\n}\n\nfunction parseStringInt(str) {\n  return parseValuesString(str, parseInt);\n}\n\nfunction parseStringFloat(str) {\n  return parseValuesString(str, function (v) {\n    if (v === 'center') return 0.5;\n    if (v === 'left' || v === 'top') return 0;\n    if (v === 'right' || v === 'bottom') return 1;\n    return parseFloat(v);\n  });\n}\n\nfunction oneOrTwoValues(val) {\n  if (!Array.isArray(val)) {\n    return [val, val];\n  }\n\n  if (val.length === 1) {\n    return [val[0], val[0]];\n  }\n\n  return val;\n}\n\nfunction fourValuesShortCut(val) {\n  if (!Array.isArray(val)) {\n    return [val, val, val, val];\n  }\n\n  if (val.length === 1) {\n    return [val[0], val[0], val[0], val[0]];\n  }\n\n  if (val.length === 2) {\n    return [val[0], val[1], val[0], val[1]];\n  }\n\n  return (0, _toConsumableArray2.default)(val).concat([0, 0, 0, 0]).slice(0, 4);\n}\n\nfunction eightValuesShortCut(val) {\n  if (!Array.isArray(val)) {\n    return [val, val, val, val, val, val, val, val];\n  }\n\n  if (val.length === 1) {\n    return eightValuesShortCut(val[0]);\n  }\n\n  if (val.length === 2) {\n    return [val[0], val[1], val[0], val[1], val[0], val[1], val[0], val[1]];\n  }\n\n  if (val.length === 4) {\n    return [val[0], val[1], val[2], val[3], val[0], val[1], val[2], val[3]];\n  }\n\n  return (0, _toConsumableArray2.default)(val).concat([0, 0, 0, 0, 0, 0, 0, 0]).slice(0, 8);\n}\n\nfunction rectVertices(rect) {\n  var _rect = (0, _slicedToArray2.default)(rect, 4),\n      x = _rect[0],\n      y = _rect[1],\n      w = _rect[2],\n      h = _rect[3];\n\n  return [[x, y], [x + w, y], [x + w, y + h], [x, y + h]];\n}\n\nfunction appendUnit(value) {\n  var defaultUnit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'px';\n\n  if (value === '') {\n    return value;\n  }\n\n  if (typeof value === 'string' && Number.isNaN(Number(value))) {\n    return value;\n  }\n\n  return value + defaultUnit;\n}\n\nfunction sortOrderedSprites(sprites) {\n  var reversed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return (0, _toConsumableArray2.default)(sprites).sort(function (a, b) {\n    if (reversed) {\n      var _ref = [b, a];\n      a = _ref[0];\n      b = _ref[1];\n    }\n\n    if (a.zIndex === b.zIndex) {\n      return a.zOrder - b.zOrder;\n    }\n\n    return a.zIndex - b.zIndex;\n  });\n}\n\nvar noticed = new Set();\n\nfunction notice(msg) {\n  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'warn';\n\n  if (typeof console !== 'undefined' && !noticed.has(msg)) {\n    console[level](msg); // eslint-disable-line no-console\n\n    noticed.add(msg);\n  }\n}\n\nvar IDMap = new WeakMap();\n\nfunction generateID(obj) {\n  if (IDMap.has(obj)) {\n    return IDMap.get(obj);\n  }\n\n  var id = Math.random().toString(36).slice(2);\n  IDMap.set(obj, id);\n  return id;\n}\n\nfunction sizeToPixel(value, defaultWidth) {\n  // eslint-disable-line complexity\n  if (typeof value === 'string') {\n    var matched = value.trim().match(/^([\\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%)$/);\n\n    if (matched) {\n      value = {\n        size: parseFloat(matched[1]),\n        unit: matched[2]\n      };\n    } else {\n      value = {\n        size: parseInt(value, 10),\n        unit: 'px'\n      };\n    }\n  }\n\n  var _value = value,\n      size = _value.size,\n      unit = _value.unit;\n\n  if (unit === 'pt') {\n    size /= 0.75;\n  } else if (unit === 'pc') {\n    size *= 16;\n  } else if (unit === 'in') {\n    size *= 96;\n  } else if (unit === 'cm') {\n    size *= 96.0 / 2.54;\n  } else if (unit === 'mm') {\n    size *= 96.0 / 25.4;\n  } else if (unit === 'em' || unit === 'rem' || unit === 'ex') {\n    if (!defaultWidth && typeof getComputedStyle === 'function' && typeof document !== 'undefined') {\n      var root = getComputedStyle(document.documentElement).fontSize;\n      defaultWidth = sizeToPixel(root, 16);\n    }\n\n    size *= defaultWidth;\n    if (unit === 'ex') size /= 2;\n  } else if (unit === 'q') {\n    size *= 96.0 / 25.4 / 4;\n  } else if (unit === 'vw' || unit === 'vh') {\n    if (typeof document !== 'undefined') {\n      var val = unit === 'vw' ? document.documentElement.clientWidth : document.documentElement.clientHeight;\n      size *= val / 100;\n    }\n  } else if (unit === 'vmax' || unit === 'vmin') {\n    if (typeof document !== 'undefined') {\n      var width = document.documentElement.clientWidth;\n      var height = document.documentElement.clientHeight;\n\n      if (unit === 'vmax') {\n        size *= Math.max(width, height) / 100;\n      } else {\n        size *= Math.min(width, height) / 100;\n      }\n    }\n  }\n\n  return size;\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgPath;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _svgPathToCanvas = _interopRequireDefault(require(\"svg-path-to-canvas\"));\n\nfunction createSvgPath(path) {\n  if (typeof path === 'string') path = {\n    d: path\n  };\n  var p = new _svgPathToCanvas.default(path.d);\n\n  if (path.transform || path.trim) {\n    if (path.transform) {\n      Object.entries(path.transform).forEach(function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (!Array.isArray(value)) value = [value];\n        p[key].apply(p, (0, _toConsumableArray2.default)(value));\n      });\n    }\n\n    if (path.trim) {\n      p.trim();\n    }\n  }\n\n  return p;\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.attr = attr;\nexports.composit = composit;\nexports.cachable = cachable;\nexports.inherit = inherit;\nexports.relative = relative;\nexports.flow = flow;\nexports.absolute = absolute;\nexports.setDeprecation = setDeprecation;\nexports.deprecate = deprecate;\nexports.parseValue = parseValue;\nexports.decorators = decorators;\nexports.inheritAttributes = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _utils = require(\"./utils\");\n\nvar _store = require(\"./store\");\n\nvar _attrAbsolute = Symbol('attrAbsolute');\n/* eslint-disable prefer-rest-params */\n\n\nfunction polyfillLegacy(target, key, descriptor) {\n  return {\n    target: target,\n    key: key,\n    descriptor: descriptor\n  };\n}\n\nfunction getPV(subject, relative) {\n  var parent = subject.parent;\n  var pv = null;\n\n  if (parent) {\n    var attrSize = parent.attrSize;\n\n    if (attrSize) {\n      var attrV = relative === 'pw' ? attrSize[0] : attrSize[1];\n\n      while (attrSize && attrV === '') {\n        // flexible value\n        parent = parent.parent;\n        attrSize = parent.attrSize;\n      }\n    }\n\n    if (relative === 'pw') {\n      pv = attrSize ? parent.contentSize[0] : parent.resolution[0];\n    } else if (relative === 'ph') {\n      pv = attrSize ? parent.contentSize[1] : parent.resolution[1];\n    }\n  }\n\n  return pv;\n}\n\nfunction attr(options) {\n  var cache = false,\n      reflow = false,\n      relayout = false,\n      quiet = false,\n      value = null,\n      extra = null;\n\n  var decorator = function decorator(elementDescriptor) {\n    if (arguments.length === 3) {\n      elementDescriptor = polyfillLegacy.apply(this, arguments);\n    }\n\n    var _elementDescriptor = elementDescriptor,\n        key = _elementDescriptor.key,\n        kind = _elementDescriptor.kind;\n\n    _store.attributeNames.add(key);\n\n    if (quiet && (cache || reflow || relayout)) {\n      throw new Error(\"\".concat(key, \": quietSet cannot enable cache or reflow or relayout\"));\n    } // let _symbolKey = key;\n\n\n    var defaultValue = value != null ? value : elementDescriptor.value;\n    var relativeType = elementDescriptor.descriptor.__relative;\n    var inheritValue = elementDescriptor.descriptor.__inherit;\n    var composit = elementDescriptor.descriptor.__composit;\n\n    if (kind === 'field') {\n      defaultValue = elementDescriptor.initializer ? elementDescriptor.initializer() : value; // _symbolKey = Symbol(key);\n\n      var setter = quiet ? function (val) {\n        this.quietSet(key, val);\n      } : function (val) {\n        this.set(key, val);\n      };\n      elementDescriptor = {\n        kind: 'method',\n        key: key,\n        placement: 'prototype',\n        descriptor: {\n          configurable: true,\n          enumerable: true,\n          set: setter,\n          get: function get() {\n            return this.get(key);\n          }\n        }\n      };\n    }\n\n    if (relativeType) {\n      elementDescriptor = applyRative(elementDescriptor, relativeType);\n    }\n\n    if (inheritValue) {\n      elementDescriptor = applyInherit(elementDescriptor, inheritValue.defaultValue);\n    }\n\n    var descriptor = elementDescriptor.descriptor;\n    var _getter = descriptor.get;\n\n    if (!_getter) {\n      _getter = function _getter() {\n        var ret = this.get(key);\n        return ret != null ? ret : this.getDefaultValue(key, defaultValue);\n      };\n    }\n\n    if (composit) {\n      if (cache || reflow || relayout || quiet || value || extra) {\n        throw new Error('Cannot apply state to composit attribute.');\n      }\n\n      descriptor.get = _getter;\n    } else if (!relativeType && !inheritValue) {\n      descriptor.get = function () {\n        var ret = _getter.call(this);\n\n        return ret != null ? ret : this.getDefaultValue(key, defaultValue);\n      };\n    } else if (relativeType) {\n      // enable set default to user defined getter\n      descriptor.get = function () {\n        var ret = _getter.call(this);\n\n        var subject = this.subject;\n\n        if (ret == null) {\n          ret = this.getDefaultValue(key, defaultValue);\n        } else if (ret.relative) {\n          var _relative = ret.relative.trim();\n\n          if (_relative === 'pw' || _relative === 'ph') {\n            var pv = getPV(subject, _relative);\n\n            if (pv !== ret.pv) {\n              this[key] = ret.rv;\n              return this[key];\n            }\n\n            subject.cache = null;\n\n            if (subject[_attrAbsolute]) {\n              return pv * ret.v;\n            }\n\n            return ret.rv;\n          }\n\n          if (_relative === 'rw' || _relative === 'rh') {\n            var layer = subject.layer;\n            var _pv = null;\n\n            if (layer) {\n              if (_relative === 'rw') {\n                _pv = layer.resolution[0];\n              } else if (_relative === 'rh') {\n                _pv = layer.resolution[1];\n              }\n            }\n\n            if (_pv !== ret.pv) {\n              this[key] = ret.rv;\n              return this[key];\n            }\n\n            subject.cache = null;\n\n            if (subject[_attrAbsolute]) {\n              return _pv * ret.v;\n            }\n\n            return ret.rv;\n          }\n        }\n\n        return ret;\n      };\n    } else {\n      // enable set default to user defined getter\n      descriptor.get = function () {\n        var ret = _getter.call(this);\n\n        var subject = this.subject;\n\n        if (ret == null) {\n          ret = this.getDefaultValue(key, defaultValue);\n        }\n\n        if (ret === 'inherit') {\n          var _value = null;\n          var parent = subject.parent;\n\n          while (parent && parent.attr) {\n            _value = parent.attr(key);\n            if (_value != null) break;\n            parent = parent.parent;\n          }\n\n          return _value != null ? _value : this.__inheritDefaults[key];\n        }\n\n        return ret;\n      };\n    }\n\n    if (!composit) {\n      var _setter = descriptor.set;\n\n      var _clearCache = !(descriptor.__cachable || cache);\n\n      descriptor.set = function (val) {\n        var subject = this.subject;\n        this.__updateTag = false;\n        this.__reflowTag = reflow;\n        this.__clearLayout = relayout;\n\n        if (!this.__styleTag && val != null && this.__attributesSet) {\n          this.__attributesSet.add(key);\n        }\n\n        if (!this.__styleTag && val == null && this.__attributesSet) {\n          if (this.__attributesSet.has(key)) {\n            this.__attributesSet.delete(key);\n          }\n        }\n\n        _setter.call(this, val);\n\n        if (subject && !this.__quietTag && this.__updateTag) {\n          var clearLayout = this.__clearLayout;\n\n          if (this.__reflowTag) {\n            // reflow must before clearLayout because boxOffsetSize is also flowed.\n            subject.reflow();\n          }\n\n          if (subject.hasLayout) {\n            var offsetSize = subject.boxOffsetSize,\n                layoutSize = subject.__lastLayout;\n            clearLayout |= !layoutSize || offsetSize[0] !== layoutSize[0] || offsetSize[1] !== layoutSize[1];\n            subject.__lastLayout = offsetSize;\n          }\n\n          if (clearLayout) subject.clearLayout();\n          subject.forceUpdate(_clearCache);\n        }\n\n        if (this.__updateTag) {\n          if (_store.relatedAttributes.has(key)) {\n            subject.updateStyles();\n          }\n\n          if (extra) {\n            this[extra](key, val);\n          }\n        }\n      }; // delete this.__reflowTag;\n      // delete this.__updateTag;\n\n    }\n\n    if (arguments.length === 3) return elementDescriptor.descriptor;\n    return elementDescriptor;\n  };\n\n  if (options.descriptor) {\n    return decorator(options);\n  }\n\n  if (arguments.length === 3) {\n    return decorator.apply(this, arguments);\n  }\n\n  quiet = !!options.quiet;\n  cache = !!options.cache;\n  reflow = !!options.reflow;\n  relayout = !!options.relayout;\n  value = options.value;\n  extra = options.extra;\n  return decorator;\n}\n\nfunction composit(struct) {\n  return function (elementDescriptor) {\n    if (arguments.length === 3) {\n      elementDescriptor = polyfillLegacy.apply(this, arguments);\n    }\n\n    var _elementDescriptor2 = elementDescriptor,\n        kind = _elementDescriptor2.kind,\n        key = _elementDescriptor2.key;\n\n    if (kind !== 'field') {\n      throw new Error(\"Invalid composit attribute \".concat(key));\n    }\n\n    elementDescriptor.kind = 'method';\n    var set, get;\n\n    if (typeof struct === 'string') {\n      set = function set(val) {\n        this[struct] = val;\n      };\n\n      get = function get() {\n        return this[struct];\n      };\n    } else if (Array.isArray(struct)) {\n      set = function set(val) {\n        var _this = this;\n\n        struct.forEach(function (key, i) {\n          _this[key] = val != null ? val[i] : null;\n        });\n      };\n\n      get = function get() {\n        var _this2 = this;\n\n        return struct.map(function (key) {\n          return _this2[key];\n        });\n      };\n    } else {\n      struct = Object.entries(struct);\n\n      set = function set(val) {\n        var _this3 = this;\n\n        struct.forEach(function (_ref) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              prop = _ref2[0],\n              key = _ref2[1];\n\n          _this3[key] = val != null ? val[prop] : null;\n        });\n      };\n\n      get = function get() {\n        var _this4 = this;\n\n        var ret = {};\n        struct.forEach(function (_ref3) {\n          var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n              prop = _ref4[0],\n              key = _ref4[1];\n\n          ret[prop] = _this4[key];\n        });\n        return ret;\n      };\n    }\n\n    elementDescriptor.descriptor = {\n      get: get,\n      set: set,\n      __composit: true\n    };\n    if (arguments.length === 3) return elementDescriptor.descriptor;\n    return elementDescriptor;\n  };\n} // after attr\n\n\nfunction cachable(elementDescriptor) {\n  if (arguments.length === 3) {\n    elementDescriptor = polyfillLegacy.apply(this, arguments);\n  }\n\n  var _elementDescriptor3 = elementDescriptor,\n      descriptor = _elementDescriptor3.descriptor;\n  descriptor.__cachable = true;\n  if (arguments.length === 3) return elementDescriptor.descriptor;\n  return elementDescriptor;\n}\n\nvar inheritAttributes = new Set(); // after attr\n\nexports.inheritAttributes = inheritAttributes;\n\nfunction inherit() {\n  var defaultValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return function (elementDescriptor) {\n    if (arguments.length === 3) {\n      elementDescriptor = polyfillLegacy.apply(this, arguments);\n    }\n\n    var _elementDescriptor4 = elementDescriptor,\n        descriptor = _elementDescriptor4.descriptor;\n    descriptor.__inherit = {\n      defaultValue: defaultValue\n    };\n    if (arguments.length === 3) return elementDescriptor.descriptor;\n    return elementDescriptor;\n  };\n}\n\nfunction applyInherit(elementDescriptor, defaultValue) {\n  var key = elementDescriptor.key,\n      _finisher = elementDescriptor.finisher,\n      target = elementDescriptor.target;\n  inheritAttributes.add(key);\n\n  if (target) {\n    if (!target.hasOwnProperty('__inheritDefaults')) {\n      // eslint-disable-line no-prototype-builtins\n      target.__inheritDefaults = Object.create(target.__inheritDefaults || null);\n    }\n\n    target.__inheritDefaults[key] = defaultValue;\n    return elementDescriptor;\n  }\n\n  return (0, _objectSpread2.default)({}, elementDescriptor, {\n    finisher: function finisher(klass) {\n      if (_finisher) _finisher(klass);\n      var proto = klass.prototype;\n\n      if (!proto.hasOwnProperty('__inheritDefaults')) {\n        // eslint-disable-line no-prototype-builtins\n        proto.__inheritDefaults = Object.create(proto.__inheritDefaults || null);\n      }\n\n      proto.__inheritDefaults[key] = defaultValue;\n    }\n  });\n} // after attr\n// relative -> width | height\n\n\nfunction relative() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'width';\n  return function (elementDescriptor) {\n    if (arguments.length === 3) {\n      elementDescriptor = polyfillLegacy.apply(this, arguments);\n    }\n\n    var _elementDescriptor5 = elementDescriptor,\n        descriptor = _elementDescriptor5.descriptor;\n    descriptor.__relative = type;\n    if (arguments.length === 3) return elementDescriptor.descriptor;\n    return elementDescriptor;\n  };\n}\n\nfunction applyRative(elementDescriptor, type) {\n  var descriptor = elementDescriptor.descriptor;\n  var setter = descriptor.set;\n\n  descriptor.set = function (val) {\n    if (typeof val === 'string') {\n      val = val.trim();\n\n      if (val.slice(-1) === '%') {\n        var _relative2 = type === 'width' ? 'pw' : 'ph';\n\n        var pv = getPV(this.subject, _relative2);\n        val = {\n          relative: _relative2,\n          pv: pv,\n          v: parseFloat(val) / 100,\n          rv: val\n        };\n      } else {\n        var _relative3 = val.slice(-2);\n\n        if (_relative3 === 'rw' || _relative3 === 'rh') {\n          var _pv2 = null;\n          var layer = this.subject.layer;\n\n          if (layer) {\n            _pv2 = layer.resolution[_relative3 === 'rw' ? 0 : 1];\n          }\n\n          val = {\n            relative: _relative3,\n            pv: _pv2,\n            v: parseFloat(val) / 100,\n            rv: val\n          };\n        } else {\n          val = val ? parseFloat(val) : val;\n        }\n      }\n    }\n\n    setter.call(this, val);\n  };\n\n  return elementDescriptor;\n}\n\nfunction flow(elementDescriptor) {\n  if (arguments.length === 3) {\n    elementDescriptor = polyfillLegacy.apply(this, arguments);\n  }\n\n  var _elementDescriptor6 = elementDescriptor,\n      descriptor = _elementDescriptor6.descriptor,\n      key = _elementDescriptor6.key;\n\n  if (descriptor.get) {\n    var _getter = descriptor.get;\n\n    descriptor.get = function () {\n      var ret = this.flow(key);\n\n      if (ret === undefined) {\n        ret = _getter.call(this);\n        this.flow(key, ret);\n      }\n\n      return ret;\n    };\n  }\n\n  if (arguments.length === 3) return elementDescriptor.descriptor;\n  return elementDescriptor;\n} // set tag force to get absolute value from relative attributes\n\n\nfunction absolute(elementDescriptor) {\n  if (arguments.length === 3) {\n    elementDescriptor = polyfillLegacy.apply(this, arguments);\n  }\n\n  var _elementDescriptor7 = elementDescriptor,\n      descriptor = _elementDescriptor7.descriptor;\n\n  if (descriptor.get) {\n    var _getter = descriptor.get;\n\n    descriptor.get = function () {\n      this[_attrAbsolute] = true;\n\n      var ret = _getter.call(this);\n\n      this[_attrAbsolute] = false;\n      return ret;\n    };\n  }\n\n  if (arguments.length === 3) return elementDescriptor.descriptor;\n  return elementDescriptor;\n}\n\nfunction setDeprecation(apiName) {\n  var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  msg = \"[Deprecation] \".concat(apiName, \" has been deprecated.\").concat(msg);\n  (0, _utils.notice)(msg);\n}\n\nfunction deprecate(msg) {\n  var apiName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var decorator = function decorator(elementDescriptor) {\n    if (arguments.length === 3) {\n      elementDescriptor = polyfillLegacy.apply(this, arguments);\n    }\n\n    var _elementDescriptor8 = elementDescriptor,\n        descriptor = _elementDescriptor8.descriptor,\n        key = _elementDescriptor8.key;\n    apiName = apiName || \"Method \".concat(key);\n\n    if (typeof descriptor.value === 'function') {\n      var func = descriptor.value;\n\n      descriptor.value = function () {\n        setDeprecation(apiName, msg);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return func.apply(this, args);\n      };\n    }\n\n    if (descriptor.set) {\n      var setter = descriptor.set;\n\n      descriptor.set = function (val) {\n        setDeprecation(apiName, msg);\n        return setter.call(this, val);\n      };\n    }\n\n    if (descriptor.get) {\n      var getter = descriptor.get;\n\n      descriptor.get = function () {\n        setDeprecation(apiName, msg);\n        return getter.call(this);\n      };\n    }\n\n    if (arguments.length === 3) return elementDescriptor.descriptor;\n    return elementDescriptor;\n  };\n\n  if (msg.descriptor) {\n    return decorator(msg);\n  }\n\n  if (arguments.length === 3) {\n    return decorator.apply(this, arguments);\n  }\n\n  return decorator;\n} // before attr\n\n\nfunction parseValue() {\n  for (var _len2 = arguments.length, parsers = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    parsers[_key2] = arguments[_key2];\n  }\n\n  return function (elementDescriptor) {\n    if (arguments.length === 3) {\n      elementDescriptor = polyfillLegacy.apply(this, arguments);\n    }\n\n    var _elementDescriptor9 = elementDescriptor,\n        descriptor = _elementDescriptor9.descriptor;\n    var setter = descriptor.set;\n\n    descriptor.set = function (val) {\n      if (val != null && val !== '' && val !== 'inherit') {\n        val = parsers.reduce(function (v, parser) {\n          return parser(v);\n        }, val);\n      }\n\n      setter.call(this, val);\n    };\n\n    if (arguments.length === 3) return elementDescriptor.descriptor;\n    return elementDescriptor;\n  };\n} // return a function to apply any decorators to a descriptor\n\n\nfunction decorators() {\n  for (var _len3 = arguments.length, funcs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    funcs[_key3] = arguments[_key3];\n  }\n\n  return function (key, value, descriptor) {\n    var elementDescriptor;\n\n    if (!descriptor) {\n      elementDescriptor = key;\n    } else {\n      elementDescriptor = {\n        key: key,\n        descriptor: descriptor,\n        value: value\n      };\n    }\n\n    var ret = funcs.reduceRight(function (a, b) {\n      return b.call(this, a);\n    }, elementDescriptor);\n    return ret && ret.descriptor;\n  };\n}\n/* eslint-enable prefer-rest-params */","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.relatedAttributes = exports.attributeNames = void 0;\nvar attributeNames = new Set();\nexports.attributeNames = attributeNames;\nvar relatedAttributes = new Set();\nexports.relatedAttributes = relatedAttributes;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawRadiusBox = drawRadiusBox;\nexports.findColor = findColor;\nexports.cacheContextPool = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\n// export function drawRadiusBox(context, {x, y, w, h, r}) {\n//   // avoid radius larger than width or height\n//   r = Math.min(r, Math.floor(Math.min(w, h) / 2));\n//   // avoid radius is negative\n//   r = Math.max(r, 0);\n//   context.beginPath();\n//   context.moveTo(x + r, y);\n//   context.arcTo(x + w, y, x + w, y + h, r);\n//   context.arcTo(x + w, y + h, x, y + h, r);\n//   context.arcTo(x, y + h, x, y, r);\n//   context.arcTo(x, y, x + w, y, r);\n//   context.closePath();\n// }\nfunction drawEllipseBorder(ctx, x, y, w, h) {\n  var pos = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'leftTop';\n  var kappa = 0.5522848,\n      ox = w / 2 * kappa,\n      // control point offset horizontal\n  oy = h / 2 * kappa,\n      // control point offset vertical\n  xe = x + w,\n      // x-end\n  ye = y + h,\n      // y-end\n  xm = x + w / 2,\n      // x-middle\n  ym = y + h / 2; // y-middle\n\n  if (pos === 'leftTop') {\n    ctx.moveTo(x, ym);\n    ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n  } else if (pos === 'rightTop') {\n    ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n  } else if (pos === 'rightBottom') {\n    ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n  } else if (pos === 'leftBottom') {\n    ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n  }\n}\n\nfunction drawRadiusBox(context, _ref, radius) {\n  var _ref2 = (0, _slicedToArray2.default)(_ref, 4),\n      x = _ref2[0],\n      y = _ref2[1],\n      w = _ref2[2],\n      h = _ref2[3];\n\n  if (!radius) {\n    context.beginPath();\n    context.rect(x, y, w, h);\n  } else {\n    if (!radius) radius = [0, 0, 0, 0, 0, 0, 0, 0];\n    if (typeof radius === 'number') radius = Array(8).fill(radius);\n\n    var _radius$map = radius.map(function (r, i) {\n      if (i % 2) return Math.min(r, h / 2);\n      return Math.min(r, w / 2);\n    }),\n        _radius$map2 = (0, _slicedToArray2.default)(_radius$map, 8),\n        tl0 = _radius$map2[0],\n        tl1 = _radius$map2[1],\n        tr0 = _radius$map2[2],\n        tr1 = _radius$map2[3],\n        br0 = _radius$map2[4],\n        br1 = _radius$map2[5],\n        bl0 = _radius$map2[6],\n        bl1 = _radius$map2[7];\n\n    context.beginPath();\n    context.moveTo(x, y + tl1);\n    drawEllipseBorder(context, x, y, tl0 * 2, tl1 * 2, 'leftTop');\n    context.lineTo(x + w - tr0, y);\n    drawEllipseBorder(context, x + w - tr0 * 2, y, tr0 * 2, tr1 * 2, 'rightTop');\n    context.lineTo(x + w, y + h - br1);\n    drawEllipseBorder(context, x + w - br0 * 2, y + h - br1 * 2, br0 * 2, br1 * 2, 'rightBottom');\n    context.lineTo(x + bl0, y + h);\n    drawEllipseBorder(context, x, y + h - bl1 * 2, bl0 * 2, bl1 * 2, 'leftBottom');\n    context.closePath();\n  }\n}\n/* istanbul ignore next  */\n\n\nfunction gradientBox(angle, rect) {\n  var _rect = (0, _slicedToArray2.default)(rect, 4),\n      x = _rect[0],\n      y = _rect[1],\n      w = _rect[2],\n      h = _rect[3];\n\n  angle %= 360;\n\n  if (angle < 0) {\n    angle += 360;\n  }\n\n  var ret = [x, y, x + w, y + h];\n\n  if (angle >= 0 && angle < 90) {\n    var tan = Math.tan(Math.PI * angle / 180);\n    var d = tan * w;\n\n    if (d <= h) {\n      ret = [x, y, x + w, y + d];\n    } else {\n      d = h / tan;\n      ret = [x, y, x + d, y + h];\n    }\n  } else if (angle >= 90 && angle < 180) {\n    var _tan = Math.tan(Math.PI * (angle - 90) / 180);\n\n    var _d = _tan * h;\n\n    if (_d <= w) {\n      ret = [x + w, y, x + w - _d, y + h];\n    } else {\n      _d = w / _tan;\n      ret = [x + w, y, x, y + _d];\n    }\n  } else if (angle >= 180 && angle < 270) {\n    var _tan2 = Math.tan(Math.PI * (angle - 180) / 180);\n\n    var _d2 = _tan2 * w;\n\n    if (_d2 <= h) {\n      ret = [x + w, y + h, x, y + h - _d2];\n    } else {\n      _d2 = h / _tan2;\n      ret = [x + w, y + h, x + w - _d2, y];\n    }\n  } else if (angle >= 270 && angle < 360) {\n    var _tan3 = Math.tan(Math.PI * (angle - 270) / 180);\n\n    var _d3 = _tan3 * h;\n\n    if (_d3 <= w) {\n      ret = [x, y + h, x + _d3, y];\n    } else {\n      _d3 = w / _tan3;\n      ret = [x, y + h, x + w, y + h - _d3];\n    }\n  }\n\n  return ret;\n}\n\nfunction findColor(context, sprite, prop) {\n  var gradients = sprite.attr('gradients') || {};\n  var color = prop === 'border' ? sprite.attr(prop).color : sprite.attr(prop),\n      gradient;\n\n  if (gradients[prop]) {\n    /* istanbul ignore next */\n    gradient = gradients[prop];\n  } else if (typeof color !== 'string') {\n    gradient = color;\n  }\n\n  if (gradient) {\n    var _gradient = gradient,\n        colors = _gradient.colors,\n        vector = _gradient.vector,\n        direction = _gradient.direction,\n        rect = _gradient.rect;\n    /* istanbul ignore if  */\n\n    if (direction != null) {\n      if (prop === 'border') {\n        rect = rect || [0, 0].concat((0, _toConsumableArray2.default)(sprite.outerSize));\n      } else {\n        var _sprite$attr = sprite.attr('border'),\n            borderWidth = _sprite$attr.width;\n\n        rect = rect || [borderWidth, borderWidth].concat((0, _toConsumableArray2.default)(sprite.innerSize));\n      }\n\n      vector = gradientBox(direction, rect);\n    }\n\n    if (vector.length === 4) {\n      color = context.createLinearGradient.apply(context, (0, _toConsumableArray2.default)(vector));\n    } else if (vector.length === 6) {\n      color = context.createRadialGradient.apply(context, (0, _toConsumableArray2.default)(vector));\n    }\n    /* istanbul ignore next  */\n    else if (vector.length === 3) {\n        // for wxapp\n        color = context.createCircularGradient.apply(context, (0, _toConsumableArray2.default)(vector));\n      }\n      /* istanbul ignore next  */\n      else {\n          throw Error('Invalid gradient vector!');\n        }\n\n    colors.forEach(function (o) {\n      color.addColorStop(o.offset, o.color);\n    });\n  }\n\n  return color;\n}\n\nvar contextPool = [],\n    contextReady = [],\n    maxPollSize = 50;\nvar cacheContextPool = {\n  get: function get(context) {\n    if (contextReady.length > 0) {\n      return contextReady.pop();\n    }\n\n    var canvas = context.canvas;\n\n    if (!canvas || !canvas.cloneNode) {\n      return;\n    }\n\n    var copied = canvas.cloneNode();\n    return copied.getContext('2d');\n  },\n  flush: function flush() {\n    contextReady.push.apply(contextReady, contextPool);\n    contextPool.length = 0;\n  },\n  put: function put() {\n    var size = this.size;\n\n    for (var _len = arguments.length, contexts = new Array(_len), _key = 0; _key < _len; _key++) {\n      contexts[_key] = arguments[_key];\n    }\n\n    contexts.every(function (context) {\n      var ret = size++ < maxPollSize;\n\n      if (ret) {\n        context.canvas.width = 0;\n        context.canvas.height = 0;\n        contextPool.push(context);\n      }\n\n      return ret;\n    });\n  },\n\n  get size() {\n    return contextPool.length + contextReady.length;\n  }\n\n};\nexports.cacheContextPool = cacheContextPool;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _spriteMath = require(\"sprite-math\");\n\nvar _spriteAnimator = require(\"sprite-animator\");\n\nvar _utils = require(\"../utils\");\n\nvar _baseattr = _interopRequireDefault(require(\"./baseattr\"));\n\nvar _basenode = _interopRequireDefault(require(\"./basenode\"));\n\nvar _filters = _interopRequireDefault(require(\"./filters\"));\n\nvar _animations = Symbol('animations'),\n    _cachePriority = Symbol('cachePriority'),\n    _effects = Symbol('effects'),\n    _flow = Symbol('flow'),\n    _releaseKeys = Symbol('releaseKeys');\n\nvar CACHE_PRIORITY_THRESHOLDS = 6; // const CACHE_PRIORITY_THRESHOLDS = 0; // disable cache_priority, for canvas drawing bug...\n\nvar BaseSprite = (0, _decorate2.default)(null, function (_initialize, _BaseNode) {\n  var BaseSprite =\n  /*#__PURE__*/\n  function (_BaseNode2) {\n    (0, _inherits2.default)(BaseSprite, _BaseNode2);\n\n    /**\n      new Sprite({\n        attr: {\n          ...\n        }\n      })\n     */\n    function BaseSprite(attrs) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, BaseSprite);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(BaseSprite).call(this, attrs));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      _this[_animations] = new Set();\n      _this[_cachePriority] = 0;\n      _this[_flow] = {};\n      _this[_releaseKeys] = new Set();\n      return _this;\n    }\n\n    return BaseSprite;\n  }(_BaseNode);\n\n  return {\n    F: BaseSprite,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"Attr\",\n      value: function value() {\n        return _baseattr.default;\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"setAttributeEffects\",\n      value: function value() {\n        var effects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        if (this.prototype[_effects] == null) {\n          this.prototype[_effects] = effects;\n        }\n\n        Object.assign(this.prototype[_effects], effects);\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"addAttributes\",\n      value: function value() {\n        var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return this.Attr.addAttributes(attrs);\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"defineAttributes\",\n      value: function value(attrs, effects) {\n        this.Attr =\n        /*#__PURE__*/\n        function (_this$Attr) {\n          (0, _inherits2.default)(_class, _this$Attr);\n\n          function _class(subject) {\n            var _this2;\n\n            (0, _classCallCheck2.default)(this, _class);\n            _this2 = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(_class).call(this, subject));\n\n            if (attrs.init) {\n              attrs.init.call((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2)), (0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2)), subject);\n            }\n\n            return _this2;\n          }\n\n          return _class;\n        }(this.Attr);\n\n        if (attrs) this.addAttributes(attrs);\n        if (effects) this.setAttributeEffects(effects);\n        return this.Attr;\n      }\n    }, {\n      kind: \"get\",\n      key: \"effects\",\n      value: function value() {\n        return this[_effects];\n      }\n    }, {\n      kind: \"method\",\n      key: \"setReleaseKey\",\n      value: function value(key) {\n        this[_releaseKeys].add(key);\n      }\n    }, {\n      kind: \"method\",\n      key: \"reflow\",\n      value: function value() {\n        this[_flow] = {};\n      }\n    }, {\n      kind: \"method\",\n      key: \"flow\",\n      value: function value(prop, _value) {\n        if (_value === undefined) {\n          return this[_flow][prop];\n        }\n\n        this[_flow][prop] = _value;\n      }\n    }, {\n      kind: \"get\",\n      key: \"hasLayout\",\n      value: function value() {\n        if (this.attr('position') === 'absolute') return false;\n\n        if (this.parent && this.parent.relayout) {\n          var display = this.parent.attr('display');\n          return display !== '' && display !== 'static';\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"set\",\n      key: \"zIndex\",\n      value: function value(val) {\n        this.attr('zIndex', val);\n      }\n    }, {\n      kind: \"get\",\n      key: \"zIndex\",\n      value: function value() {\n        return this.attr('zIndex');\n      }\n    }, {\n      kind: \"get\",\n      key: \"isVirtual\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"isVisible\",\n      value: function value() {\n        if (!this.parent) return false;\n        var display = this.attr('display');\n\n        if (display === 'none') {\n          return false;\n        }\n\n        var opacity = this.attr('opacity');\n\n        if (opacity <= 0) {\n          return false;\n        }\n\n        if (this.isVirtual) return true;\n\n        var _this$offsetSize = (0, _slicedToArray2.default)(this.offsetSize, 2),\n            width = _this$offsetSize[0],\n            height = _this$offsetSize[1];\n\n        if (width <= 0 || height <= 0) {\n          return false;\n        }\n\n        if (this.parent.isVisible) {\n          return this.parent.isVisible();\n        }\n\n        return true;\n      }\n    }, {\n      kind: \"get\",\n      key: \"transform\",\n      value: function value() {\n        var transform = new _spriteMath.Matrix(this.attr('transformMatrix'));\n        var transformOrigin = this.attr('transformOrigin');\n\n        if (transformOrigin) {\n          var t = new _spriteMath.Matrix();\n          t.translate.apply(t, (0, _toConsumableArray2.default)(transformOrigin));\n          t.multiply(transform);\n          t.translate.apply(t, (0, _toConsumableArray2.default)(transformOrigin.map(function (v) {\n            return -v;\n          })));\n          return t;\n        }\n\n        return transform;\n      }\n    }, {\n      kind: \"method\",\n      key: \"connect\",\n      value: function value(parent) {\n        var _this3 = this;\n\n        var zOrder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        if (parent && typeof parent.stroke === 'function') {\n          // directly connect to canvas2d context\n          var node = new _basenode.default();\n          node.context = parent;\n          node.timeline = new _spriteAnimator.Timeline();\n\n          node.update = function () {\n            var currentTime = this.timeline.currentTime;\n            node.dispatchEvent('update', {\n              target: this,\n              timeline: this.timeline,\n              renderTime: currentTime\n            }, true, true);\n          };\n\n          parent = node;\n        }\n\n        var ret = (0, _get2.default)((0, _getPrototypeOf2.default)(BaseSprite.prototype), \"connect\", this).call(this, parent, zOrder);\n        Object.defineProperty(this, 'context', {\n          get: function get() {\n            return parent.cache || parent.context;\n          },\n          configurable: true\n        });\n\n        this[_animations].forEach(function (animation) {\n          if (parent.layer) {\n            animation.baseTimeline = parent.layer.timeline;\n          }\n\n          animation.play();\n          animation.finished.then(function () {\n            _this3[_animations].delete(animation);\n          });\n        });\n\n        if (this.hasLayout) this.clearLayout();\n        this.reflow();\n        return ret;\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnect\",\n      value: function value(parent) {\n        var _this4 = this;\n\n        this[_animations].forEach(function (animation) {\n          return animation.cancel();\n        });\n\n        if (this.cache) {\n          this.cache = null;\n        }\n\n        if (this.hasLayout) this.clearLayout();\n        this.reflow();\n        var ret = (0, _get2.default)((0, _getPrototypeOf2.default)(BaseSprite.prototype), \"disconnect\", this).call(this, parent);\n        delete this.context;\n        (0, _toConsumableArray2.default)(this[_releaseKeys]).forEach(function (key) {\n          return delete _this4[key];\n        });\n        return ret;\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.absolute],\n      key: \"xy\",\n      value: function value() {\n        var x, y;\n\n        if (this.hasLayout) {\n          x = this.attr('layoutX');\n          y = this.attr('layoutY');\n        } else {\n          var _this$attr = this.attr('pos');\n\n          var _this$attr2 = (0, _slicedToArray2.default)(_this$attr, 2);\n\n          x = _this$attr2[0];\n          y = _this$attr2[1];\n        }\n\n        return [x, y];\n      }\n    }, {\n      kind: \"get\",\n      key: \"animations\",\n      value: function value() {\n        return this[_animations];\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.absolute, _utils.flow],\n      key: \"attrSize\",\n      value: function value() {\n        var _this$attr3 = this.attr('size'),\n            _this$attr4 = (0, _slicedToArray2.default)(_this$attr3, 2),\n            width = _this$attr4[0],\n            height = _this$attr4[1];\n\n        var isBorderBox = this.attr('boxSizing') === 'border-box';\n\n        if (this.hasLayout) {\n          var layoutWidth = this.attr('layoutWidth'),\n              layoutHeight = this.attr('layoutHeight');\n          var _ref = [layoutWidth !== '' ? layoutWidth : width, layoutHeight !== '' ? layoutHeight : height];\n          width = _ref[0];\n          height = _ref[1];\n        }\n\n        if (isBorderBox) {\n          var borderWidth = this.attr('border').width,\n              _this$attr5 = this.attr('padding'),\n              _this$attr6 = (0, _slicedToArray2.default)(_this$attr5, 4),\n              paddingTop = _this$attr6[0],\n              paddingRight = _this$attr6[1],\n              paddingBottom = _this$attr6[2],\n              paddingLeft = _this$attr6[3];\n\n          if (width !== '') {\n            width = Math.max(0, width - 2 * borderWidth - paddingLeft - paddingRight);\n          }\n\n          if (height !== '') {\n            height = Math.max(0, height - 2 * borderWidth - paddingTop - paddingBottom);\n          }\n        }\n\n        return [width, height];\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.absolute, _utils.flow],\n      key: \"boxOffsetSize\",\n      value: function value() {\n        // get original boxSize, without layout\n        if (this.isVirtual) return [0, 0];\n\n        var _this$attr7 = this.attr('size'),\n            _this$attr8 = (0, _slicedToArray2.default)(_this$attr7, 2),\n            width = _this$attr8[0],\n            height = _this$attr8[1];\n\n        var _this$attr9 = this.attr('padding'),\n            _this$attr10 = (0, _slicedToArray2.default)(_this$attr9, 4),\n            top = _this$attr10[0],\n            right = _this$attr10[1],\n            bottom = _this$attr10[2],\n            left = _this$attr10[3];\n\n        var _this$attr11 = this.attr('border'),\n            borderWidth = _this$attr11.width,\n            lw = borderWidth * 2;\n\n        return [left + (width | 0) + right + lw, top + (height | 0) + bottom + lw];\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"contentSize\",\n      value: function value() {\n        if (this.isVirtual) return [0, 0];\n\n        var _this$attrSize = (0, _slicedToArray2.default)(this.attrSize, 2),\n            width = _this$attrSize[0],\n            height = _this$attrSize[1];\n\n        return [width | 0, height | 0];\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"clientSize\",\n      value: function value() {\n        var _this$attr12 = this.attr('padding'),\n            _this$attr13 = (0, _slicedToArray2.default)(_this$attr12, 4),\n            top = _this$attr13[0],\n            right = _this$attr13[1],\n            bottom = _this$attr13[2],\n            left = _this$attr13[3],\n            _this$contentSize = (0, _slicedToArray2.default)(this.contentSize, 2),\n            width = _this$contentSize[0],\n            height = _this$contentSize[1];\n\n        return [left + width + right, top + height + bottom];\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"offsetSize\",\n      value: function value() {\n        var _this$attr14 = this.attr('border'),\n            borderWidth = _this$attr14.width,\n            _this$clientSize = (0, _slicedToArray2.default)(this.clientSize, 2),\n            width = _this$clientSize[0],\n            height = _this$clientSize[1];\n\n        return [width + 2 * borderWidth, height + 2 * borderWidth];\n      }\n    }, {\n      kind: \"get\",\n      key: \"layoutSize\",\n      value: function value() {\n        var size = this.offsetSize;\n\n        var _this$attr15 = this.attr('margin'),\n            _this$attr16 = (0, _slicedToArray2.default)(_this$attr15, 4),\n            top = _this$attr16[0],\n            right = _this$attr16[1],\n            bottom = _this$attr16[2],\n            left = _this$attr16[3];\n\n        return [left + size[0] + right, top + size[1] + bottom];\n      }\n    }, {\n      kind: \"get\",\n      key: \"innerSize\",\n      value: function value() {\n        return this.contentSize;\n      }\n    }, {\n      kind: \"get\",\n      key: \"outerSize\",\n      value: function value() {\n        return this.offsetSize;\n      }\n    }, {\n      kind: \"method\",\n      key: \"getParentXY\",\n      value: function value() {\n        var lx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var ly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var layer = this.layer;\n        if (!layer) return [0, 0];\n        var parents = [];\n        var target = this.parent;\n\n        while (target && target !== layer) {\n          parents.push(target);\n          target = target.parent;\n        }\n\n        parents.reverse();\n        var parentX = lx,\n            parentY = ly;\n        parents.forEach(function (node) {\n          var scrollLeft = node.attr('scrollLeft'),\n              scrollTop = node.attr('scrollTop'),\n              borderWidth = node.attr('border').width,\n              padding = node.attr('padding');\n\n          var _node$pointToOffset = node.pointToOffset(parentX, parentY);\n\n          var _node$pointToOffset2 = (0, _slicedToArray2.default)(_node$pointToOffset, 2);\n\n          parentX = _node$pointToOffset2[0];\n          parentY = _node$pointToOffset2[1];\n          parentX = parentX - node.originalRect[0] - borderWidth - padding[3] + scrollLeft;\n          parentY = parentY - node.originalRect[1] - borderWidth - padding[0] + scrollTop;\n        });\n        return [parentX, parentY];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getLayerXY\",\n      value: function value() {\n        var dx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var dy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var layer = this.layer;\n        if (!layer) return [0, 0];\n        var target = this;\n        var x = dx,\n            y = dy;\n\n        while (target && target !== layer) {\n          var _target$offsetToPoint = target.offsetToPoint(x, y);\n\n          var _target$offsetToPoint2 = (0, _slicedToArray2.default)(_target$offsetToPoint, 2);\n\n          x = _target$offsetToPoint2[0];\n          y = _target$offsetToPoint2[1];\n          var parent = target.parent;\n\n          if (parent !== layer) {\n            var borderWidth = parent.attr('border').width;\n            var padding = parent.attr('padding'),\n                scrollLeft = parent.attr('scrollLeft') || 0,\n                scrollTop = parent.attr('scrollTop') || 0; // const parentX = evt.offsetX - this.originalRect[0] - borderWidth - padding[3] + scrollLeft\n            // const parentY = evt.offsetY - this.originalRect[1] - borderWidth - padding[0] + scrollTop\n\n            x = x + parent.originalRect[0] + borderWidth + padding[3] - scrollLeft;\n            y = y + parent.originalRect[1] + borderWidth + padding[0] - scrollTop;\n          }\n\n          target = parent;\n        }\n\n        return [x, y];\n      }\n    }, {\n      kind: \"get\",\n      key: \"boundingRect\",\n      value: function value() {\n        var transform = this.transform;\n\n        var _this$originalRect = (0, _slicedToArray2.default)(this.originalRect, 4),\n            ox = _this$originalRect[0],\n            oy = _this$originalRect[1],\n            width = _this$originalRect[2],\n            height = _this$originalRect[3];\n\n        if (this.hasLayout) {\n          var margin = this.attr('margin');\n          width += margin[1];\n          height += margin[2];\n        }\n\n        var vertexs = [[ox, oy], [width + ox, oy], [ox, height + oy], [width + ox, height + oy]];\n        var transformed = vertexs.map(function (v) {\n          return transform.transformPoint(v[0], v[1]);\n        });\n        var vx = transformed.map(function (v) {\n          return v[0];\n        }),\n            vy = transformed.map(function (v) {\n          return v[1];\n        });\n        var minX = Math.min.apply(Math, (0, _toConsumableArray2.default)(vx)),\n            minY = Math.min.apply(Math, (0, _toConsumableArray2.default)(vy)),\n            maxX = Math.max.apply(Math, (0, _toConsumableArray2.default)(vx)),\n            maxY = Math.max.apply(Math, (0, _toConsumableArray2.default)(vy));\n        return [minX, minY].concat([maxX - minX, maxY - minY]);\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"originalRect\",\n      value: function value() {\n        var _this$offsetSize2 = (0, _slicedToArray2.default)(this.offsetSize, 2),\n            width = _this$offsetSize2[0],\n            height = _this$offsetSize2[1],\n            _this$attr17 = this.attr('anchor'),\n            _this$attr18 = (0, _slicedToArray2.default)(_this$attr17, 2),\n            anchorX = _this$attr18[0],\n            anchorY = _this$attr18[1];\n\n        var rect = [-anchorX * width, -anchorY * height, width, height];\n\n        if (this.hasLayout) {\n          var margin = this.attr('margin');\n          rect[0] += margin[3];\n          rect[1] += margin[0];\n        }\n\n        return rect;\n      }\n    }, {\n      kind: \"get\",\n      key: \"originalRenderRect\",\n      value: function value() {\n        var bound = this.originalRect,\n            pos = this.xy;\n        return [pos[0] + bound[0], pos[1] + bound[1], bound[2], bound[3]];\n      }\n    }, {\n      kind: \"get\",\n      key: \"renderBox\",\n      value: function value() {\n        var bound = this.boundingRect,\n            pos = this.xy;\n        return [pos[0] + bound[0], pos[1] + bound[1], pos[0] + bound[0] + bound[2], pos[1] + bound[1] + bound[3]];\n      }\n    }, {\n      kind: \"get\",\n      key: \"renderRect\",\n      value: function value() {\n        var _this$renderBox = (0, _slicedToArray2.default)(this.renderBox, 4),\n            x0 = _this$renderBox[0],\n            y0 = _this$renderBox[1],\n            x1 = _this$renderBox[2],\n            y1 = _this$renderBox[3];\n\n        return [x0, y0, x1 - x0, y1 - y0];\n      }\n    }, {\n      kind: \"get\",\n      key: \"vertices\",\n      value: function value() {\n        var vertices = (0, _utils.rectVertices)(this.originalRect),\n            transform = this.transform,\n            _this$xy = (0, _slicedToArray2.default)(this.xy, 2),\n            x0 = _this$xy[0],\n            y0 = _this$xy[1];\n\n        return vertices.map(function (v) {\n          var _transform$transformP = transform.transformPoint(v[0], v[1]),\n              _transform$transformP2 = (0, _slicedToArray2.default)(_transform$transformP, 2),\n              x = _transform$transformP2[0],\n              y = _transform$transformP2[1];\n\n          return [x0 + x, y0 + y];\n        });\n      }\n    }, {\n      kind: \"set\",\n      key: \"cache\",\n      value: function value(context) {\n        if (context == null) {\n          this[_cachePriority] = 0;\n\n          if (this.parent && this.parent.cache) {\n            this.parent.cache = null;\n          }\n        }\n\n        if (this.cacheContext && context !== this.cacheContext) {\n          _utils.cacheContextPool.put(this.cacheContext);\n        }\n\n        this.cacheContext = context;\n      }\n    }, {\n      kind: \"get\",\n      key: \"cache\",\n      value: function value() {\n        if (this[_cachePriority] >= CACHE_PRIORITY_THRESHOLDS) {\n          return this.cacheContext;\n        }\n\n        if (this.cacheContext) {\n          this.cache = null;\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [(0, _utils.deprecate)('Instead use sprite.cache = null')],\n      key: \"clearCache\",\n      value: function value() {\n        this.cache = null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"appendTo\",\n      value: function value(parent) {\n        parent.appendChild(this);\n      }\n    }, {\n      kind: \"method\",\n      key: \"forceUpdate\",\n      value: function value() {\n        var clearCache = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        if (clearCache) {\n          this.cache = null;\n        }\n\n        (0, _get2.default)((0, _getPrototypeOf2.default)(BaseSprite.prototype), \"forceUpdate\", this).call(this);\n      }\n    }, {\n      kind: \"method\",\n      key: \"pointToOffset\",\n      value: function value(x, y) {\n        var _this$xy2 = (0, _slicedToArray2.default)(this.xy, 2),\n            x0 = _this$xy2[0],\n            y0 = _this$xy2[1];\n\n        var dx = x - x0,\n            dy = y - y0;\n        var transform = this.transform;\n        return transform.inverse().transformPoint(dx, dy);\n      }\n    }, {\n      kind: \"method\",\n      key: \"offsetToPoint\",\n      value: function value(dx, dy) {\n        var transform = this.transform;\n\n        var _this$xy3 = (0, _slicedToArray2.default)(this.xy, 2),\n            x0 = _this$xy3[0],\n            y0 = _this$xy3[1];\n\n        var _transform$transformP3 = transform.transformPoint(dx, dy),\n            _transform$transformP4 = (0, _slicedToArray2.default)(_transform$transformP3, 2),\n            x = _transform$transformP4[0],\n            y = _transform$transformP4[1];\n\n        return [x + x0, y + y0];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getOffsetXY\",\n      value: function value(evt) {\n        var parentX, parentY;\n\n        if (evt.parentX != null) {\n          // group\n          parentX = evt.parentX;\n          parentY = evt.parentY;\n        } else {\n          parentX = evt.layerX;\n          parentY = evt.layerY;\n        }\n\n        if (parentX != null && parentY != null) {\n          return this.pointToOffset(parentX, parentY);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"dispatchEvent\",\n      value: function value(type, evt) {\n        var collisionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var swallow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var useCapturePhase = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n        if (collisionState) {\n          var offsetXY = this.getOffsetXY(evt);\n\n          if (offsetXY) {\n            evt.offsetX = offsetXY[0];\n            evt.offsetY = offsetXY[1];\n          }\n        }\n\n        return (0, _get2.default)((0, _getPrototypeOf2.default)(BaseSprite.prototype), \"dispatchEvent\", this).call(this, type, evt, collisionState, swallow, useCapturePhase);\n      }\n    }, {\n      kind: \"method\",\n      key: \"pointCollision\",\n      value: function value(evt) {\n        /* istanbul ignore if */\n        if (!this.isVisible()) {\n          return false;\n        }\n\n        var offsetXY = this.getOffsetXY(evt);\n        if (!offsetXY) return true;\n\n        var _offsetXY = (0, _slicedToArray2.default)(offsetXY, 2),\n            nx = _offsetXY[0],\n            ny = _offsetXY[1];\n\n        evt.offsetX = nx;\n        evt.offsetY = ny;\n\n        var _this$originalRect2 = (0, _slicedToArray2.default)(this.originalRect, 4),\n            ox = _this$originalRect2[0],\n            oy = _this$originalRect2[1],\n            ow = _this$originalRect2[2],\n            oh = _this$originalRect2[3];\n\n        if (nx >= ox && nx - ox < ow && ny >= oy && ny - oy < oh) {\n          if (this.context && this.context.isPointInPath) {\n            var borderWidth = this.attr('border').width,\n                borderRadius = this.attr('borderRadius');\n\n            if (borderWidth || borderRadius) {\n              var _this$outerSize = (0, _slicedToArray2.default)(this.outerSize, 2),\n                  width = _this$outerSize[0],\n                  height = _this$outerSize[1];\n\n              var x = 0,\n                  y = 0,\n                  w = width,\n                  h = height,\n                  r = borderRadius;\n              (0, _utils.drawRadiusBox)(this.context, [x, y, w, h], r);\n\n              if (this.layer && this.layer.offset) {\n                nx += this.layer.offset[0];\n                ny += this.layer.offset[1];\n              }\n\n              return this.context.isPointInPath(nx - ox, ny - oy);\n            }\n          }\n\n          return true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"OBBCollision\",\n      value: function value(sprite) {\n        // vertices: [p1, p2, p3, p4]\n        var _this$vertices = (0, _slicedToArray2.default)(this.vertices, 3),\n            p11 = _this$vertices[0],\n            p12 = _this$vertices[1],\n            p13 = _this$vertices[2],\n            _sprite$vertices = (0, _slicedToArray2.default)(sprite.vertices, 3),\n            p21 = _sprite$vertices[0],\n            p22 = _sprite$vertices[1],\n            p23 = _sprite$vertices[2];\n\n        var a1 = new _spriteMath.Vector(p12, p11).unit(),\n            a2 = new _spriteMath.Vector(p13, p12).unit(),\n            a3 = new _spriteMath.Vector(p22, p21).unit(),\n            a4 = new _spriteMath.Vector(p23, p22).unit(); // The projection of the axis of a vertex in a certain direction\n\n        function verticesProjection(vertices, axis) {\n          var _vertices$map = vertices.map(function (v) {\n            return axis.dot(new _spriteMath.Vector(v));\n          }),\n              _vertices$map2 = (0, _slicedToArray2.default)(_vertices$map, 4),\n              p1 = _vertices$map2[0],\n              p2 = _vertices$map2[1],\n              p3 = _vertices$map2[2],\n              p4 = _vertices$map2[3];\n\n          return [Math.min(p1, p2, p3, p4), Math.max(p1, p2, p3, p4)];\n        }\n\n        function projectionIntersect(p1, p2) {\n          var m1 = (p1[0] + p1[1]) / 2,\n              l1 = Math.abs(p1[1] - p1[0]),\n              m2 = (p2[0] + p2[1]) / 2,\n              l2 = Math.abs(p2[1] - p2[0]);\n          return Math.abs(m2 - m1) <= (l1 + l2) / 2;\n        }\n\n        return projectionIntersect(verticesProjection(this.vertices, a1), verticesProjection(sprite.vertices, a1)) && projectionIntersect(verticesProjection(this.vertices, a2), verticesProjection(sprite.vertices, a2)) && projectionIntersect(verticesProjection(this.vertices, a3), verticesProjection(sprite.vertices, a3)) && projectionIntersect(verticesProjection(this.vertices, a4), verticesProjection(sprite.vertices, a4));\n      }\n    }, {\n      kind: \"method\",\n      key: \"relayout\",\n      value: function value() {}\n    }, {\n      kind: \"method\",\n      key: \"draw\",\n      value: function value(t) {\n        var drawingContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.context;\n        // eslint-disable-line complexity\n        (0, _get2.default)((0, _getPrototypeOf2.default)(BaseSprite.prototype), \"draw\", this).call(this, t, drawingContext);\n\n        if (!this.isVisible()) {\n          return;\n        }\n\n        var bound = this.originalRect;\n        var cachableContext = !this.isVirtual && this.cache;\n        var filter = this.attr('filter'),\n            shadow = this.attr('shadow'),\n            clipOverflow = this.attr('clipOverflow'),\n            enableCache = this.attr('enableCache') === true || this.attr('enableCache') === 'auto' && !this.__labelCount && clipOverflow || shadow || filter;\n        var ratio = this.layer ? this.layer.displayRatio || 1.0 : 1.0;\n\n        if (enableCache && (shadow || filter || cachableContext !== false) && !cachableContext) {\n          cachableContext = _utils.cacheContextPool.get(drawingContext);\n\n          if (cachableContext) {\n            // +2 to solve 1px problem\n            cachableContext.canvas.width = Math.ceil(bound[2] * ratio) + 2;\n            cachableContext.canvas.height = Math.ceil(bound[3] * ratio) + 2;\n          }\n        }\n\n        var evtArgs = {\n          context: drawingContext,\n          cacheContext: cachableContext,\n          target: this,\n          renderTime: t,\n          fromCache: !!this.cache\n        };\n        drawingContext.save();\n        drawingContext.translate.apply(drawingContext, (0, _toConsumableArray2.default)(this.xy));\n        drawingContext.transform.apply(drawingContext, (0, _toConsumableArray2.default)(this.transform.m)); // fix for wxapp\n\n        var alpha = drawingContext.globalAlpha != null ? drawingContext.globalAlpha : 1;\n        drawingContext.globalAlpha = alpha * this.attr('opacity');\n\n        if (!cachableContext) {\n          drawingContext.translate(bound[0], bound[1]);\n        } else {\n          cachableContext.save(); // solve 1px problem\n\n          cachableContext.translate(bound[0] - Math.floor(bound[0]) + 1, bound[1] - Math.floor(bound[1]) + 1);\n\n          if (ratio !== 1.0) {\n            cachableContext.scale(ratio, ratio);\n          }\n        }\n\n        this.dispatchEvent('beforedraw', evtArgs, true, true);\n\n        if (cachableContext) {\n          // set cache before render for group\n          if (!this.cache) {\n            this.cache = cachableContext;\n            this.render(t, cachableContext);\n          }\n        } else {\n          this.render(t, drawingContext);\n        }\n\n        if ((shadow || filter) && !cachableContext) {\n          console.warn('No cachable context. Shadows and filters have been ignored.');\n        }\n\n        if (!clipOverflow && cachableContext) {\n          console.warn('Clip overflow is ignored because of cache enabled.');\n        }\n\n        if (cachableContext && cachableContext.canvas.width > 0 && cachableContext.canvas.height > 0) {\n          if (filter) {\n            drawingContext.filter = _filters.default.compile(filter);\n          }\n\n          if (shadow) {\n            var blur = shadow.blur,\n                color = shadow.color,\n                offset = shadow.offset;\n            blur = blur || 1;\n            color = color || 'rgba(0,0,0,1)';\n            drawingContext.shadowBlur = blur;\n            drawingContext.shadowColor = color;\n\n            if (offset) {\n              drawingContext.shadowOffsetX = offset[0];\n              drawingContext.shadowOffsetY = offset[1];\n            }\n          }\n\n          drawingContext.drawImage(cachableContext.canvas, Math.floor(bound[0]) - 1, Math.floor(bound[1]) - 1, bound[2] + 2, bound[3] + 2);\n        }\n\n        this.dispatchEvent('afterdraw', evtArgs, true, true);\n\n        if (cachableContext) {\n          cachableContext.restore();\n        }\n\n        drawingContext.restore();\n        this[_cachePriority]++;\n        return drawingContext;\n      }\n    }, {\n      kind: \"get\",\n      key: \"needRender\",\n      value: function value() {\n        if (this.isVirtual) return false;\n\n        var _this$offsetSize3 = (0, _slicedToArray2.default)(this.offsetSize, 2),\n            offsetWidth = _this$offsetSize3[0],\n            offsetHeight = _this$offsetSize3[1];\n\n        if (offsetWidth <= 0 || offsetHeight <= 0) return false;\n        var border = this.attr('border');\n\n        if (border.width <= 0 && this.attr('borderRadius') <= 0 && !this.attr('bgcolor') && !this.attr('gradients').bgcolor && !this.attr('bgimage')) {\n          return false; // don't need to render\n        }\n\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"show\",\n      value: function value() {\n        this.attr('display', this.__originalDisplay || '');\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"hide\",\n      value: function value() {\n        var display = this.attr('display');\n\n        if (display !== 'none') {\n          this.__originalDisplay = display;\n          this.attr('display', 'none');\n        }\n\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function value(t, drawingContext) {\n        var border = this.attr('border'),\n            borderRadius = this.attr('borderRadius'),\n            padding = this.attr('padding'),\n            _this$offsetSize4 = (0, _slicedToArray2.default)(this.offsetSize, 2),\n            offsetWidth = _this$offsetSize4[0],\n            offsetHeight = _this$offsetSize4[1],\n            _this$clientSize2 = (0, _slicedToArray2.default)(this.clientSize, 2),\n            clientWidth = _this$clientSize2[0],\n            clientHeight = _this$clientSize2[1];\n\n        if (!this.needRender) {\n          drawingContext.translate(padding[3], padding[0]);\n          return false;\n        }\n\n        var borderWidth = border.width;\n        var borderStyle = border.style; // draw border\n\n        if (borderWidth) {\n          drawingContext.lineWidth = borderWidth;\n          var x = borderWidth / 2,\n              y = borderWidth / 2,\n              w = offsetWidth - borderWidth,\n              h = offsetHeight - borderWidth,\n              r = borderRadius;\n          (0, _utils.drawRadiusBox)(drawingContext, [x, y, w, h], r);\n          drawingContext.save();\n\n          if (borderStyle && borderStyle !== 'solid') {\n            var dashOffset = this.attr('dashOffset');\n            drawingContext.lineDashOffset = dashOffset;\n\n            if (borderStyle === 'dashed') {\n              borderStyle = [borderWidth * 3, borderWidth * 3];\n            }\n\n            drawingContext.setLineDash(borderStyle);\n          }\n\n          drawingContext.strokeStyle = (0, _utils.findColor)(drawingContext, this, 'border');\n          drawingContext.stroke();\n          drawingContext.restore();\n        } // draw bgcolor\n\n\n        var bgcolor = (0, _utils.findColor)(drawingContext, this, 'bgcolor');\n        var bgimage = this.attr('bgimage');\n\n        if (!this.cacheContext || borderWidth || borderRadius || bgcolor || bgimage && bgimage.display !== 'none') {\n          var _x = borderWidth,\n              _y = borderWidth,\n              _w = clientWidth,\n              _h = clientHeight,\n              _r = borderRadius;\n\n          if (Array.isArray(_r)) {\n            _r = _r.map(function (r) {\n              return r - borderWidth / 2;\n            });\n          }\n\n          (0, _utils.drawRadiusBox)(drawingContext, [_x, _y, _w, _h], _r);\n\n          if (bgcolor) {\n            drawingContext.fillStyle = bgcolor;\n            drawingContext.fill();\n          } // clip is expensive, we should only perform clip when it has to.\n\n\n          if (bgimage && bgimage.display !== 'none' || borderRadius && (this.nodeType !== 'sprite' || this.textures && this.textures.length)) {\n            drawingContext.clip();\n          }\n\n          if (bgimage && bgimage.image && bgimage.display !== 'none') {\n            drawBgImage(drawingContext, bgimage, borderWidth, offsetWidth, offsetHeight, clientWidth, clientHeight);\n          }\n        }\n\n        drawingContext.translate(borderWidth + padding[3], borderWidth + padding[0]);\n        return true;\n      }\n    }]\n  };\n}, _basenode.default);\nexports.default = BaseSprite;\n\nfunction drawDot9Image(drawingContext, image, clip9, borderWidth, offsetWidth, offsetHeight, clientWidth, clientHeight) {\n  var w = image.width,\n      h = image.height;\n\n  var _ref2 = clip9 || [16, 16, 16, 16],\n      _ref3 = (0, _slicedToArray2.default)(_ref2, 4),\n      top = _ref3[0],\n      right = _ref3[1],\n      bottom = _ref3[2],\n      left = _ref3[3];\n\n  var leftTop = [0, 0, left, top],\n      rightTop = [w - right, 0, right, top],\n      rightBottom = [w - right, h - bottom, right, bottom],\n      leftBottom = [0, h - bottom, left, bottom];\n  var boxRight = offsetWidth - right - borderWidth,\n      boxBottom = offsetHeight - borderWidth - bottom; // draw .9 cross\n\n  var midWidth = w - left - right,\n      midHeight = h - top - bottom;\n\n  if (midWidth > 0) {\n    var midBoxWidth = clientWidth - left - right + 2;\n    var leftOffset = borderWidth + left - 1;\n\n    while (midBoxWidth > 0) {\n      var ww = Math.min(midBoxWidth, midWidth) + 1;\n      var topPiece = [left - 1, 0, ww, top],\n          bottomPiece = [left - 1, h - bottom, ww, bottom];\n      drawingContext.drawImage.apply(drawingContext, [image].concat(topPiece, [leftOffset, borderWidth, ww, top]));\n      drawingContext.drawImage.apply(drawingContext, [image].concat(bottomPiece, [leftOffset, boxBottom, ww, bottom]));\n      midBoxWidth -= midWidth;\n\n      if (midBoxWidth > 0) {\n        leftOffset += midWidth;\n      }\n    }\n  }\n\n  if (midHeight > 0) {\n    var midBoxHeight = clientHeight - top - bottom + 2;\n    var topOffset = borderWidth + top - 1;\n\n    while (midBoxHeight > 0) {\n      var hh = Math.min(midBoxHeight, midHeight) + 1;\n      var leftPiece = [0, top - 1, left, hh],\n          rightPiece = [w - right, top - 1, right, hh];\n      drawingContext.drawImage.apply(drawingContext, [image].concat(leftPiece, [borderWidth, topOffset, left, hh]));\n      drawingContext.drawImage.apply(drawingContext, [image].concat(rightPiece, [boxRight, topOffset, right, hh]));\n      midBoxHeight -= midHeight;\n\n      if (midBoxHeight > 0) {\n        topOffset += midHeight;\n      }\n    }\n  }\n\n  if (midHeight && midWidth > 0) {\n    var _midBoxWidth = clientWidth - left - right + 2;\n\n    var _leftOffset = borderWidth + left - 1;\n\n    while (_midBoxWidth > 0) {\n      var _midBoxHeight = clientHeight - top - bottom + 2;\n\n      var _topOffset = borderWidth + top - 1;\n\n      while (_midBoxHeight > 0) {\n        var _ww = Math.min(_midBoxWidth, midWidth) + 1,\n            _hh = Math.min(_midBoxHeight, midHeight) + 1;\n\n        var midPiece = [left - 1, top - 1, _ww, _hh];\n        drawingContext.drawImage.apply(drawingContext, [image].concat(midPiece, [_leftOffset, _topOffset, _ww, _hh]));\n        _midBoxHeight -= midWidth;\n\n        if (_midBoxHeight > 0) {\n          _topOffset += midHeight;\n        }\n      }\n\n      _midBoxWidth -= midWidth;\n\n      if (_midBoxWidth > 0) {\n        _leftOffset += midWidth;\n      }\n    }\n  } // draw four corners\n\n\n  drawingContext.drawImage.apply(drawingContext, [image].concat(leftTop, [borderWidth, borderWidth, left, top]));\n  drawingContext.drawImage.apply(drawingContext, [image].concat(rightTop, [boxRight, borderWidth, right, top]));\n  drawingContext.drawImage.apply(drawingContext, [image].concat(rightBottom, [boxRight, boxBottom, left, bottom]));\n  drawingContext.drawImage.apply(drawingContext, [image].concat(leftBottom, [borderWidth, boxBottom, left, bottom]));\n}\n\nfunction drawBgImage(drawingContext, bgimage, borderWidth, offsetWidth, offsetHeight, clientWidth, clientHeight) {\n  var image = bgimage.image,\n      display = bgimage.display,\n      clip9 = bgimage.clip9;\n\n  if (display === '.9') {\n    drawDot9Image(drawingContext, image, clip9, borderWidth, offsetWidth, offsetHeight, clientWidth, clientHeight);\n  } else {\n    var offset = bgimage.offset || [0, 0],\n        w = image.width,\n        h = image.height;\n\n    if (display === 'center') {\n      offset = [(clientWidth - w) * 0.5, (clientHeight - h) * 0.5];\n    } else if (display === 'stretch') {\n      w = clientWidth - offset[0];\n      h = clientHeight - offset[1];\n    }\n\n    drawingContext.drawImage(image, borderWidth + offset[0], borderWidth + offset[1], w, h);\n\n    if (w > 0 && (display === 'repeat' || display === 'repeatX')) {\n      var cw = clientWidth - borderWidth - offset[0] - w;\n\n      while (cw > borderWidth) {\n        drawingContext.drawImage(image, clientWidth - cw, borderWidth + offset[1], w, h);\n\n        if (h > 0 && display === 'repeat') {\n          var ch = clientHeight - borderWidth - offset[1] - h;\n\n          while (ch > borderWidth) {\n            drawingContext.drawImage(image, clientWidth - cw, clientHeight - ch, w, h);\n            ch -= h;\n          }\n        }\n\n        cw -= w;\n      }\n    }\n\n    if (h > 0 && (display === 'repeat' || display === 'repeatY')) {\n      var _ch = clientHeight - borderWidth - offset[1] - h;\n\n      while (_ch > borderWidth) {\n        drawingContext.drawImage(image, borderWidth + offset[0], clientHeight - _ch, w, h);\n        _ch -= h;\n      }\n    }\n  }\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _svgPathToCanvas = _interopRequireDefault(require(\"svg-path-to-canvas\"));\n\nvar _spriteMath = require(\"sprite-math\");\n\nvar _attr = _interopRequireDefault(require(\"./attr\"));\n\nvar _utils = require(\"../utils\");\n\nvar cache = true,\n    reflow = true,\n    relayout = true;\n\nfunction parseBorderValue(val) {\n  if (val == null) {\n    return null;\n  }\n\n  if (typeof val === 'number' || typeof val === 'string') {\n    val = {\n      width: parseFloat(val)\n    };\n  } else if (Array.isArray(val)) {\n    val = {\n      width: parseFloat(val[0]),\n      color: (0, _utils.parseColorString)(val[1] || '#000')\n    };\n  } else {\n    val.width = parseFloat(val.width);\n    val.color = (0, _utils.parseColorString)(val.color || '#000');\n  }\n\n  val = Object.assign({\n    width: 1,\n    color: (0, _utils.parseColorString)('#000'),\n    style: 'solid'\n  }, val);\n  return val;\n}\n\nvar SpriteAttr = (0, _decorate2.default)(null, function (_initialize, _NodeAttr) {\n  var SpriteAttr =\n  /*#__PURE__*/\n  function (_NodeAttr2) {\n    (0, _inherits2.default)(SpriteAttr, _NodeAttr2);\n\n    function SpriteAttr(subject) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, SpriteAttr);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(SpriteAttr).call(this, subject));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      Object.defineProperty((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)), '__reflowTag', {\n        writable: true,\n        value: false\n      });\n      return _this;\n    }\n\n    return SpriteAttr;\n  }(_NodeAttr);\n\n  return {\n    F: SpriteAttr,\n    d: [{\n      kind: \"method\",\n      key: \"clearFlow\",\n      value: function value() {\n        this.__reflowTag = true;\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"set\",\n      value: function value(key, _value) {\n        var isQuiet = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        (0, _get2.default)((0, _getPrototypeOf2.default)(SpriteAttr.prototype), \"set\", this).call(this, key, _value, isQuiet); // auto reflow\n\n        if (key === 'margin') {\n          this.__reflowTag = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"merge\",\n      value: function value(attrs) {\n        var _this2 = this;\n\n        if (typeof attrs === 'string') {\n          attrs = JSON.parse(attrs);\n        }\n\n        Object.entries(attrs).forEach(function (_ref) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          if (key !== 'offsetPath' && key !== 'offsetDistance' && key !== 'offsetRotate' && key !== 'offsetAngle' && key !== 'offsetPoint') {\n            // this[key] = value;\n            _this2.subject.attr(key, value);\n          } else if (key === 'offsetPath') {\n            var offsetPath = new _svgPathToCanvas.default(value);\n\n            _this2.set('offsetPath', offsetPath.d);\n\n            _this2.saveObj('offsetPath', offsetPath);\n          } else {\n            _this2.set(key, value);\n          }\n        });\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"serialize\",\n      value: function value() {\n        var attrs = this.getAttributes();\n        delete attrs.id;\n        var offsetAngle = this.get('offsetAngle');\n        if (offsetAngle != null) attrs.offsetAngle = offsetAngle;\n        var offsetPoint = this.get('offsetPoint');\n        if (offsetPoint != null) attrs.offsetPoint = offsetPoint;\n        return JSON.stringify(attrs);\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr],\n      key: \"enableCache\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringFloat, _utils.oneOrTwoValues), (0, _utils.attr)({\n        cache: cache,\n        relayout: relayout,\n        reflow: reflow\n      })],\n      key: \"anchor\",\n      value: function value() {\n        return [0, 0];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"display\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      }), (0, _utils.relative)('width')],\n      key: \"layoutX\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      }), (0, _utils.relative)('height')],\n      key: \"layoutY\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      }), (0, _utils.relative)('width')],\n      key: \"x\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      }), (0, _utils.relative)('height')],\n      key: \"y\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringInt), _utils.attr, (0, _utils.composit)(['x', 'y'])],\n      key: \"pos\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseColorString), _utils.attr],\n      key: \"bgcolor\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        cache: cache\n      })],\n      key: \"opacity\",\n      value: function value() {\n        return 1;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      }), (0, _utils.relative)('width')],\n      key: \"width\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      }), (0, _utils.relative)('height')],\n      key: \"height\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      }), (0, _utils.relative)('width')],\n      key: \"layoutWidth\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      }), (0, _utils.relative)('height')],\n      key: \"layoutHeight\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringInt), _utils.attr, (0, _utils.composit)(['width', 'height'])],\n      key: \"size\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseInt), (0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"borderWidth\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"borderColor\",\n      value: function value() {\n        return 'rgba(0,0,0,0)';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"borderStyle\",\n      value: function value() {\n        return 'solid';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseBorderValue), _utils.attr, (0, _utils.composit)({\n        width: 'borderWidth',\n        color: 'borderColor',\n        style: 'borderStyle'\n      })],\n      key: \"border\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"paddingTop\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"paddingRight\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"paddingBottom\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"paddingLeft\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringInt, _utils.fourValuesShortCut), _utils.attr, (0, _utils.composit)(['paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft'])],\n      key: \"padding\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringFloat, _utils.eightValuesShortCut), (0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"borderRadius\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"boxSizing\",\n      value: function value() {\n        return 'content-box';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), _utils.attr],\n      key: \"dashOffset\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringTransform), (0, _utils.attr)({\n        cache: cache,\n        value: 'matrix(1,0,0,1,0,0)'\n      })],\n      key: \"transform\",\n      value: function value(val) {\n        var _this3 = this;\n\n        /*\n          rotate: 0,\n          scale: [1, 1],\n          translate: [0, 0],\n          skew: [0, 0],\n          matrix: [1,0,0,1,0,0],\n         */\n        Object.assign(this.__attr, {\n          rotate: 0,\n          scale: [1, 1],\n          translate: [0, 0],\n          skew: [0, 0]\n        });\n\n        if (Array.isArray(val)) {\n          this.transformMatrix = val;\n          this.set('transform', \"matrix(\".concat(val, \")\"));\n        } else {\n          this.transformMatrix = [1, 0, 0, 1, 0, 0];\n          var transformStr = [];\n          Object.entries(val).forEach(function (_ref3) {\n            var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n                key = _ref4[0],\n                value = _ref4[1];\n\n            if (key === 'matrix' && Array.isArray(value)) {\n              _this3.transformMatrix = new _spriteMath.Matrix(value).m;\n            } else {\n              _this3[key] = value;\n            }\n\n            transformStr.push(\"\".concat(key, \"(\").concat(value, \")\"));\n          });\n          this.set('transform', transformStr.join(' '));\n        }\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringFloat), (0, _utils.attr)({\n        cache: cache\n      })],\n      key: \"transformOrigin\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      })],\n      key: \"transformMatrix\",\n      value: function value() {\n        return [1, 0, 0, 1, 0, 0];\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        cache: cache,\n        value: 0\n      })],\n      key: \"rotate\",\n      value: function value(val) {\n        var delta = this.rotate - val;\n        this.set('rotate', val);\n        var transform = new _spriteMath.Matrix(this.transformMatrix).rotate(-delta);\n        this.transformMatrix = transform.m;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringFloat, _utils.oneOrTwoValues), (0, _utils.attr)({\n        cache: cache,\n        value: [1, 1]\n      })],\n      key: \"scale\",\n      value: function value(val) {\n        val = (0, _utils.oneOrTwoValues)(val).map(function (v) {\n          if (Math.abs(v) > 0.001) {\n            return v;\n          }\n\n          return 1 / v > 0 ? 0.001 : -0.001;\n        });\n        var oldVal = this.scale || [1, 1];\n        var delta = [val[0] / oldVal[0], val[1] / oldVal[1]];\n        this.set('scale', val);\n        var offsetAngle = this.get('offsetAngle');\n\n        if (offsetAngle) {\n          this.rotate -= offsetAngle;\n        }\n\n        var transform = new _spriteMath.Matrix(this.transformMatrix);\n        transform.scale.apply(transform, delta);\n        this.transformMatrix = transform.m;\n\n        if (offsetAngle) {\n          this.rotate += offsetAngle;\n        }\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        cache: cache,\n        value: [0, 0]\n      })],\n      key: \"translate\",\n      value: function value(val) {\n        var oldVal = this.translate || [0, 0];\n        var delta = [val[0] - oldVal[0], val[1] - oldVal[1]];\n        this.set('translate', val);\n        var transform = new _spriteMath.Matrix(this.transformMatrix);\n        transform.translate.apply(transform, delta);\n        this.transformMatrix = transform.m;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        cache: cache,\n        value: [0, 0]\n      })],\n      key: \"skew\",\n      value: function value(val) {\n        var _ref5, _transform$multiply;\n\n        var oldVal = this.skew || [0, 0];\n\n        var invm = (_ref5 = new _spriteMath.Matrix()).skew.apply(_ref5, (0, _toConsumableArray2.default)(oldVal)).inverse();\n\n        this.set('skew', val);\n        var transform = new _spriteMath.Matrix(this.transformMatrix);\n\n        (_transform$multiply = transform.multiply(invm)).skew.apply(_transform$multiply, (0, _toConsumableArray2.default)(val));\n\n        this.transformMatrix = transform.m;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.parseValue)(parseInt), (0, _utils.attr)({\n        cache: cache,\n        value: 0\n      })],\n      key: \"zIndex\",\n      value: function value(val) {\n        this.set('zIndex', val);\n        var subject = this.subject;\n\n        if (subject.parent) {\n          subject.parent.sortedChildNodes = (0, _utils.sortOrderedSprites)(subject.parent.childNodes);\n        }\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"linearGradients\",\n      value: function value(val)\n      /* istanbul ignore next  */\n      {\n        this.gradients = val;\n      }\n    }, {\n      kind: \"get\",\n      key: \"linearGradients\",\n      value: function value() {\n        return this.gradients;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr],\n      key: \"gradients\",\n      value: function value() {\n        return {};\n      }\n    }, {\n      kind: \"method\",\n      key: \"resetOffset\",\n      value: function value() {\n        var offsetPath = this.offsetPath;\n        var dis = this.offsetDistance;\n\n        if (offsetPath) {\n          var pathObj = this.loadObj('offsetPath');\n\n          if (pathObj) {\n            offsetPath = pathObj;\n          } else {\n            offsetPath = new _svgPathToCanvas.default(offsetPath);\n            this.saveObj('offsetPath', offsetPath);\n          }\n        }\n\n        if (offsetPath != null) {\n          var len = dis * offsetPath.getTotalLength();\n\n          var _offsetPath$getPointA = offsetPath.getPointAtLength(len),\n              _offsetPath$getPointA2 = (0, _slicedToArray2.default)(_offsetPath$getPointA, 2),\n              x = _offsetPath$getPointA2[0],\n              y = _offsetPath$getPointA2[1];\n\n          var angle = this.offsetRotate;\n\n          if (angle === 'auto' || angle === 'reverse') {\n            if (angle === 'reverse' && len === 0) {\n              len = 1;\n            }\n\n            var _offsetPath$getPointA3 = offsetPath.getPointAtLength(angle === 'auto' ? len + 1 : len - 1),\n                _offsetPath$getPointA4 = (0, _slicedToArray2.default)(_offsetPath$getPointA3, 2),\n                x1 = _offsetPath$getPointA4[0],\n                y1 = _offsetPath$getPointA4[1];\n\n            if (x1 === x && y1 === y) {\n              // last point\n              angle = this.get('offsetAngle');\n            } else {\n              angle = 180 * Math.atan2(y1 - y, x1 - x) / Math.PI;\n            }\n\n            if (this.offsetRotate === 'reverse') {\n              angle = -angle;\n            }\n          }\n\n          var offsetAngle = this.get('offsetAngle');\n\n          if (offsetAngle) {\n            this.rotate -= offsetAngle;\n          }\n\n          this.set('offsetAngle', angle);\n          this.rotate += angle;\n          var offsetPoint = this.get('offsetPoint');\n\n          if (offsetPoint) {\n            this.pos = [this.x - offsetPoint[0], this.y - offsetPoint[1]];\n          }\n\n          this.set('offsetPoint', [x, y]);\n          this.pos = [this.x + x, this.y + y];\n        }\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      })],\n      key: \"offsetPath\",\n      value: function value(val) {\n        var offsetPath = new _svgPathToCanvas.default(val);\n        this.set('offsetPath', offsetPath.d);\n        this.saveObj('offsetPath', offsetPath);\n        this.resetOffset();\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        cache: cache,\n        value: 0\n      })],\n      key: \"offsetDistance\",\n      value: function value(val) {\n        this.set('offsetDistance', val);\n        this.resetOffset();\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        cache: cache,\n        value: 'auto'\n      })],\n      key: \"offsetRotate\",\n      value: function value(val) {\n        if (typeof val === 'string' && val !== 'auto' && val !== 'reverse') {\n          val = parseFloat(val);\n        }\n\n        this.set('offsetRotate', val);\n        this.resetOffset();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      })],\n      key: \"filter\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache\n      })],\n      key: \"shadow\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        cache: cache,\n        relayout: relayout\n      })],\n      key: \"position\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout,\n        cache: cache\n      })],\n      key: \"marginTop\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout,\n        cache: cache\n      })],\n      key: \"marginRight\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout,\n        cache: cache\n      })],\n      key: \"marginBottom\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout,\n        cache: cache\n      })],\n      key: \"marginLeft\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringInt, _utils.fourValuesShortCut), _utils.attr, (0, _utils.composit)(['marginTop', 'marginRight', 'marginBottom', 'marginLeft'])],\n      key: \"margin\",\n      value: void 0\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        value: ''\n      })],\n      key: \"bgimage\",\n      value: function value(val) {\n        if (val && val.clip9) val.clip9 = (0, _utils.fourValuesShortCut)(val.clip9);\n\n        if (val && !val.image && this.subject.loadBgImage) {\n          val = this.subject.loadBgImage(val);\n        }\n\n        this.set('bgimage', val);\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr],\n      key: \"clipOverflow\",\n      value: function value() {\n        return true;\n      }\n    }]\n  };\n}, _attr.default);\nexports.default = SpriteAttr;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _utils = require(\"../utils\");\n\nvar _attr = Symbol('attr'),\n    _style = Symbol('style'),\n    _temp = Symbol('store'),\n    _subject = Symbol('subject'),\n    _default = Symbol('default');\n\nvar Attr = (0, _decorate2.default)(null, function (_initialize) {\n  var Attr = function Attr(subject) {\n    (0, _classCallCheck2.default)(this, Attr);\n\n    _initialize(this);\n\n    this[_subject] = subject;\n    this[_default] = {};\n    this[_attr] = {};\n    this[_style] = {};\n    this.__cached = {};\n    if (!subject.updateStyles) subject.updateStyles = function () {};\n    this[_temp] = new Map(); // save non-serialized values\n\n    Object.defineProperty(this, '__attributesSet', {\n      value: new Set()\n    });\n    Object.defineProperty(this, '__styleTag', {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, '__updateTag', {\n      writable: true,\n      value: false\n    });\n  };\n\n  return {\n    F: Attr,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"relatedAttributes\",\n      value: function value() {\n        return _utils.relatedAttributes;\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"attributeNames\",\n      value: function value() {\n        return _utils.attributeNames;\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"addAttributes\",\n      value: function value(attrs) {\n        var descriptors = {};\n        Object.entries(attrs).forEach(function (_ref) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              key = _ref2[0],\n              v = _ref2[1];\n\n          if (typeof v === 'function') {\n            var _setter = v;\n            v = {\n              set: function set(val) {\n                _setter(this, val);\n              }\n            };\n          }\n\n          var _v = v,\n              wrappers = _v.decorators,\n              value = _v.value,\n              get = _v.get,\n              set = _v.set;\n          wrappers = wrappers || [_utils.attr];\n\n          if (set == null) {\n            set = function set(val) {\n              this.set(key, val);\n            };\n          }\n\n          if (get == null) {\n            get = function get() {\n              return this.get(key);\n            };\n          }\n\n          var $decorator = _utils.decorators.apply(void 0, (0, _toConsumableArray2.default)(wrappers));\n\n          descriptors[key] = $decorator(key, value, {\n            set: set,\n            get: get\n          });\n        });\n        Object.defineProperties(this.prototype, descriptors);\n      }\n    }, {\n      kind: \"get\",\n      key: \"__attr\",\n      value: function value() {\n        return this[_attr];\n      }\n    }, {\n      kind: \"method\",\n      key: \"setDefault\",\n      value: function value(attrs) {\n        Object.assign(this[_default], attrs);\n      }\n    }, {\n      kind: \"method\",\n      key: \"getDefaultValue\",\n      value: function value(key, defaultValue) {\n        if (key in this[_default]) return this[_default][key];\n        return defaultValue;\n      }\n    }, {\n      kind: \"method\",\n      key: \"saveObj\",\n      value: function value(key, val) {\n        this[_temp].set(key, val);\n\n        this.__updateTag = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"loadObj\",\n      value: function value(key) {\n        return this[_temp].get(key);\n      }\n    }, {\n      kind: \"method\",\n      key: \"quietSet\",\n      value: function value(key, val) {\n        this.set(key, val, true);\n      }\n    }, {\n      kind: \"method\",\n      key: \"clearStyle\",\n      value: function value() {\n        this[_style] = {};\n      }\n    }, {\n      kind: \"method\",\n      key: \"clearLayout\",\n      value: function value() {\n        this.__clearLayout = true;\n        return this;\n      }\n    }, {\n      kind: \"get\",\n      key: \"style\",\n      value: function value() {\n        return this[_style];\n      }\n    }, {\n      kind: \"method\",\n      key: \"set\",\n      value: function value(key, val) {\n        var isQuiet = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        this.__quietTag = isQuiet;\n        var oldVal;\n\n        if (isQuiet && key.length > 5 && key.indexOf('data-') === 0) {\n          var dataKey = key.slice(5);\n          oldVal = this.subject.data(dataKey);\n          this.subject.data(dataKey, val);\n        } else if (this.__styleTag) {\n          oldVal = this[_style][key];\n\n          if (val != null) {\n            this[_style][key] = val;\n          } else {\n            delete this[_style][key];\n          }\n        } else {\n          oldVal = this[_attr][key];\n        }\n\n        if (val && (0, _typeof2.default)(val) === 'object') {\n          if (oldVal !== val && JSON.stringify(val) === JSON.stringify(oldVal)) {\n            return false;\n          }\n        } else if (oldVal === val) {\n          return false;\n        }\n\n        if (!this.__styleTag) {\n          this[_attr][key] = val;\n        }\n\n        this.__updateTag = true;\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"get\",\n      value: function value(key) {\n        if (key.length > 5 && key.indexOf('data-') === 0) {\n          return this.subject.data(key.slice(5));\n        }\n\n        if (this.__getStyleTag || this[_style][key] != null && !this.__attributesSet.has(key)) {\n          return this[_style][key];\n        }\n\n        return this[_attr][key];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getAttributes\",\n      value: function value() {\n        var _this = this;\n\n        var includeDefault = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var ret = {};\n\n        if (includeDefault) {\n          (0, _toConsumableArray2.default)(_utils.attributeNames).forEach(function (key) {\n            if (key in _this) {\n              ret[key] = _this[key];\n            }\n          });\n        }\n\n        (0, _toConsumableArray2.default)(this.__attributesSet).forEach(function (key) {\n          if (key.indexOf('__internal') !== 0) {\n            ret[key] = _this[key];\n          }\n        });\n        Object.entries(this).forEach(function (_ref3) {\n          var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n              key = _ref4[0],\n              value = _ref4[1];\n\n          if (key.indexOf('__') !== 0) {\n            ret[key] = value;\n          }\n        });\n        return ret;\n      }\n    }, {\n      kind: \"get\",\n      key: \"attrs\",\n      value: function value() {\n        return this.getAttributes(true);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [(0, _utils.deprecate)('You can remove this call.')],\n      key: \"clearCache\",\n      value: function value() {\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"merge\",\n      value: function value(attrs) {\n        var _this2 = this;\n\n        if (typeof attrs === 'string') {\n          attrs = JSON.parse(attrs);\n        }\n\n        Object.entries(attrs).forEach(function (_ref5) {\n          var _ref6 = (0, _slicedToArray2.default)(_ref5, 2),\n              key = _ref6[0],\n              value = _ref6[1];\n\n          _this2.subject.attr(key, value);\n        });\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"serialize\",\n      value: function value() {\n        var attrs = this.getAttributes();\n        delete attrs.id;\n        return JSON.stringify(attrs);\n      }\n    }, {\n      kind: \"get\",\n      key: \"subject\",\n      value: function value() {\n        return this[_subject];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(String), (0, _utils.attr)({\n        quiet: true\n      })],\n      key: \"id\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(String), (0, _utils.attr)({\n        quiet: true\n      })],\n      key: \"name\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(String), (0, _utils.attr)({\n        quiet: true\n      })],\n      key: \"class\",\n      value: void 0\n    }]\n  };\n});\nexports.default = Attr;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _attr2 = _interopRequireDefault(require(\"./attr\"));\n\nvar _utils = require(\"../utils\");\n\n// import stylesheet from './stylesheet';\nfunction createAttribute(attr, key) {\n  Object.defineProperty(attr, key, {\n    enumerable: false,\n    configurable: true,\n    set: function set(value) {\n      if (!this.__styleTag && value != null) {\n        this.__attributesSet.add(key);\n      }\n\n      if (!this.__styleTag && value == null) {\n        if (this.__attributesSet.has(key)) {\n          this.__attributesSet.delete(key);\n        }\n      }\n\n      this.quietSet(key, value);\n      var subject = this.subject; // fixed color inherit\n      // if(key === 'color') {\n      //   subject.attr('fillColor', value);\n      // }\n      // fixed font inherit\n\n      if (key === 'fontSize' || key === 'fontFamily' || key === 'fontStyle' || key === 'fontVariant' || key === 'fontWeight') {\n        var font = this.get('font') || 'normal normal normal 16px Arial';\n        var parsed = (0, _utils.parseFont)(font);\n        parsed.fontSize = parsed.size + parsed.unit;\n\n        if (key === 'fontSize' && (typeof value === 'number' || /[\\d.]$/.test(value))) {\n          value += 'px';\n        }\n\n        parsed[key] = value;\n        var style = parsed.style,\n            variant = parsed.variant,\n            weight = parsed.weight,\n            family = parsed.family,\n            fontSize = parsed.fontSize;\n        subject.attr('font', \"\".concat(style, \" \").concat(variant, \" \").concat(weight, \" \").concat(fontSize, \" \").concat(family));\n      }\n\n      if ((key === 'font' || key === 'lineHeight' || key === 'lineBreak' || key === 'wordBreak' || key === 'letterSpacing' || key === 'textIndent') && subject.querySelectorAll) {\n        var children = subject.querySelectorAll('*');\n        children.forEach(function (node) {\n          if (node.retypesetting) node.retypesetting();\n        });\n      }\n\n      if (_utils.inheritAttributes.has(key)) {\n        subject.forceUpdate();\n      }\n    },\n    get: function get() {\n      var ret = this.get(key);\n      return ret != null ? ret : this.getDefaultValue(key);\n    }\n  });\n}\n\nvar _eventHandlers = Symbol('eventHandlers'),\n    _collisionState = Symbol('collisionState'),\n    _data = Symbol('data'),\n    _mouseCapture = Symbol('mouseCapture');\n\nvar _attr = Symbol('attr');\n\nvar BaseNode =\n/*#__PURE__*/\nfunction () {\n  function BaseNode(attrs) {\n    (0, _classCallCheck2.default)(this, BaseNode);\n    this[_eventHandlers] = {};\n    this[_data] = {};\n    this[_attr] = new this.constructor.Attr(this);\n\n    if (attrs) {\n      this.attr(attrs);\n    }\n  }\n\n  (0, _createClass2.default)(BaseNode, [{\n    key: \"serialize\",\n    value: function serialize() {\n      var nodeType = this.nodeType,\n          attrs = this[_attr].serialize(),\n          dataset = JSON.stringify(this.dataset),\n          id = this.id;\n\n      return {\n        nodeType: nodeType,\n        attrs: attrs,\n        dataset: dataset,\n        id: id\n      };\n    }\n  }, {\n    key: \"clearLayout\",\n    value: function clearLayout() {\n      if (this.hasLayout) {\n        this.parent.clearLayout();\n      }\n    }\n  }, {\n    key: \"merge\",\n    value: function merge(attrs) {\n      this[_attr].merge(attrs);\n    }\n  }, {\n    key: \"cloneNode\",\n    value: function cloneNode() {\n      var node = new this.constructor();\n      node.merge(this[_attr].serialize());\n      node.data(this.dataset);\n      var bgimage = this.attr('bgimage');\n\n      if (bgimage && bgimage.image) {\n        node.attr('bgimage', null);\n        node.attr('bgimage', Object.assign({}, bgimage));\n      }\n\n      return node;\n    }\n  }, {\n    key: \"attr\",\n    value: function attr(props, val) {\n      var _this = this;\n\n      var setVal = function setVal(key, value) {\n        if (!(key in _this[_attr])) {\n          createAttribute(_this[_attr], key);\n        }\n\n        _this[_attr][key] = value;\n      };\n\n      if ((0, _typeof2.default)(props) === 'object') {\n        Object.entries(props).forEach(function (_ref) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              prop = _ref2[0],\n              value = _ref2[1];\n\n          _this.attr(prop, value);\n        });\n        return this;\n      }\n\n      if (typeof props === 'string') {\n        if (val !== undefined) {\n          if (props === 'attrs') {\n            if (Array.isArray(val)) {\n              val = Object.assign.apply(Object, [{}].concat((0, _toConsumableArray2.default)(val)));\n            }\n\n            Object.entries(val).forEach(function (_ref3) {\n              var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n                  prop = _ref4[0],\n                  value = _ref4[1];\n\n              _this.attr(prop, value);\n            });\n            return this;\n          }\n\n          if (props === 'style') {\n            if (Array.isArray(val)) {\n              val = Object.assign.apply(Object, [{}].concat((0, _toConsumableArray2.default)(val)));\n            }\n\n            Object.entries(val).forEach(function (_ref5) {\n              var _ref6 = (0, _slicedToArray2.default)(_ref5, 2),\n                  prop = _ref6[0],\n                  value = _ref6[1];\n\n              _this.style[prop] = value;\n            });\n            return this;\n          }\n\n          if (typeof val === 'function') {\n            val = val(this.attr(props));\n          }\n\n          if (val && typeof val.then === 'function') {\n            return val.then(function (res) {\n              setVal(props, res);\n            });\n          }\n\n          setVal(props, val);\n          return this;\n        }\n\n        if (!(props in this[_attr])) {\n          createAttribute(this[_attr], props);\n        }\n\n        return this[_attr][props];\n      }\n\n      return this[_attr].attrs;\n    }\n  }, {\n    key: \"forceUpdate\",\n    value: function forceUpdate(clearCache) {\n      var parent = this.parent;\n\n      if (parent) {\n        this.parent.update(this);\n      }\n    }\n  }, {\n    key: \"restyle\",\n    value: function restyle() {// stylesheet.computeStyle(this);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var styleNeedUpdate = this.__styleNeedUpdate;\n\n      if (styleNeedUpdate) {\n        this.restyle();\n\n        if (this.querySelectorAll) {\n          var children = this.querySelectorAll('*');\n          children.forEach(function (child) {\n            return child.restyle();\n          });\n        }\n\n        if (styleNeedUpdate === 'siblings') {\n          if (this.parent) {\n            var _children = this.parent.children;\n\n            var index = _children.indexOf(this);\n\n            var len = _children.length;\n\n            for (var i = index + 1; i < len; i++) {\n              var node = _children[i];\n              node.restyle();\n\n              if (node.querySelectorAll) {\n                var nodes = node.querySelectorAll('*');\n                nodes.forEach(function (child) {\n                  return child.restyle();\n                });\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"data\",\n    value: function data(props, val) {\n      var _this2 = this;\n\n      var setVal = function setVal(key, value) {\n        _this2[_data][key] = value;\n\n        if (_this2.attr) {\n          var attrKey = \"data-\".concat(key); // this.attr(attrKey, value);\n\n          if (_attr2.default.relatedAttributes.has(attrKey)) {\n            _this2.updateStyles();\n          }\n        }\n\n        if (value == null) {\n          delete _this2[_data][key];\n        }\n      };\n\n      if ((0, _typeof2.default)(props) === 'object') {\n        Object.entries(props).forEach(function (_ref7) {\n          var _ref8 = (0, _slicedToArray2.default)(_ref7, 2),\n              prop = _ref8[0],\n              value = _ref8[1];\n\n          _this2.data(prop, value);\n        });\n        return this;\n      }\n\n      if (typeof props === 'string') {\n        if (val !== undefined) {\n          if (typeof val === 'function') {\n            val = val(this[_data][props]);\n          }\n\n          if (val && typeof val.then === 'function') {\n            return val.then(function (res) {\n              setVal(props, res);\n            });\n          }\n\n          setVal(props, val);\n          return this;\n        }\n\n        return this[_data][props];\n      }\n\n      return this[_data];\n    }\n  }, {\n    key: \"updateStyles\",\n    value: function updateStyles() {\n      var nextSibling = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      // append to parent & reset name or class or id auto updateStyles\n      this.__styleNeedUpdate = nextSibling ? 'siblings' : 'children';\n      this.forceUpdate(true);\n    }\n  }, {\n    key: \"getEventHandlers\",\n    value: function getEventHandlers(type) {\n      return type != null ? this[_eventHandlers][type] || [] : this[_eventHandlers];\n    }\n  }, {\n    key: \"on\",\n    value: function on(type, handler) {\n      var _this3 = this;\n\n      var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (Array.isArray(type)) {\n        type.forEach(function (t) {\n          return _this3.on(t, handler);\n        });\n      } else {\n        this[_eventHandlers][type] = this[_eventHandlers][type] || [];\n\n        this[_eventHandlers][type].push({\n          handler: handler,\n          useCapture: useCapture\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"once\",\n    value: function once(type, handler) {\n      var _this4 = this;\n\n      var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (Array.isArray(type)) {\n        type.forEach(function (t) {\n          return _this4.once(t, handler);\n        });\n      } else {\n        this.on(type, function f() {\n          this.off(type, f);\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          return handler.apply(this, args);\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(type, handler) {\n      var _this5 = this;\n\n      if (Array.isArray(type)) {\n        type.forEach(function (t) {\n          return _this5.off(t, handler);\n        });\n      } else if (handler && this[_eventHandlers][type]) {\n        var handlers = this[_eventHandlers][type];\n\n        if (handlers) {\n          for (var i = 0; i < handlers.length; i++) {\n            var _handler = handlers[i].handler;\n\n            if (_handler === handler) {\n              this[_eventHandlers][type].splice(i, 1);\n\n              break;\n            }\n          }\n        }\n      } else {\n        delete this[_eventHandlers][type];\n      }\n\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var exit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (!this.parent) return null;\n      return this.parent.removeChild(this, exit);\n    }\n  }, {\n    key: \"pointCollision\",\n    value: function pointCollision(evt) {\n      throw Error('you must override this method');\n    }\n  }, {\n    key: \"setMouseCapture\",\n    value: function setMouseCapture() {\n      this[_mouseCapture] = true;\n    }\n  }, {\n    key: \"releaseMouseCapture\",\n    value: function releaseMouseCapture() {\n      this[_mouseCapture] = false;\n    }\n  }, {\n    key: \"isCaptured\",\n    value: function isCaptured(evt) {\n      return (evt.type === 'mousemove' || evt.type === 'mousedown' || evt.type === 'mouseup') && this[_mouseCapture];\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(type, evt) {\n      var _this6 = this;\n\n      var collisionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var swallow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var useCapturePhase = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      // eslint-disable-line complexity\n      var handlers = this.getEventHandlers(type);\n      if (this.children && useCapturePhase === true) handlers = handlers.filter(function (handler) {\n        return handler.useCapture;\n      });\n      if (this.children && useCapturePhase === false) handlers = handlers.filter(function (handler) {\n        return !handler.useCapture;\n      });\n      evt.returnValue = true;\n\n      if (swallow && handlers.length === 0) {\n        return;\n      }\n\n      if (!evt.stopDispatch) {\n        evt.stopDispatch = function () {\n          evt.terminated = true;\n        };\n      }\n\n      if (!evt.stopPropagation) {\n        evt.stopPropagation = function () {\n          evt.cancelBubble = true;\n        };\n      }\n\n      if (!evt.preventDefault) {\n        evt.preventDefault = function () {\n          evt.returnValue = false;\n        };\n      }\n\n      if (evt.type !== type) {\n        if (evt.type) {\n          evt.originalType = evt.type;\n        }\n\n        evt.type = type;\n      }\n\n      var isCollision = collisionState || this.pointCollision(evt);\n      var captured = this.isCaptured(evt);\n\n      if (this[_collisionState] && type === 'mouseleave') {\n        // dispatched from group\n        evt.target = this;\n        this[_collisionState] = false;\n        isCollision = true;\n        this.attr('__internal_state_hover_', null);\n      }\n\n      if (!evt.terminated && (isCollision || captured)) {\n        if (!evt.target) evt.target = this;\n        var identifier = evt.identifier;\n\n        if (identifier != null) {\n          if (type === 'touchstart') {\n            var layer = this.layer;\n            layer.touchedTargets[identifier] = layer.touchedTargets[identifier] || [];\n            layer.touchedTargets[identifier].push(this);\n          }\n\n          if (/^touch/.test(type)) {\n            var touches = Array.from(evt.originalEvent.touches),\n                _layer = this.layer;\n            evt.targetTouches = [];\n            touches.forEach(function (touch) {\n              var identifier = touch.identifier;\n\n              if (_layer.touchedTargets[identifier] && _layer.touchedTargets[identifier].indexOf(_this6) >= 0) {\n                evt.targetTouches.push(touch);\n              }\n            });\n          }\n        }\n\n        if (type === 'mousedown' || type === 'touchstart') {\n          this.attr('__internal_state_active_', 'active');\n        } else if (type === 'mouseup' || type === 'touchend') {\n          this.attr('__internal_state_active_', null);\n        }\n\n        (0, _toConsumableArray2.default)(handlers).forEach(function (handler) {\n          return handler.handler.call(_this6, evt);\n        });\n\n        if (!this[_collisionState] && isCollision && type === 'mousemove') {\n          var _evt = Object.assign({}, evt);\n\n          _evt.type = 'mouseenter';\n          delete _evt.target;\n          _evt.terminated = false;\n          this.dispatchEvent('mouseenter', _evt, true, true);\n          this.attr('__internal_state_hover_', 'hover');\n          this[_collisionState] = true;\n        }\n      }\n\n      if (this[_collisionState] && !isCollision && type === 'mousemove') {\n        var _evt2 = Object.assign({}, evt);\n\n        _evt2.type = 'mouseleave';\n        delete _evt2.target;\n        _evt2.terminated = false;\n        this.dispatchEvent('mouseleave', _evt2);\n        this.attr('__internal_state_hover_', null); // this[_collisionState] = false;\n      }\n\n      return isCollision;\n    } // called when layer appendChild\n\n  }, {\n    key: \"connect\",\n    value: function connect(parent) {\n      var zOrder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this.parent) {\n        // throw new Error('This node belongs to another parent node! Remove it first...')\n        this.remove();\n      }\n\n      Object.defineProperty(this, 'zOrder', {\n        value: zOrder,\n        writable: false,\n        configurable: true\n      });\n      Object.defineProperty(this, 'parent', {\n        get: function get() {\n          return parent;\n        },\n        configurable: true\n      });\n      this.dispatchEvent('append', {\n        parent: parent,\n        zOrder: zOrder\n      }, true, true);\n      parent.dispatchEvent('appendChild', {\n        child: this,\n        zOrder: zOrder\n      }, true, true);\n\n      if (this.layer) {\n        this.updateStyles(true);\n      }\n\n      return this;\n    } // override to recycling resources\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(parent) {\n      if (!this.parent || parent !== this.parent) {\n        throw new Error('Invalid node to disconnect');\n      }\n\n      if (this.layer) {\n        var nextSibling = this.nextElementSilbing;\n        if (nextSibling) nextSibling.updateStyles(true);\n      }\n\n      var zOrder = this.zOrder;\n      delete this.zOrder;\n      delete this.parent;\n      delete this.isDirty;\n      this.dispatchEvent('remove', {\n        parent: parent,\n        zOrder: zOrder\n      }, true, true);\n      parent.dispatchEvent('removeChild', {\n        child: this,\n        zOrder: zOrder\n      }, true, true);\n      return this;\n    }\n  }, {\n    key: \"enter\",\n    value: function enter() {\n      // override to do atction after connection, can return a promise\n      return this;\n    }\n  }, {\n    key: \"exit\",\n    value: function exit() {\n      // override to do atction before disconnection, can return a promise\n      return this;\n    }\n  }, {\n    key: \"__attr\",\n    get: function get() {\n      return this[_attr];\n    }\n  }, {\n    key: \"layer\",\n    get: function get() {\n      return this.parent && this.parent.layer;\n    }\n  }, {\n    key: \"dataset\",\n    get: function get() {\n      return this[_data];\n    }\n  }, {\n    key: \"id\",\n    set: function set(val) {\n      this.attr('id', val);\n    },\n    get: function get() {\n      return this.attr('id');\n    }\n  }, {\n    key: \"name\",\n    set: function set(val) {\n      this.attr('name', val);\n    },\n    get: function get() {\n      return this.attr('name');\n    }\n  }, {\n    key: \"className\",\n    set: function set(val) {\n      this.attr('class', val);\n    },\n    get: function get() {\n      return this.attr('class');\n    }\n  }]);\n  return BaseNode;\n}();\n\nexports.default = BaseNode;\n(0, _defineProperty2.default)(BaseNode, \"Attr\", _attr2.default);\n(0, _defineProperty2.default)(BaseNode, \"inheritAttributes\", _utils.inheritAttributes);","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _utils = require(\"../utils\");\n\n// http://www.runoob.com/cssref/css3-pr-filter.html\nvar _default = {\n  blur: function blur(px) {\n    return \"blur(\".concat((0, _utils.appendUnit)(px), \")\");\n  },\n  brightness: function brightness(percent) {\n    return \"brightness(\".concat(percent, \")\");\n  },\n  contrast: function contrast(percent) {\n    return \"contrast(\".concat(percent, \")\");\n  },\n  dropShadow: function dropShadow(_ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 4),\n        offsetX = _ref2[0],\n        offsetY = _ref2[1],\n        shadowRadius = _ref2[2],\n        color = _ref2[3];\n\n    return \"drop-shadow(\".concat((0, _utils.appendUnit)(offsetX), \" \").concat((0, _utils.appendUnit)(offsetY), \" \").concat((0, _utils.appendUnit)(shadowRadius), \" \").concat(color, \")\");\n  },\n  grayscale: function grayscale(percent) {\n    return \"grayscale(\".concat(percent, \")\");\n  },\n  hueRotate: function hueRotate(value) {\n    return \"hue-rotate(\".concat((0, _utils.appendUnit)(value, 'deg'), \")\");\n  },\n  invert: function invert(percent) {\n    return \"invert(\".concat(percent, \")\");\n  },\n  opacity: function opacity(percent) {\n    return \"opacity(\".concat(percent, \")\");\n  },\n  saturate: function saturate(percent) {\n    return \"saturate(\".concat(percent, \")\");\n  },\n  sepia: function sepia(percent) {\n    return \"sepia(\".concat(percent, \")\");\n  },\n  url: function url(path) {\n    return \"url(\".concat(path, \")\");\n  },\n  compile: function compile() {\n    var _this = this;\n\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Object.entries(filter).reduce(function (accumulator, curVal) {\n      return accumulator.concat(_this[curVal[0]](curVal[1]));\n    }, []).join(' ');\n  }\n};\nexports.default = _default;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _set2 = _interopRequireDefault(require(\"@babel/runtime/helpers/set\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _utils = require(\"../utils\");\n\nvar _basesprite = _interopRequireDefault(require(\"./basesprite\"));\n\nvar _filters = _interopRequireDefault(require(\"./filters\"));\n\nvar _texturesCache = Symbol('_texturesCache');\n\nvar _images = Symbol('_images');\n\nvar TextureAttr = (0, _decorate2.default)(null, function (_initialize, _BaseSprite$Attr) {\n  var TextureAttr =\n  /*#__PURE__*/\n  function (_BaseSprite$Attr2) {\n    (0, _inherits2.default)(TextureAttr, _BaseSprite$Attr2);\n\n    function TextureAttr() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      (0, _classCallCheck2.default)(this, TextureAttr);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(TextureAttr)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      return _this;\n    }\n\n    return TextureAttr;\n  }(_BaseSprite$Attr);\n\n  return {\n    F: TextureAttr,\n    d: [{\n      kind: \"field\",\n      decorators: [_utils.attr],\n      key: \"enableCache\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        value: []\n      })],\n      key: \"textures\",\n      value: function value(textures) {\n        if (!Array.isArray(textures)) {\n          textures = [textures];\n        }\n\n        textures = textures.map(function (texture) {\n          if (!texture.image) {\n            texture = {\n              image: texture\n            };\n          }\n\n          texture.__tag = (0, _utils.generateID)(texture.image); // prevent JSON.stringify ignorance\n\n          return texture;\n        });\n        this.loadTextures(textures);\n        this.set('textures', textures);\n      }\n    }, {\n      kind: \"method\",\n      key: \"loadTextures\",\n      value: function value(textures) {\n        var subject = this.subject; // adaptive textures\n\n        var width = 0,\n            height = 0;\n        subject.images = textures.map(function (texture) {\n          var image = texture.image,\n              rect = texture.rect,\n              srcRect = texture.srcRect;\n          var w, h;\n\n          if (rect) {\n            w = rect[2] + rect[0];\n            h = rect[3] + rect[1];\n          } else if (srcRect) {\n            w = srcRect[2];\n            h = srcRect[3];\n          } else {\n            w = image.width;\n            h = image.height;\n          }\n\n          if (width < w) {\n            width = w;\n          }\n\n          if (height < h) {\n            height = h;\n          }\n\n          delete texture.image;\n          return image;\n        });\n        var texturesSize = subject.texturesSize;\n\n        if (!texturesSize || texturesSize[0] !== width || texturesSize[1] !== height) {\n          var attrSize = subject.attrSize;\n\n          if (attrSize[0] === '' || attrSize[1] === '') {\n            subject.reflow();\n            subject.clearLayout();\n          }\n        }\n\n        subject.texturesSize = [width, height];\n        return textures;\n      }\n    }]\n  };\n}, _basesprite.default.Attr);\nvar Sprite = (0, _decorate2.default)(null, function (_initialize2, _BaseSprite) {\n  var Sprite =\n  /*#__PURE__*/\n  function (_BaseSprite2) {\n    (0, _inherits2.default)(Sprite, _BaseSprite2);\n\n    /**\n      new Sprite({\n        attr: {\n          ...\n        },\n        attributeChangedCallback: function(prop, oldValue, newValue){\n         }\n      })\n     */\n    function Sprite(attr) {\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, Sprite);\n\n      if (attr && attr.constructor !== Object) {\n        attr = {\n          textures: [attr]\n        };\n      }\n\n      _this2 = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(Sprite).call(this));\n\n      _initialize2((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2)));\n\n      _this2[_texturesCache] = new Map();\n\n      if (attr) {\n        _this2.attr(attr);\n      }\n\n      return _this2;\n    }\n\n    return Sprite;\n  }(_BaseSprite);\n\n  return {\n    F: Sprite,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"Attr\",\n      value: function value() {\n        return TextureAttr;\n      }\n    }, {\n      kind: \"method\",\n      key: \"cloneNode\",\n      value: function value() {\n        var _this3 = this;\n\n        var node = (0, _get2.default)((0, _getPrototypeOf3.default)(Sprite.prototype), \"cloneNode\", this).call(this);\n\n        if (this.images) {\n          node.textures = this.textures.map(function (texture, i) {\n            texture.image = _this3.images[i];\n            return texture;\n          });\n        }\n\n        return node;\n      }\n    }, {\n      kind: \"set\",\n      key: \"images\",\n      value: function value(images) {\n        this[_images] = images;\n      }\n    }, {\n      kind: \"get\",\n      key: \"images\",\n      value: function value() {\n        return this[_images];\n      }\n    }, {\n      kind: \"set\",\n      key: \"textures\",\n      value: function value(textures) {\n        this.attr('textures', textures);\n      }\n    }, {\n      kind: \"get\",\n      key: \"textures\",\n      value: function value() {\n        return this.attr('textures');\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"contentSize\",\n      value: function value() {\n        var _this$attrSize = (0, _slicedToArray2.default)(this.attrSize, 2),\n            width = _this$attrSize[0],\n            height = _this$attrSize[1];\n\n        var boxSize = this.texturesSize || [0, 0];\n        var w = width,\n            h = height;\n\n        if (width === '') {\n          w = boxSize[0] | 0;\n\n          if (height !== '' && boxSize[1]) {\n            w *= height / boxSize[1];\n          }\n        }\n\n        if (height === '') {\n          h = boxSize[1] | 0;\n\n          if (width !== '' && boxSize[0]) {\n            h *= width / boxSize[0];\n          }\n        }\n\n        return [w, h];\n      }\n    }, {\n      kind: \"method\",\n      key: \"pointCollision\",\n      value: function value(evt) {\n        var _this4 = this;\n\n        if ((0, _get2.default)((0, _getPrototypeOf3.default)(Sprite.prototype), \"pointCollision\", this).call(this, evt)) {\n          var textures = this.textures;\n\n          if (textures) {\n            var offsetX = evt.offsetX,\n                offsetY = evt.offsetY;\n            if (offsetX == null && offsetY == null) return true;\n            evt.targetTextures = [];\n\n            var _this$attr = this.attr('anchor'),\n                _this$attr2 = (0, _slicedToArray2.default)(_this$attr, 2),\n                anchorX = _this$attr2[0],\n                anchorY = _this$attr2[1],\n                _this$contentSize = (0, _slicedToArray2.default)(this.contentSize, 2),\n                width = _this$contentSize[0],\n                height = _this$contentSize[1];\n\n            offsetX += width * anchorX;\n            offsetY += height * anchorY;\n            textures.forEach(function (texture) {\n              var _ref = texture.rect || [0, 0].concat((0, _toConsumableArray2.default)(_this4.innerSize)),\n                  _ref2 = (0, _slicedToArray2.default)(_ref, 4),\n                  x = _ref2[0],\n                  y = _ref2[1],\n                  w = _ref2[2],\n                  h = _ref2[3];\n\n              if (offsetX >= x && offsetX - x < w && offsetY >= y && offsetY - y < h) {\n                // touched textures\n                evt.targetTextures.push(texture);\n              }\n            });\n          }\n\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"get\",\n      key: \"cache\",\n      value: function value() {\n        var bg = this.attr('bgcolor') || this.attr('gradients').bgcolor;\n\n        if (!bg && this.textures.length <= 1) {\n          return false;\n        }\n\n        return (0, _get2.default)((0, _getPrototypeOf3.default)(Sprite.prototype), \"cache\", this);\n      }\n    }, {\n      kind: \"set\",\n      key: \"cache\",\n      value: function value(context) {\n        (0, _set2.default)((0, _getPrototypeOf3.default)(Sprite.prototype), \"cache\", context, this, true);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function value(t, drawingContext) {\n        var _this5 = this;\n\n        (0, _get2.default)((0, _getPrototypeOf3.default)(Sprite.prototype), \"render\", this).call(this, t, drawingContext);\n        var textures = this.textures;\n        var cliped = !this.attr('clipOverflow');\n\n        if (this.images && this.images.length) {\n          textures.forEach(function (texture, i) {\n            var img = _this5.images[i];\n\n            var _this5$contentSize = (0, _slicedToArray2.default)(_this5.contentSize, 2),\n                w = _this5$contentSize[0],\n                h = _this5$contentSize[1];\n\n            var rect = texture.rect || [0, 0, w, h];\n            var srcRect = texture.srcRect;\n\n            if (!cliped && texture.rect && (rect[2] > w || rect[3] > h)) {\n              cliped = true;\n              drawingContext.beginPath();\n              drawingContext.rect(0, 0, w, h);\n              drawingContext.clip();\n            }\n\n            drawingContext.save();\n\n            if (texture.filter) {\n              (0, _utils.setDeprecation)('texture.filter', 'Instead use sprite.attr({filter}).');\n              var imgRect = srcRect ? [0, 0, srcRect[2], srcRect[3]] : [0, 0, img.width, img.height];\n              var sx = rect[2] / imgRect[2],\n                  sy = rect[3] / imgRect[3];\n              drawingContext.filter = _filters.default.compile(texture.filter);\n\n              if (srcRect) {\n                drawingContext.drawImage.apply(drawingContext, [img].concat((0, _toConsumableArray2.default)(srcRect), [sx * imgRect[0] + rect[0], sy * imgRect[1] + rect[1], sx * srcRect[2], sy * srcRect[3]]));\n              } else {\n                drawingContext.drawImage(img, sx * imgRect[0] + rect[0], sy * imgRect[1] + rect[1], sx * img.width, sy * img.height);\n              }\n            } else if (srcRect) {\n              drawingContext.drawImage.apply(drawingContext, [img].concat((0, _toConsumableArray2.default)(srcRect), (0, _toConsumableArray2.default)(rect)));\n            } else {\n              drawingContext.drawImage.apply(drawingContext, [img].concat((0, _toConsumableArray2.default)(rect)));\n            }\n\n            drawingContext.restore();\n          });\n        }\n      }\n    }]\n  };\n}, _basesprite.default);\nexports.default = Sprite;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _cssLineBreak = require(\"css-line-break\");\n\nvar _utils = require(\"../utils\");\n\nvar _basesprite = _interopRequireDefault(require(\"./basesprite\"));\n\nvar _render = require(\"../utils/render\");\n\nvar _boxSize = Symbol('boxSize'),\n    _outputText = Symbol('outputText');\n\nvar measureText = function measureText(node, text, font) {\n  var lineHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var ctx = node.context;\n\n  if (!ctx) {\n    return [0, 0];\n  }\n\n  ctx.save();\n  ctx.font = font;\n\n  var _ctx$measureText = ctx.measureText(text),\n      width = _ctx$measureText.width;\n\n  ctx.restore();\n  var letterSpacing = node.attr('letterSpacing');\n\n  if (letterSpacing) {\n    width += letterSpacing * (text.length - 1);\n  }\n\n  var _parseFont = (0, _utils.parseFont)(font),\n      size = _parseFont.size;\n\n  var height = lineHeight || size * 1.2;\n  return [width, height].map(Math.round);\n};\n\nfunction calculTextboxSize(node) {\n  if (!node.context) return '';\n  var text = node.text,\n      font = node.attr('font'),\n      lineHeight = node.attr('lineHeight'),\n      textIndent = node.attr('textIndent');\n  var lines = [];\n  var width = 0,\n      height = 0;\n  node[_outputText] = text;\n  var lineBreak = node.attr('lineBreak'),\n      textboxWidth = node.hasLayout ? node.attr('layoutWidth') : node.attr('width');\n\n  if (lineBreak !== '' && textboxWidth !== '') {\n    var wordBreak = node.attr('wordBreak');\n    text.split(/\\n/).forEach(function (line) {\n      var breaker = (0, _cssLineBreak.LineBreaker)(line, {\n        lineBreak: lineBreak,\n        wordBreak: wordBreak\n      });\n      var words = [];\n      var bk = breaker.next();\n\n      while (!bk.done) {\n        words.push(bk.value.slice());\n        bk = breaker.next();\n      }\n\n      var l = '';\n      words.forEach(function (word) {\n        if (!l) {\n          l = word;\n        } else {\n          var ll = \"\".concat(l).concat(word);\n\n          var _measureText = measureText(node, ll, font),\n              _measureText2 = (0, _slicedToArray2.default)(_measureText, 1),\n              w = _measureText2[0];\n\n          if (w > (lines.length === 0 ? textboxWidth - textIndent : textboxWidth)) {\n            lines.push(l);\n            l = word;\n          } else {\n            l = ll;\n          }\n        }\n      });\n      lines.push(l);\n    }); // lines = node[_outputText].split(/\\n/)\n\n    node[_outputText] = lines.join('\\n');\n  } else {\n    lines = text.split(/\\n/);\n  }\n\n  lines.forEach(function (line, idx) {\n    var _measureText3 = measureText(node, line, font, lineHeight),\n        _measureText4 = (0, _slicedToArray2.default)(_measureText3, 2),\n        w = _measureText4[0],\n        h = _measureText4[1];\n\n    if (idx === 0) w += textIndent;\n    width = Math.max(width, w);\n    height += h;\n  });\n  var boxSize = node[_boxSize];\n\n  if (!boxSize || boxSize[0] !== width || boxSize[1] !== height) {\n    var attrSize = node.attrSize;\n\n    if (attrSize[0] === '' || attrSize[1] === '') {\n      node.reflow();\n      node.clearLayout();\n    }\n  }\n\n  node[_boxSize] = [width, height];\n}\n\nfunction setFontPart(font, part) {\n  var _Object$assign = Object.assign((0, _utils.parseFont)(font), part),\n      style = _Object$assign.style,\n      variant = _Object$assign.variant,\n      weight = _Object$assign.weight,\n      size0 = _Object$assign.size0,\n      unit = _Object$assign.unit,\n      family = _Object$assign.family;\n\n  return \"\".concat(style, \" \").concat(variant, \" \").concat(weight, \" \").concat(size0).concat(unit, \" \").concat(family);\n}\n\nvar LabelSpriteAttr = (0, _decorate2.default)(null, function (_initialize, _BaseSprite$Attr) {\n  var LabelSpriteAttr =\n  /*#__PURE__*/\n  function (_BaseSprite$Attr2) {\n    (0, _inherits2.default)(LabelSpriteAttr, _BaseSprite$Attr2);\n\n    function LabelSpriteAttr() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      (0, _classCallCheck2.default)(this, LabelSpriteAttr);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(LabelSpriteAttr)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      return _this;\n    }\n\n    return LabelSpriteAttr;\n  }(_BaseSprite$Attr);\n\n  return {\n    F: LabelSpriteAttr,\n    d: [{\n      kind: \"method\",\n      key: \"retypesetting\",\n      value: function value() {\n        this.subject.retypesetting();\n      }\n    }, {\n      kind: \"method\",\n      key: \"widthRetypeseting\",\n      value: function value() {\n        if (this.lineBreak !== '') this.subject.retypesetting();else this.subject.reflow();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(String), (0, _utils.attr)({\n        extra: 'retypesetting'\n      })],\n      key: \"text\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)('normal normal normal 16px Arial')],\n      key: \"font\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"fontSize\",\n      value: function value(val) {\n        if (val == null) val = '16px';\n        var unit = 'px';\n\n        if (typeof val === 'string') {\n          var unitReg = /^([\\d.]+)(\\w+)/;\n          var matches = val.match(unitReg);\n\n          if (!matches) {\n            return null;\n          }\n\n          val = parseFloat(matches[1]);\n          unit = matches[2];\n        }\n\n        this.font = setFontPart(this.font, {\n          size0: val,\n          unit: unit\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"fontSize\",\n      value: function value() {\n        var font = this.font;\n\n        var _parseFont2 = (0, _utils.parseFont)(font),\n            size0 = _parseFont2.size0,\n            unit = _parseFont2.unit;\n\n        return \"\".concat(size0).concat(unit);\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"fontFamily\",\n      value: function value(val) {\n        if (val == null) val = 'Arial';\n        this.font = setFontPart(this.font, {\n          family: val\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"fontFamily\",\n      value: function value() {\n        return (0, _utils.parseFont)(this.font).family;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"fontStyle\",\n      value: function value(val) {\n        if (val == null) val = 'normal';\n        this.font = setFontPart(this.font, {\n          style: val\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"fontStyle\",\n      value: function value() {\n        return (0, _utils.parseFont)(this.font).style;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"fontVariant\",\n      value: function value(val) {\n        if (val == null) val = 'normal';\n        this.font = setFontPart(this.font, {\n          variant: val\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"fontVariant\",\n      value: function value() {\n        return (0, _utils.parseFont)(this.font).variant;\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"fontWeight\",\n      value: function value(val) {\n        if (val == null) val = 'normal';\n        this.font = setFontPart(this.font, {\n          weight: val\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"fontWeight\",\n      value: function value() {\n        return (0, _utils.parseFont)(this.font).weight;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)('')],\n      key: \"lineHeight\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)('left')],\n      key: \"textAlign\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseColorString), _utils.attr, (0, _utils.inherit)('')],\n      key: \"strokeColor\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), _utils.attr],\n      key: \"strokeWidth\",\n      value: function value() {\n        return 1;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseColorString), _utils.attr, (0, _utils.inherit)('')],\n      key: \"color\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr, (0, _utils.composit)('color')],\n      key: \"fillColor\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr],\n      key: \"flexible\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)('')],\n      key: \"lineBreak\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)('')],\n      key: \"wordBreak\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)(0)],\n      key: \"letterSpacing\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        extra: 'retypesetting'\n      }), (0, _utils.inherit)(0)],\n      key: \"textIndent\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        extra: 'widthRetypeseting'\n      }), (0, _utils.relative)('width')],\n      key: \"width\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        extra: 'widthRetypeseting'\n      }), (0, _utils.relative)('width')],\n      key: \"layoutWidth\",\n      value: function value() {\n        return '';\n      }\n    }]\n  };\n}, _basesprite.default.Attr);\nvar Label = (0, _decorate2.default)(null, function (_initialize2, _BaseSprite) {\n  var Label =\n  /*#__PURE__*/\n  function (_BaseSprite2) {\n    (0, _inherits2.default)(Label, _BaseSprite2);\n\n    function Label(attr) {\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, Label);\n\n      if ((0, _typeof2.default)(attr) !== 'object') {\n        attr = {\n          text: String(attr)\n        };\n      }\n\n      _this2 = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(Label).call(this, attr));\n\n      _initialize2((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2)));\n\n      return _this2;\n    }\n\n    return Label;\n  }(_BaseSprite);\n\n  return {\n    F: Label,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"Attr\",\n      value: function value() {\n        return LabelSpriteAttr;\n      }\n    }, {\n      kind: \"set\",\n      key: \"text\",\n      value: function value(val) {\n        this.attr('text', val);\n      }\n    }, {\n      kind: \"get\",\n      key: \"text\",\n      value: function value() {\n        return this.attr('text');\n      }\n    }, {\n      kind: \"get\",\n      key: \"textboxSize\",\n      value: function value() {\n        if (!this[_boxSize]) calculTextboxSize(this);\n        return this[_boxSize];\n      }\n    }, {\n      kind: \"get\",\n      key: \"flexibleFont\",\n      value: function value() {\n        var font = this.attr('font');\n        if (this.attr('width') === '' && this.attr('layoutWidth') === '') return font;\n        var textboxSize = this.textboxSize,\n            contentSize = this.contentSize;\n\n        var _parseFont3 = (0, _utils.parseFont)(font),\n            style = _parseFont3.style,\n            variant = _parseFont3.variant,\n            weight = _parseFont3.weight,\n            size = _parseFont3.size,\n            family = _parseFont3.family;\n\n        size *= contentSize[0] / textboxSize[0];\n        return \"\".concat(style, \" \").concat(variant, \" \").concat(weight, \" \").concat(Math.floor(size), \"px \\\"\").concat(family, \"\\\"\");\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"contentSize\",\n      value: function value() {\n        var _this$attrSize = (0, _slicedToArray2.default)(this.attrSize, 2),\n            width = _this$attrSize[0],\n            height = _this$attrSize[1];\n\n        if (width === '' || height === '') {\n          var textboxSize = this.textboxSize;\n          if (!textboxSize) return [0, 0];\n          width = width || textboxSize[0];\n          height = height || textboxSize[1];\n        }\n\n        if (this.attr('flexible') && this.attr('height') === '' && this.attr('layoutHeight') === '') {\n          height = Math.ceil(height * width / this.textboxSize[0]);\n        }\n\n        return [width, height];\n      }\n    }, {\n      kind: \"method\",\n      key: \"connect\",\n      value: function value(parent) {\n        var zOrder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var ret = (0, _get2.default)((0, _getPrototypeOf3.default)(Label.prototype), \"connect\", this).call(this, parent, zOrder);\n        var _p = parent;\n\n        while (_p && _p.__labelCount != null) {\n          ++_p.__labelCount;\n          _p = _p.parent;\n        }\n\n        return ret;\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnect\",\n      value: function value(parent) {\n        var ret = (0, _get2.default)((0, _getPrototypeOf3.default)(Label.prototype), \"disconnect\", this).call(this, parent);\n        var _p = parent;\n\n        while (_p && _p.__labelCount != null) {\n          --_p.__labelCount;\n          _p = _p.parent;\n        }\n\n        return ret;\n      }\n    }, {\n      kind: \"method\",\n      key: \"retypesetting\",\n      value: function value() {\n        // calculTextboxSize(this);\n        this[_boxSize] = false;\n        this[_outputText] = null;\n        this.reflow();\n        this.forceUpdate(true);\n      }\n    }, {\n      kind: \"method\",\n      key: \"restyle\",\n      value: function value() {\n        (0, _get2.default)((0, _getPrototypeOf3.default)(Label.prototype), \"restyle\", this).call(this);\n        this.retypesetting();\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function value(t, drawingContext) {\n        var _this3 = this;\n\n        (0, _get2.default)((0, _getPrototypeOf3.default)(Label.prototype), \"render\", this).call(this, t, drawingContext);\n        var textAlign = this.attr('textAlign'),\n            flexible = this.attr('flexible'),\n            font = flexible ? this.flexibleFont : this.attr('font'),\n            strokeWidth = this.attr('strokeWidth'),\n            lineHeight = this.attr('lineHeight');\n        var text = this.text;\n\n        if (text) {\n          var _this$contentSize = (0, _slicedToArray2.default)(this.contentSize, 2),\n              w = _this$contentSize[0],\n              h = _this$contentSize[1];\n\n          if (!this[_outputText]) calculTextboxSize(this);\n          text = this[_outputText] || this.text;\n\n          if ((this.textboxSize[0] > w || this.textboxSize[1] > h) && this.attr('clipOverflow')) {\n            drawingContext.beginPath();\n            drawingContext.rect(0, 0, w, h);\n            drawingContext.clip();\n          }\n\n          drawingContext.font = font;\n          var lines = text.split(/\\n/);\n          drawingContext.textBaseline = 'top';\n          var align = textAlign;\n          drawingContext.textBaseline = 'middle';\n          var strokeColor = (0, _render.findColor)(drawingContext, this, 'strokeColor');\n\n          if (strokeColor) {\n            drawingContext.strokeStyle = strokeColor;\n          }\n\n          var fillColor = (0, _render.findColor)(drawingContext, this, 'fillColor');\n\n          if (!strokeColor && !fillColor) {\n            fillColor = (0, _utils.parseColorString)('black');\n          }\n\n          if (fillColor) {\n            drawingContext.fillStyle = fillColor;\n          }\n\n          drawingContext.lineWidth = strokeWidth;\n          var top = 0;\n          var width = this.contentSize[0];\n          var letterSpacing = this.attr('letterSpacing'),\n              textIndent = this.attr('textIndent');\n          lines.forEach(function (line, idx) {\n            var _measureText5 = measureText(_this3, line, font, lineHeight),\n                _measureText6 = (0, _slicedToArray2.default)(_measureText5, 2),\n                w = _measureText6[0],\n                h = _measureText6[1];\n\n            var left = 0;\n\n            if (align === 'center') {\n              left = (width - w) / 2;\n            } else if (align === 'right') {\n              left = width - w;\n            }\n\n            var indent = 0;\n\n            if (textIndent && idx === 0 && align !== 'right') {\n              indent = textIndent;\n            }\n\n            if (letterSpacing) {\n              var l = left;\n              (0, _toConsumableArray2.default)(line).forEach(function (letter, i) {\n                if (idx === 0 && i === 0) {\n                  l += indent;\n                }\n\n                if (fillColor) {\n                  drawingContext.fillText(letter, l, top + h / 2);\n                }\n\n                if (strokeColor) {\n                  drawingContext.strokeText(letter, l, top + h / 2);\n                }\n\n                l += measureText(_this3, letter, font)[0] + letterSpacing;\n              });\n            } else {\n              if (fillColor) {\n                drawingContext.fillText(line, left + indent, top + h / 2);\n              }\n\n              if (strokeColor) {\n                drawingContext.strokeText(line, left + indent, top + h / 2);\n              }\n            }\n\n            top += h;\n          });\n        }\n      }\n    }]\n  };\n}, _basesprite.default);\nexports.default = Label;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _spriteAnimator = require(\"sprite-animator\");\n\nvar _fastAnimationFrame = require(\"../helpers/fast-animation-frame\");\n\nvar _basenode = _interopRequireDefault(require(\"./basenode\"));\n\nvar _basesprite = _interopRequireDefault(require(\"./basesprite\"));\n\nvar _batch = _interopRequireDefault(require(\"./batch\"));\n\nvar _group = _interopRequireDefault(require(\"./group\"));\n\nvar _group2 = _interopRequireDefault(require(\"../helpers/group\"));\n\nvar _utils = require(\"../utils\");\n\n// import stylesheet from './stylesheet';\nvar _zOrder = Symbol('zOrder'),\n    _timeline = Symbol('timeline'),\n    _renderDeferer = Symbol('renderDeferrer'),\n    _drawTask = Symbol('drawTask'),\n    _autoRender = Symbol('autoRender'),\n    _adjustTimer = Symbol('adjustTimer');\n\nvar LayerAttr = (0, _decorate2.default)(null, function (_initialize, _BaseNode$Attr) {\n  var LayerAttr =\n  /*#__PURE__*/\n  function (_BaseNode$Attr2) {\n    (0, _inherits2.default)(LayerAttr, _BaseNode$Attr2);\n\n    function LayerAttr(subject) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, LayerAttr);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(LayerAttr).call(this, subject));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      _this.setDefault({\n        bgcolor: ''\n      });\n\n      return _this;\n    }\n\n    return LayerAttr;\n  }(_BaseNode$Attr);\n\n  return {\n    F: LayerAttr,\n    d: [{\n      kind: \"set\",\n      decorators: [(0, _utils.parseValue)(_utils.parseColorString), _utils.attr],\n      key: \"bgcolor\",\n      value: function value(val) {\n        this.set('bgcolor', val);\n        var subject = this.subject;\n\n        if (subject.canvas && subject.canvas.style) {\n          if (val != null) {\n            this.quietSet('canvasBgColor', subject.canvas.style.backgroundColor);\n            subject.canvas.style.backgroundColor = val;\n          } else {\n            subject.canvas.style.backgroundColor = this.get('canvasBgColor');\n          }\n        }\n      }\n    }]\n  };\n}, _basenode.default.Attr);\n\nvar Layer =\n/*#__PURE__*/\nfunction (_BaseNode) {\n  (0, _inherits2.default)(Layer, _BaseNode);\n\n  function Layer() {\n    var _this2;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        context = _ref.context,\n        _ref$evaluateFPS = _ref.evaluateFPS,\n        evaluateFPS = _ref$evaluateFPS === void 0 ? false : _ref$evaluateFPS,\n        _ref$renderMode = _ref.renderMode,\n        renderMode = _ref$renderMode === void 0 ? 'repaintAll' : _ref$renderMode,\n        _ref$autoRender = _ref.autoRender,\n        autoRender = _ref$autoRender === void 0 ? true : _ref$autoRender,\n        _ref$useDocumentCSS = _ref.useDocumentCSS,\n        useDocumentCSS = _ref$useDocumentCSS === void 0 ? false : _ref$useDocumentCSS;\n\n    (0, _classCallCheck2.default)(this, Layer);\n    _this2 = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Layer).call(this));\n    _this2[_autoRender] = autoRender; // renderMode: repaintAll | repaintDirty\n\n    if (renderMode === 'repaintDirty') {\n      (0, _utils.setDeprecation)('renderRepaintDirty');\n    }\n\n    if (evaluateFPS !== false) {\n      (0, _utils.setDeprecation)('evaluateFPS');\n    }\n\n    _this2.outputContext = context;\n    if (context.canvas) context.canvas.layer_ = (0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2));\n    _this2.childNodes = [];\n    _this2.sortedChildNodes = [];\n    _this2[_zOrder] = 0;\n    _this2[_timeline] = new _spriteAnimator.Timeline(_fastAnimationFrame.timeline);\n    _this2[_renderDeferer] = null;\n    _this2.touchedTargets = {}; // auto release\n\n    /* istanbul ignore if  */\n\n    if (context.canvas && context.canvas.addEventListener) {\n      context.canvas.addEventListener('DOMNodeRemovedFromDocument', function () {\n        var _this3;\n\n        _this2._savePlaybackRate = _this2.timeline.playbackRate;\n        _this2._saveChildren = (0, _toConsumableArray2.default)(_this2.childNodes);\n\n        (_this3 = _this2).remove.apply(_this3, (0, _toConsumableArray2.default)(_this2.childNodes));\n\n        _this2.timeline.playbackRate = 0;\n      });\n      context.canvas.addEventListener('DOMNodeInsertedIntoDocument', function () {\n        if (_this2._saveChildren) {\n          var _this4;\n\n          _this2.timeline.playbackRate = _this2._savePlaybackRate;\n\n          (_this4 = _this2).append.apply(_this4, (0, _toConsumableArray2.default)(_this2._saveChildren));\n\n          delete _this2._saveChildren;\n        }\n      });\n    }\n\n    if (useDocumentCSS) {\n      _this2.fromDocumentCSS();\n    }\n\n    return _this2;\n  }\n\n  (0, _createClass2.default)(Layer, [{\n    key: \"fromDocumentCSS\",\n    value: function fromDocumentCSS() {// stylesheet.fromDocumentCSS();\n    }\n  }, {\n    key: \"clearContext\",\n    value: function clearContext() {\n      var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.outputContext;\n\n      if (context.canvas) {\n        var _context$canvas = context.canvas,\n            width = _context$canvas.width,\n            height = _context$canvas.height;\n        context.clearRect(0, 0, width, height);\n      }\n    }\n  }, {\n    key: \"prepareRender\",\n    value: function prepareRender() {\n      var _this5 = this;\n\n      if (!this[_renderDeferer]) {\n        this[_renderDeferer] = {};\n        this[_renderDeferer].promise = new Promise(function (resolve, reject) {\n          Object.assign(_this5[_renderDeferer], {\n            resolve: resolve,\n            reject: reject\n          });\n\n          if (_this5.autoRender) {\n            _this5[_drawTask] = (0, _fastAnimationFrame.requestAnimationFrame)(function () {\n              delete _this5[_drawTask];\n\n              _this5.draw();\n            });\n          }\n        }); // .catch(ex => console.error(ex.message))\n      }\n\n      return this[_renderDeferer] ? this[_renderDeferer].promise : Promise.resolve();\n    }\n  }, {\n    key: \"forceUpdate\",\n    value: function forceUpdate() {\n      return this.prepareRender();\n    }\n  }, {\n    key: \"restyle\",\n    value: function restyle() {\n      var bgcolor = this.style.bgcolor;\n      (0, _get2.default)((0, _getPrototypeOf2.default)(Layer.prototype), \"restyle\", this).call(this);\n\n      if (bgcolor) {\n        var color = this.attr('bgcolor');\n\n        if (color !== bgcolor && this.canvas && this.canvas.style) {\n          this.canvas.style = color;\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var clearContext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      // if(this.__styleNeedUpdate) {\n      //   stylesheet.computeStyle(this);\n      // }\n      (0, _get2.default)((0, _getPrototypeOf2.default)(Layer.prototype), \"draw\", this).call(this);\n      var renderDeferrer = this[_renderDeferer];\n      this[_renderDeferer] = null;\n\n      if (this[_drawTask]) {\n        (0, _fastAnimationFrame.cancelAnimationFrame)(this[_drawTask]);\n        delete this[_drawTask];\n      }\n\n      var currentTime = this.timeline.currentTime;\n      this.repaint(currentTime, clearContext);\n      (0, _get2.default)((0, _getPrototypeOf2.default)(Layer.prototype), \"dispatchEvent\", this).call(this, 'update', {\n        target: this,\n        timeline: this.timeline,\n        renderTime: currentTime\n      }, true, true);\n\n      if (renderDeferrer) {\n        renderDeferrer.resolve();\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(target) {\n      if (target && target.isDirty) return;\n\n      if (target) {\n        target.isDirty = true;\n      }\n\n      this.prepareRender();\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      if (this.canvas) {\n        return this.canvas.width > 0 && this.canvas.height > 0;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"drawSprites\",\n    value: function drawSprites(renderEls, t) {\n      _utils.cacheContextPool.flush();\n\n      if (this.beforeDrawTransform) {\n        this.outputContext.save();\n        this.beforeDrawTransform();\n      }\n\n      for (var i = 0; i < renderEls.length; i++) {\n        var child = renderEls[i],\n            isDirty = child.isDirty;\n        child.isDirty = false;\n\n        if (child.parent === this) {\n          child.draw(t);\n\n          if (isDirty) {\n            child.dispatchEvent('update', {\n              target: child,\n              renderTime: t\n            }, true, true);\n          }\n        }\n      }\n\n      if (this.beforeDrawTransform) {\n        this.outputContext.restore();\n      }\n    }\n  }, {\n    key: \"repaint\",\n    value: function repaint(t) {\n      var clearContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var renderEls = this.sortedChildNodes;\n      var outputContext = this.outputContext;\n      if (clearContext) this.clearContext(outputContext);\n      this.drawSprites(renderEls, t);\n    }\n  }, {\n    key: \"pointCollision\",\n    value: function pointCollision(evt) {\n      if (this.outputContext.canvas) {\n        var layerX = evt.layerX,\n            layerY = evt.layerY;\n        var _this$outputContext$c = this.outputContext.canvas,\n            width = _this$outputContext$c.width,\n            height = _this$outputContext$c.height;\n\n        if (layerX == null && layerY == null || layerX >= 0 && layerY >= 0 && layerX < width && layerY < height) {\n          return true;\n        }\n\n        return false;\n      }\n      /* istanbul ignore next  */\n\n\n      return true;\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(type, evt) {\n      var _this6 = this;\n\n      var collisionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var swallow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var useCapturePhase = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      // eslint-disable-line complexity\n      var handlers = this.getEventHandlers(type);\n\n      if (swallow && handlers.length === 0) {\n        return;\n      }\n\n      var hasCapturePhase = false;\n\n      if (!swallow && !evt.terminated && type !== 'mouseenter') {\n        var isCollision = collisionState || this.pointCollision(evt);\n        var identifier = evt.identifier;\n\n        if (identifier != null && (type === 'touchend' || type === 'touchmove')) {\n          isCollision = true;\n        }\n\n        if (isCollision || type === 'mouseleave') {\n          var sprites = this.sortedChildNodes.slice(0).reverse();\n          var targetSprites = [];\n\n          if (identifier != null && (type === 'touchend' || type === 'touchmove')) {\n            var touches = evt.originalEvent.changedTouches;\n\n            for (var i = 0; i < touches.length; i++) {\n              var touch = touches[i];\n\n              if (touch.identifier === identifier) {\n                var targets = this.layer.touchedTargets[identifier];\n\n                if (targets) {\n                  targets.forEach(function (target) {\n                    if (target !== _this6 && target.layer === _this6) {\n                      var _target$getParentXY = target.getParentXY(evt.layerX, evt.layerY),\n                          _target$getParentXY2 = (0, _slicedToArray2.default)(_target$getParentXY, 2),\n                          parentX = _target$getParentXY2[0],\n                          parentY = _target$getParentXY2[1];\n\n                      var _parent = [evt.parentX, evt.parentY];\n                      evt.parentX = parentX;\n                      evt.parentY = parentY;\n                      target.dispatchEvent(type, evt, true, true, useCapturePhase);\n                      evt.parentX = _parent[0];\n                      evt.parentY = _parent[1];\n                    }\n                  });\n                  if (type === 'touchend') delete this.layer.touchedTargets[identifier];\n                }\n              }\n            }\n          } else {\n            evt.parentX = evt.layerX;\n            evt.parentY = evt.layerY;\n\n            if (isCollision && handlers.length && handlers.some(function (handler) {\n              return handler.useCapture;\n            })) {\n              hasCapturePhase = true;\n              if (!evt.target) evt.target = this.getTargetFromXY(evt.parentX, evt.parentY);\n              (0, _get2.default)((0, _getPrototypeOf2.default)(Layer.prototype), \"dispatchEvent\", this).call(this, type, evt, isCollision, swallow, true);\n            }\n\n            if (!hasCapturePhase || !evt.cancelBubble) {\n              for (var _i = 0; _i < sprites.length; _i++) {\n                var sprite = sprites[_i];\n                var hit = sprite.dispatchEvent(type, evt, collisionState, swallow, useCapturePhase);\n\n                if (hit) {\n                  if (evt.targetSprites) {\n                    targetSprites.push.apply(targetSprites, (0, _toConsumableArray2.default)(evt.targetSprites));\n                    delete evt.targetSprites;\n                  } // detect mouseenter/mouseleave\n\n\n                  targetSprites.push(sprite);\n                }\n\n                if (evt.terminated && type !== 'mousemove') {\n                  break;\n                }\n              }\n            }\n\n            delete evt.parentX;\n            delete evt.parentY;\n          }\n\n          evt.targetSprites = targetSprites; // stopDispatch can only terminate event in the same level\n\n          evt.terminated = false;\n          collisionState = isCollision;\n        }\n      }\n\n      evt.targetSprites = evt.targetSprites || [];\n\n      if (evt.cancelBubble) {\n        // stop bubbling\n        return false;\n      }\n\n      if (hasCapturePhase) {\n        return (0, _get2.default)((0, _getPrototypeOf2.default)(Layer.prototype), \"dispatchEvent\", this).call(this, type, evt, collisionState, swallow, false);\n      }\n\n      if (evt.targetSprites.length > 0) {\n        // bubbling\n        collisionState = true;\n      }\n\n      var layerX = evt.layerX,\n          layerY = evt.layerY;\n\n      if (layerX != null && layerY != null) {\n        evt.offsetX = layerX + this.offset[0];\n        evt.offsetY = layerY + this.offset[1];\n      }\n\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(Layer.prototype), \"dispatchEvent\", this).call(this, type, evt, collisionState, swallow, useCapturePhase);\n    }\n  }, {\n    key: \"group\",\n    value: function group() {\n      var group = new _group.default();\n      group.append.apply(group, arguments);\n      this.appendChild(group);\n      return group;\n    }\n  }, {\n    key: \"batch\",\n    value: function batch() {\n      var _this7 = this;\n\n      for (var _len = arguments.length, sprites = new Array(_len), _key = 0; _key < _len; _key++) {\n        sprites[_key] = arguments[_key];\n      }\n\n      sprites.forEach(function (sprite) {\n        if (sprite.layer !== _this7) {\n          _this7.appendChild(sprite);\n        }\n      });\n      var batch = new _batch.default(this);\n      batch.add.apply(batch, sprites);\n      return batch;\n    }\n  }, {\n    key: \"adjust\",\n    value: function adjust(handler)\n    /* istanbul ignore next  */\n    {\n      var _this8 = this;\n\n      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!update) return;\n      var outputContext = this.outputContext;\n      var shadowContext = this.adjustContext || outputContext.canvas.cloneNode().getContext('2d');\n\n      if (!this[_adjustTimer]) {\n        this.autoRender = false;\n        shadowContext.clearRect(0, 0, shadowContext.canvas.width, shadowContext.canvas.height);\n        shadowContext._clearTag = false;\n        shadowContext.drawImage(outputContext.canvas, 0, 0);\n        this.adjustContext = shadowContext;\n      } else {\n        clearTimeout(this[_adjustTimer]);\n      }\n\n      this[_adjustTimer] = setTimeout(function () {\n        _this8.autoRender = true;\n        delete _this8[_adjustTimer];\n      }, 100);\n\n      if (shadowContext.canvas.width > 0 && shadowContext.canvas.height > 0) {\n        this.clearContext(outputContext);\n        outputContext.save();\n        handler.call(this, outputContext);\n        outputContext.drawImage(shadowContext.canvas, 0, 0);\n        outputContext.restore();\n      }\n    }\n  }, {\n    key: \"resolution\",\n    get: function get() {\n      return [this.canvas.width, this.canvas.height];\n    }\n  }, {\n    key: \"autoRender\",\n    set: function set(value) {\n      this[_autoRender] = value;\n\n      if (value) {\n        this.draw();\n      }\n    },\n    get: function get() {\n      return this[_autoRender];\n    }\n  }, {\n    key: \"layer\",\n    get: function get() {\n      return this;\n    }\n  }, {\n    key: \"children\",\n    get: function get() {\n      return this.childNodes.filter(function (child) {\n        return child instanceof _basesprite.default;\n      });\n    }\n  }, {\n    key: \"timeline\",\n    get: function get() {\n      return this[_timeline];\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.outputContext;\n    }\n  }, {\n    key: \"canvas\",\n    get: function get() {\n      return this.outputContext && this.outputContext.canvas;\n    }\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return [0, 0];\n    }\n  }]);\n  return Layer;\n}(_basenode.default);\n\nexports.default = Layer;\n(0, _defineProperty2.default)(Layer, \"Attr\", LayerAttr);\nObject.assign(Layer.prototype, _group2.default);","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.timeline = exports.cancelAnimationFrame = exports.requestAnimationFrame = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _spriteAnimator = require(\"sprite-animator\");\n\nvar _requestAnimationFrame, _cancelAnimationFrame;\n\nif (typeof global.requestAnimationFrame === 'undefined') {\n  _requestAnimationFrame = function _requestAnimationFrame(fn) {\n    return setTimeout(function () {\n      fn(Date.now());\n    }, 16);\n  };\n\n  _cancelAnimationFrame = function _cancelAnimationFrame(id) {\n    return clearTimeout(id);\n  };\n} else {\n  _requestAnimationFrame = global.requestAnimationFrame;\n  _cancelAnimationFrame = global.cancelAnimationFrame;\n}\n\nvar steps = new Map();\nvar timerId;\nvar currentTime = Date.now();\n\nvar requestAnimationFrame = function requestAnimationFrame(step) {\n  var id = Symbol('requestId');\n  steps.set(id, step);\n\n  if (timerId == null) {\n    if (steps.size === 1) {\n      currentTime = Date.now();\n    }\n\n    timerId = _requestAnimationFrame(function (t) {\n      timerId = null;\n      currentTime = Date.now();\n      (0, _toConsumableArray2.default)(steps).forEach(function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n            id = _ref2[0],\n            callback = _ref2[1];\n\n        callback(t);\n        steps.delete(id);\n      });\n    });\n  }\n\n  return id;\n};\n\nexports.requestAnimationFrame = requestAnimationFrame;\n\nvar cancelAnimationFrame = function cancelAnimationFrame(id) {\n  steps.delete(id);\n\n  if (!steps.size && timerId) {\n    _cancelAnimationFrame(timerId);\n\n    timerId = null;\n  }\n};\n\nexports.cancelAnimationFrame = cancelAnimationFrame;\nvar timeline = new _spriteAnimator.Timeline({\n  nowtime: function nowtime() {\n    return steps.size ? currentTime : Date.now();\n  }\n});\nexports.timeline = timeline;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _utils = require(\"../utils\");\n\nvar _batch = Symbol('batch');\n\nvar Batch =\n/*#__PURE__*/\nfunction () {\n  function Batch(layer) {\n    (0, _classCallCheck2.default)(this, Batch);\n    this.layer = layer;\n    this[_batch] = new Set();\n    this.cache = null;\n  }\n\n  (0, _createClass2.default)(Batch, [{\n    key: \"add\",\n    value: function add() {\n      var _this = this;\n\n      for (var _len = arguments.length, nodes = new Array(_len), _key = 0; _key < _len; _key++) {\n        nodes[_key] = arguments[_key];\n      }\n\n      nodes.forEach(function (node) {\n        if (!node.layer || node.layer !== _this.layer) {\n          /* istanbul ignore next  */\n          throw new Error('Batch node must append to this layer first!');\n        }\n\n        if (node[_batch]) {\n          /* istanbul ignore next  */\n          throw new Error('Node already batched!');\n        }\n\n        node.attr('enableCache', true);\n        var that = _this;\n        Object.defineProperty(node, 'cache', {\n          configurable: true,\n          get: function get() {\n            return that.cache;\n          },\n          set: function set(context) {\n            if (that.baseNode === this) {\n              if (that.cache && context !== that.cache) {\n                _utils.cacheContextPool.put(that.cache);\n              }\n\n              that.cache = context;\n            } else if (context == null) {\n              throw new Error('Cannot set non-cachable attributes to batch members.Use batch.baseNode.attr(...)');\n            }\n          }\n        });\n        node[_batch] = _this;\n\n        _this[_batch].add(node);\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _this2 = this;\n\n      for (var _len2 = arguments.length, nodes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        nodes[_key2] = arguments[_key2];\n      }\n\n      nodes.forEach(function (node) {\n        if (_this2[_batch].has(node)) {\n          delete node[_batch];\n          delete node.cache;\n\n          _this2[_batch].delete(node);\n        }\n      });\n    }\n  }, {\n    key: \"baseNode\",\n    get: function get() {\n      var batchNodes = (0, _toConsumableArray2.default)(this[_batch]);\n      var baseNode = batchNodes[0],\n          zOrder = Infinity,\n          zIndex = Infinity;\n\n      for (var i = 0; i < batchNodes.length; i++) {\n        var node = batchNodes[i];\n\n        if (zIndex > node.zIndex) {\n          zIndex = node.zIndex;\n          zOrder = node.zOrder;\n          baseNode = node;\n        } else if (zIndex === node.zIndex && zOrder > node.zOrder) {\n          zOrder = node.zOrder;\n          baseNode = node;\n        }\n      }\n\n      return baseNode;\n    }\n  }]);\n  return Batch;\n}();\n\nexports.default = Batch;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _utils = require(\"../utils\");\n\nvar _basesprite = _interopRequireDefault(require(\"./basesprite\"));\n\nvar _group = _interopRequireDefault(require(\"../helpers/group\"));\n\nvar _zOrder = Symbol('zOrder'),\n    _layoutTag = Symbol('layoutTag');\n\nvar reflow = true,\n    relayout = true;\nvar GroupAttr = (0, _decorate2.default)(null, function (_initialize, _BaseSprite$Attr) {\n  var GroupAttr =\n  /*#__PURE__*/\n  function (_BaseSprite$Attr2) {\n    (0, _inherits2.default)(GroupAttr, _BaseSprite$Attr2);\n\n    function GroupAttr(subject) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, GroupAttr);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(GroupAttr).call(this, subject));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      GroupAttr.inits.forEach(function (init) {\n        init((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)), subject);\n      });\n      return _this;\n    }\n\n    return GroupAttr;\n  }(_BaseSprite$Attr);\n\n  return {\n    F: GroupAttr,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"inits\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr],\n      key: \"enableCache\",\n      value: function value() {\n        return 'auto';\n      }\n    }, {\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow,\n        value: null\n      })],\n      key: \"clip\",\n      value: function value(val) {\n        if (val) {\n          val = typeof val === 'string' ? {\n            d: val\n          } : val;\n          this.subject.svg = (0, _utils.createSvgPath)(val);\n          this.set('clip', val);\n        } else {\n          this.subject.svg = null;\n          this.set('clip', null);\n        }\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout\n      }), (0, _utils.relative)('width')],\n      key: \"layoutWidth\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout\n      }), (0, _utils.relative)('height')],\n      key: \"layoutHeight\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout\n      }), (0, _utils.relative)('width')],\n      key: \"width\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow,\n        relayout: relayout\n      }), (0, _utils.relative)('height')],\n      key: \"height\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        relayout: relayout\n      })],\n      key: \"display\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), _utils.attr],\n      key: \"scrollLeft\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), _utils.attr],\n      key: \"scrollTop\",\n      value: function value() {\n        return 0;\n      }\n    }]\n  };\n}, _basesprite.default.Attr);\n\nvar _layout = Symbol('layout');\n\nvar Group = (0, _decorate2.default)(null, function (_initialize2, _BaseSprite) {\n  var Group =\n  /*#__PURE__*/\n  function (_BaseSprite2) {\n    (0, _inherits2.default)(Group, _BaseSprite2);\n\n    function Group() {\n      var _this2;\n\n      var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      (0, _classCallCheck2.default)(this, Group);\n      _this2 = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Group).call(this, attr));\n\n      _initialize2((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2)));\n\n      _this2.childNodes = [];\n      _this2.sortedChildNodes = [];\n      _this2[_zOrder] = 0;\n      _this2[_layoutTag] = false;\n      _this2.__labelCount = 0;\n      return _this2;\n    }\n\n    return Group;\n  }(_BaseSprite);\n\n  return {\n    F: Group,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"Attr\",\n      value: function value() {\n        return GroupAttr;\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"applyLayout\",\n      value: function value(name, layout) {\n        this[_layout] = this[_layout] || {};\n        var attrs = layout.attrs,\n            relayout = layout.relayout;\n\n        if (attrs.init) {\n          GroupAttr.inits.push(attrs.init);\n        }\n\n        Group.addAttributes(attrs);\n        this[_layout][name] = relayout;\n      }\n    }, {\n      kind: \"get\",\n      key: \"isVirtual\",\n      value: function value() {\n        var display = this.attr('display');\n        if (display !== '' && display !== 'none') return false;\n        var parent = this.parent;\n        if (parent && parent instanceof Group && !parent.isVirtual) return false;\n\n        var _this$attr = this.attr('border'),\n            borderWidth = _this$attr.width,\n            borderRadius = this.attr('borderRadius'),\n            bgcolor = this.attr('bgcolor'),\n            _this$attr2 = this.attr('gradients'),\n            bgGradient = _this$attr2.bgcolor,\n            _this$attrSize = (0, _slicedToArray2.default)(this.attrSize, 2),\n            width = _this$attrSize[0],\n            height = _this$attrSize[1],\n            _this$attr3 = this.attr('anchor'),\n            _this$attr4 = (0, _slicedToArray2.default)(_this$attr3, 2),\n            anchorX = _this$attr4[0],\n            anchorY = _this$attr4[1],\n            bgimage = this.attr('bgimage'),\n            _this$attr5 = this.attr('padding'),\n            _this$attr6 = (0, _slicedToArray2.default)(_this$attr5, 4),\n            paddingTop = _this$attr6[0],\n            paddingRight = _this$attr6[1],\n            paddingBottom = _this$attr6[2],\n            paddingLeft = _this$attr6[3];\n\n        return !anchorX && !anchorY && !width && !height && !borderRadius && !borderWidth && !bgcolor && !bgGradient && !bgimage && !paddingTop && !paddingRight && !paddingBottom && !paddingLeft;\n      }\n    }, {\n      kind: \"method\",\n      key: \"connect\",\n      value: function value(parent) {\n        var zOrder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var ret = (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"connect\", this).call(this, parent, zOrder);\n        var labelCount = this.__labelCount;\n        var _p = parent;\n\n        while (_p && _p.__labelCount != null) {\n          _p.__labelCount += labelCount;\n          _p = _p.parent;\n        }\n\n        return ret;\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnect\",\n      value: function value(parent) {\n        var ret = (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"disconnect\", this).call(this, parent);\n        var labelCount = this.__labelCount;\n        var _p = parent;\n\n        while (_p && _p.__labelCount != null) {\n          _p.__labelCount -= labelCount;\n          _p = _p.parent;\n        }\n\n        return ret;\n      }\n    }, {\n      kind: \"method\",\n      key: \"scrollTo\",\n      value: function value(x, y) {\n        this.attr('scrollLeft', x);\n        this.attr('scrollTop', y);\n      }\n    }, {\n      kind: \"method\",\n      key: \"scrollBy\",\n      value: function value(dx, dy) {\n        var x = this.attr('scrollLeft'),\n            y = this.attr('scrollTop');\n        this.scrollTo(x + dx, y + dy);\n      }\n    }, {\n      kind: \"method\",\n      key: \"cloneNode\",\n      value: function value(deepCopy) {\n        var node = (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"cloneNode\", this).call(this);\n\n        if (deepCopy) {\n          var children = this.childNodes;\n          children.forEach(function (child) {\n            var subNode = child.cloneNode(deepCopy);\n            node.append(subNode);\n          });\n        }\n\n        return node;\n      }\n    }, {\n      kind: \"get\",\n      key: \"children\",\n      value: function value() {\n        var children = this.childNodes || [];\n        return children.filter(function (child) {\n          return child instanceof _basesprite.default;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"update\",\n      value: function value(child) {\n        child.isDirty = true;\n        var attrSize = this.attrSize;\n\n        if (attrSize[0] === '' || attrSize[1] === '') {\n          this.reflow();\n        }\n\n        this.forceUpdate(true);\n      }\n    }, {\n      kind: \"method\",\n      key: \"pointCollision\",\n      value: function value(evt) {\n        if ((0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"pointCollision\", this).call(this, evt) || this.isVirtual) {\n          if (this.svg) {\n            var offsetX = evt.offsetX,\n                offsetY = evt.offsetY;\n            if (offsetX == null && offsetY == null) return true;\n            var rect = this.originalRect;\n            evt.isInClip = this.svg.isPointInPath(offsetX - rect[0], offsetY - rect[1]);\n          }\n\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"contentSize\",\n      value: function value() {\n        if (this.isVirtual) return [0, 0];\n\n        var _this$attrSize2 = (0, _slicedToArray2.default)(this.attrSize, 2),\n            width = _this$attrSize2[0],\n            height = _this$attrSize2[1];\n\n        if (width === '' || height === '') {\n          if (this.attr('clip')) {\n            var svg = this.svg;\n            var bounds = svg.bounds;\n            width = width || bounds[2];\n            height = height || bounds[3];\n          } else {\n            var right, bottom;\n            right = 0;\n            bottom = 0;\n            this.childNodes.forEach(function (sprite) {\n              if (sprite.attr('display') !== 'none') {\n                var renderBox = sprite.renderBox;\n\n                if (renderBox) {\n                  right = Math.max(right, renderBox[2]);\n                  bottom = Math.max(bottom, renderBox[3]);\n                }\n              }\n            });\n            width = width || right;\n            height = height || bottom;\n          }\n        }\n\n        return [width, height];\n      }\n    }, {\n      kind: \"method\",\n      key: \"dispatchEvent\",\n      value: function value(type, evt) {\n        var collisionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var swallow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var useCapturePhase = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n        var handlers = this.getEventHandlers(type);\n\n        if (swallow && handlers.length === 0) {\n          return;\n        }\n\n        var hasCapturePhase = false;\n\n        if (!swallow && !evt.terminated && type !== 'mouseenter') {\n          var isCollision = collisionState || this.pointCollision(evt);\n\n          if (isCollision || type === 'mouseleave' || !this.attr('clipOverflow')) {\n            var scrollLeft = this.attr('scrollLeft'),\n                scrollTop = this.attr('scrollTop'),\n                borderWidth = this.attr('border').width,\n                padding = this.attr('padding');\n            var parentX, parentY;\n            if ('offsetX' in evt) parentX = evt.offsetX - this.originalRect[0] - borderWidth - padding[3] + scrollLeft;\n            if ('offsetY' in evt) parentY = evt.offsetY - this.originalRect[1] - borderWidth - padding[0] + scrollTop;\n            var _parentX = evt.parentX,\n                _parentY = evt.parentY;\n            evt.parentX = parentX;\n            evt.parentY = parentY;\n\n            if (isCollision && handlers.length && handlers.some(function (handler) {\n              return handler.useCapture;\n            })) {\n              hasCapturePhase = true;\n              if (!evt.target) evt.target = this.getTargetFromXY(parentX, parentY);\n              (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"dispatchEvent\", this).call(this, type, evt, isCollision, swallow, true);\n            }\n\n            var targetSprites = [];\n\n            if (!hasCapturePhase || !evt.cancelBubble) {\n              var sprites = this.sortedChildNodes.slice(0).reverse();\n\n              for (var i = 0; i < sprites.length && evt.isInClip !== false; i++) {\n                var sprite = sprites[i];\n                var hit = sprite.dispatchEvent(type, evt, collisionState, swallow, useCapturePhase);\n\n                if (hit) {\n                  if (evt.targetSprites) {\n                    targetSprites.push.apply(targetSprites, (0, _toConsumableArray2.default)(evt.targetSprites));\n                    delete evt.targetSprites;\n                  }\n\n                  targetSprites.push(sprite);\n                }\n\n                if (evt.terminated && type !== 'mousemove') {\n                  break;\n                }\n              }\n            }\n\n            evt.targetSprites = targetSprites; // stopDispatch can only terminate event in the same level\n\n            evt.terminated = false;\n            evt.parentX = _parentX;\n            evt.parentY = _parentY;\n            collisionState = isCollision;\n          }\n        }\n\n        evt.targetSprites = evt.targetSprites || [];\n\n        if (evt.cancelBubble) {\n          // stop bubbling\n          return false;\n        }\n\n        if (hasCapturePhase) {\n          return (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"dispatchEvent\", this).call(this, type, evt, collisionState, swallow, false);\n        }\n\n        if (evt.targetSprites.length > 0) {\n          // bubbling\n          collisionState = true;\n        }\n\n        return (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"dispatchEvent\", this).call(this, type, evt, collisionState, swallow, useCapturePhase);\n      }\n    }, {\n      kind: \"method\",\n      key: \"relayout\",\n      value: function value() {\n        var items = this.childNodes.filter(function (child) {\n          if (child.hasLayout) {\n            child.attr('layoutWidth', null);\n            child.attr('layoutHeight', null);\n            child.attr('layoutX', null);\n            child.attr('layoutY', null);\n          }\n\n          if (child.relayout) {\n            var _display = child.attr('display');\n\n            if (_display !== '' && _display !== 'static') {\n              child.relayout();\n            }\n          }\n\n          return child.hasLayout && child.attr('display') !== 'none';\n        });\n        var display = this.attr('display');\n        var doLayout = Group[_layout][display];\n\n        if (doLayout) {\n          doLayout(this, items);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"clearLayout\",\n      value: function value() {\n        this[_layoutTag] = false;\n        if (this.hasLayout) this.parent.clearLayout();\n      }\n    }, {\n      kind: \"method\",\n      key: \"draw\",\n      value: function value(t) {\n        var drawingContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.context;\n        // must relayout before draw\n        // prevent originalRect changing when rendering.\n        var display = this.attr('display');\n\n        if (display !== '' && display !== 'static' && !this[_layoutTag]) {\n          this.relayout();\n          this[_layoutTag] = true;\n        }\n\n        return (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"draw\", this).call(this, t, drawingContext);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function value(t, drawingContext) {\n        var clipPath = this.attr('clip');\n\n        if (clipPath) {\n          this.svg.beginPath().to(drawingContext);\n          drawingContext.clip();\n        }\n\n        if (!this.isVirtual) {\n          (0, _get2.default)((0, _getPrototypeOf2.default)(Group.prototype), \"render\", this).call(this, t, drawingContext);\n\n          if (this.attr('clipOverflow')) {\n            drawingContext.beginPath();\n            drawingContext.rect(0, 0, this.contentSize[0], this.contentSize[1]);\n            drawingContext.clip();\n          }\n        }\n\n        drawingContext.save();\n        var scrollLeft = this.attr('scrollLeft'),\n            scrollTop = this.attr('scrollTop');\n        drawingContext.translate(-scrollLeft, -scrollTop);\n        var sprites = this.sortedChildNodes;\n\n        for (var i = 0; i < sprites.length; i++) {\n          var child = sprites[i],\n              isDirty = child.isDirty;\n          child.isDirty = false;\n          child.draw(t, drawingContext);\n\n          if (isDirty) {\n            child.dispatchEvent('update', {\n              target: child,\n              renderTime: t\n            }, true, true);\n          }\n        }\n\n        drawingContext.restore();\n      }\n    }]\n  };\n}, _basesprite.default);\nexports.default = Group;\nObject.assign(Group.prototype, _group.default);","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = require(\"../utils\");\n\nvar _zOrder = Symbol('zOrder');\n\nvar _removeTask = Symbol('removeTask');\n\nvar _default = {\n  getTargetFromXY: function getTargetFromXY(x, y) {\n    var children = this.children;\n    var target = this;\n    children.some(function (child) {\n      var evt = {\n        parentX: x,\n        parentY: y\n      };\n      var hit = child.pointCollision(evt);\n\n      if (hit) {\n        if (child.getTargetFromXY) {\n          target = child.getTargetFromXY(evt.offsetX, evt.offsetY);\n        } else {\n          target = child;\n        }\n      }\n\n      return hit;\n    });\n    return target;\n  },\n  appendChild: function appendChild(sprite) {\n    var _this = this;\n\n    var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var _append = function _append() {\n      _this[_zOrder] = _this[_zOrder] || 0;\n      sprite.connect(_this, _this[_zOrder]++);\n      var children = _this.childNodes;\n      children.push(sprite); // quick insert\n\n      var orderedSprites = _this.sortedChildNodes || [];\n      var len = orderedSprites.length;\n      var i;\n      var left = 0,\n          right = len - 1;\n      var zIndex = sprite.attr('zIndex') | 0;\n\n      for (; i == null && left <= right;) {\n        var rightSprite = orderedSprites[right];\n        var leftSprite = orderedSprites[left];\n        if (zIndex >= rightSprite.zIndex) i = right + 1;else if (zIndex < leftSprite.zIndex) i = left;else if (left >= right - 1) i = right;else {\n          // between left & right\n          var mid = Math.ceil((left + right) / 2);\n          var midSprite = orderedSprites[mid];\n          if (zIndex >= midSprite.zIndex) left = mid;else right = mid;\n        }\n      }\n\n      if (i == null || i === len) orderedSprites.push(sprite);else orderedSprites.splice(i, 0, sprite);\n      _this.sortedChildNodes = orderedSprites;\n\n      if (update) {\n        sprite.forceUpdate();\n      }\n\n      if (sprite.layer) {\n        return sprite.enter();\n      }\n\n      return sprite;\n    };\n\n    var _remove = this.removeChild(sprite);\n\n    if (_remove && _remove.promise) {\n      // deferred\n      if (_remove.resolve) _remove.resolve();\n\n      _remove.promise.then(function () {\n        return _append();\n      });\n\n      return _remove;\n    }\n\n    return _append();\n  },\n  append: function append() {\n    var _this2 = this;\n\n    for (var _len = arguments.length, sprites = new Array(_len), _key = 0; _key < _len; _key++) {\n      sprites[_key] = arguments[_key];\n    }\n\n    sprites.forEach(function (sprite) {\n      _this2.appendChild(sprite);\n    });\n    return this;\n  },\n  removeChild: function removeChild(child) {\n    if (child[_removeTask]) return child[_removeTask];\n    var idx = this.childNodes.indexOf(child);\n\n    if (idx === -1) {\n      return null;\n    }\n\n    var that = this;\n\n    function remove(sprite) {\n      delete child[_removeTask]; // re-calculate index because it's async...\n\n      var idx = that.childNodes.indexOf(child);\n\n      if (idx === -1) {\n        return null;\n      }\n\n      that.childNodes.splice(idx, 1);\n      that.sortedChildNodes = (0, _utils.sortOrderedSprites)(that.childNodes);\n\n      if (sprite.isVisible() || sprite.lastRenderBox) {\n        sprite.forceUpdate();\n      }\n\n      sprite.disconnect(that);\n      return sprite;\n    }\n\n    var action = child.exit();\n\n    if (action.promise) {\n      child[_removeTask] = action;\n      action.promise.then(function () {\n        return remove(child);\n      });\n      return action;\n    }\n\n    return remove(child);\n  },\n  clear: function clear() {\n    var _this3 = this;\n\n    var children = this.childNodes.slice(0);\n    children.forEach(function (child) {\n      return _this3.removeChild(child);\n    });\n    return this;\n  },\n  remove: function remove() {\n    var _this4 = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (args.length === 0) {\n      if (!this.parent) return null;\n      return this.parent.removeChild(this);\n    }\n\n    args.forEach(function (sprite) {\n      _this4.removeChild(sprite);\n    });\n    return this;\n  },\n  insertBefore: function insertBefore(newchild, refchild) {\n    var _this5 = this;\n\n    if (refchild == null) {\n      return this.appendChild(newchild);\n    }\n\n    var idx = this.childNodes.indexOf(refchild);\n    var refZOrder = refchild.zOrder;\n\n    if (idx >= 0) {\n      var _insert = function _insert() {\n        for (var i = 0; i < _this5.childNodes.length; i++) {\n          var child = _this5.childNodes[i],\n              zOrder = child.zOrder;\n\n          if (zOrder >= refZOrder) {\n            delete child.zOrder;\n            Object.defineProperty(child, 'zOrder', {\n              value: zOrder + 1,\n              writable: false,\n              configurable: true\n            });\n          }\n        }\n\n        _this5.childNodes.splice(idx, 0, newchild);\n\n        newchild.connect(_this5, refZOrder);\n        _this5.sortedChildNodes = (0, _utils.sortOrderedSprites)(_this5.childNodes);\n        newchild.forceUpdate();\n        _this5[_zOrder] = _this5[_zOrder] || 0;\n        _this5[_zOrder]++;\n\n        if (_this5.layer) {\n          return newchild.enter();\n        }\n      };\n\n      var _remove = this.removeChild(newchild);\n\n      if (_remove && _remove.promise) {\n        if (_remove.resolve) _remove.resolve();\n\n        _remove.promise.then(function () {\n          return _insert();\n        });\n\n        return _remove;\n      }\n\n      return _insert();\n    }\n\n    return null;\n  },\n  replaceChild: function replaceChild(newChild, oldChild) {\n    var _this6 = this;\n\n    Promise.resolve(this.insertBefore(newChild, oldChild)).then(function () {\n      _this6.removeChild(oldChild);\n    });\n  }\n};\nexports.default = _default;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _decorate2 = _interopRequireDefault(require(\"@babel/runtime/helpers/decorate\"));\n\nvar _utils = require(\"../utils\");\n\nvar _basesprite = _interopRequireDefault(require(\"./basesprite\"));\n\nvar reflow = true,\n    quiet = true;\nvar PathSpriteAttr = (0, _decorate2.default)(null, function (_initialize, _BaseSprite$Attr) {\n  var PathSpriteAttr =\n  /*#__PURE__*/\n  function (_BaseSprite$Attr2) {\n    (0, _inherits2.default)(PathSpriteAttr, _BaseSprite$Attr2);\n\n    function PathSpriteAttr() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      (0, _classCallCheck2.default)(this, PathSpriteAttr);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(PathSpriteAttr)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _initialize((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n\n      return _this;\n    }\n\n    return PathSpriteAttr;\n  }(_BaseSprite$Attr);\n\n  return {\n    F: PathSpriteAttr,\n    d: [{\n      kind: \"set\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"path\",\n      value: function value(val) {\n        if (val) {\n          val = typeof val === 'string' ? {\n            d: val\n          } : val;\n          this.subject.svg = (0, _utils.createSvgPath)(val);\n          this.set('path', val);\n        } else {\n          this.subject.svg = null;\n          this.set('path', null);\n        }\n      }\n    }, {\n      kind: \"set\",\n      decorators: [_utils.attr],\n      key: \"d\",\n      value: function value(val) {\n        if (val) {\n          var path = this.path;\n\n          if (!path) {\n            this.path = {\n              d: val\n            };\n          } else {\n            this.path = Object.assign(path, {\n              d: val\n            });\n          }\n        } else {\n          this.path = null;\n        }\n      }\n    }, {\n      kind: \"get\",\n      key: \"d\",\n      value: function value() {\n        return this.path ? this.path.d : null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n        reflow: reflow\n      }), (0, _utils.inherit)(1)],\n      key: \"lineWidth\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseStringFloat, function (val) {\n        return typeof val === 'number' ? [val] : val;\n      }), _utils.attr],\n      key: \"lineDash\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(parseFloat), _utils.attr],\n      key: \"lineDashOffset\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr, (0, _utils.inherit)('butt')],\n      key: \"lineCap\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr, (0, _utils.inherit)('miter')],\n      key: \"lineJoin\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseColorString), _utils.attr, (0, _utils.inherit)('')],\n      key: \"strokeColor\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.parseValue)(_utils.parseColorString), _utils.attr, (0, _utils.inherit)('')],\n      key: \"fillColor\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        reflow: reflow\n      })],\n      key: \"flexible\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0, _utils.attr)({\n        quiet: quiet\n      }), (0, _utils.inherit)('auto')],\n      key: \"bounding\",\n      value: function value() {\n        return 'inherit';\n      }\n    }, {\n      kind: \"field\",\n      decorators: [_utils.attr, (0, _utils.composit)('strokeColor')],\n      key: \"color\",\n      value: void 0\n    }]\n  };\n}, _basesprite.default.Attr);\nvar Path = (0, _decorate2.default)(null, function (_initialize2, _BaseSprite) {\n  var Path =\n  /*#__PURE__*/\n  function (_BaseSprite2) {\n    (0, _inherits2.default)(Path, _BaseSprite2);\n\n    function Path(attr) {\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, Path);\n\n      if (typeof attr === 'string') {\n        attr = {\n          d: attr\n        };\n      }\n\n      _this2 = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(Path).call(this, attr));\n\n      _initialize2((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this2)));\n\n      return _this2;\n    }\n\n    return Path;\n  }(_BaseSprite);\n\n  return {\n    F: Path,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"Attr\",\n      value: function value() {\n        return PathSpriteAttr;\n      }\n    }, {\n      kind: \"set\",\n      key: \"path\",\n      value: function value(val) {\n        this.attr('path', val);\n      }\n    }, {\n      kind: \"get\",\n      key: \"path\",\n      value: function value() {\n        return this.attr('path');\n      }\n    }, {\n      kind: \"method\",\n      key: \"getPointAtLength\",\n      value: function value(length) {\n        if (this.svg) {\n          return this.svg.getPointAtLength(length);\n        }\n\n        return [0, 0];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getPathLength\",\n      value: function value() {\n        if (this.svg) {\n          return this.svg.getTotalLength();\n        }\n\n        return 0;\n      }\n    }, {\n      kind: \"method\",\n      key: \"isClosed\",\n      value: function value() {\n        var d = this.attr('d');\n\n        if (d) {\n          return /z$/img.test(d);\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"findPath\",\n      value: function value(offsetX, offsetY) {\n        var rect = this.originalRect;\n        var pathOffset = this.pathOffset;\n        var svg = this.svg;\n\n        if (svg) {\n          var x = offsetX - rect[0] - pathOffset[0],\n              y = offsetY - rect[1] - pathOffset[1];\n          var collision = false;\n\n          if (this.isClosed()) {\n            collision = svg.isPointInPath(x, y);\n          }\n\n          if (!collision) {\n            var lineWidth = this.attr('lineWidth') + (parseFloat(this.attr('bounding')) || 0),\n                lineCap = this.attr('lineCap'),\n                lineJoin = this.attr('lineJoin');\n            collision = svg.isPointInStroke(x, y, {\n              lineWidth: lineWidth,\n              lineCap: lineCap,\n              lineJoin: lineJoin\n            });\n          }\n\n          if (collision) {\n            return [svg];\n          }\n        }\n\n        return [];\n      }\n    }, {\n      kind: \"get\",\n      key: \"lineWidth\",\n      value: function value() {\n        var lineWidth = this.attr('lineWidth'),\n            gradients = this.attr('gradients'),\n            fillColor = this.attr('fillColor'),\n            strokeColor = this.attr('strokeColor');\n        var hasStrokeColor = strokeColor || gradients && gradients.strokeColor,\n            hasFillColor = fillColor || gradients && gradients.fillColor;\n\n        if (!hasStrokeColor && hasFillColor) {\n          // fill: ignore stroke\n          return 0;\n        }\n\n        return lineWidth;\n      }\n    }, {\n      kind: \"get\",\n      key: \"pathOffset\",\n      value: function value() {\n        var lw = Math.round(this.lineWidth);\n        return [lw, lw];\n      }\n    }, {\n      kind: \"get\",\n      key: \"pathSize\",\n      value: function value() {\n        return this.svg ? this.svg.size : [0, 0];\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"contentSize\",\n      value: function value() {\n        if (!this.svg) return (0, _get2.default)((0, _getPrototypeOf3.default)(Path.prototype), \"contentSize\", this);\n        var bounds = this.svg.bounds;\n\n        var _this$attrSize = (0, _slicedToArray2.default)(this.attrSize, 2),\n            width = _this$attrSize[0],\n            height = _this$attrSize[1];\n\n        var pathOffset = this.pathOffset;\n\n        if (width === '') {\n          width = bounds[2] - Math.min(0, bounds[0]) + 2 * pathOffset[0];\n        }\n\n        if (height === '') {\n          height = bounds[3] - Math.min(0, bounds[1]) + 2 * pathOffset[1];\n        }\n\n        if (this.attr('flexible') && this.attr('height') === '' && this.attr('layoutHeight') === '') {\n          height = Math.ceil(height * width / (bounds[2] - Math.min(0, bounds[0]) + 2 * pathOffset[0]));\n        }\n\n        return [width, height].map(Math.ceil);\n      }\n    }, {\n      kind: \"get\",\n      decorators: [_utils.flow],\n      key: \"originalRect\",\n      value: function value() {\n        var svg = this.svg;\n\n        if (svg) {\n          var bounds = svg.bounds,\n              offset = this.pathOffset;\n\n          var _this$offsetSize = (0, _slicedToArray2.default)(this.offsetSize, 2),\n              width = _this$offsetSize[0],\n              height = _this$offsetSize[1],\n              _this$attr = this.attr('anchor'),\n              _this$attr2 = (0, _slicedToArray2.default)(_this$attr, 2),\n              anchorX = _this$attr2[0],\n              anchorY = _this$attr2[1];\n\n          var rect = [0, 0, width, height],\n              offsetX = Math.min(0, bounds[0]),\n              offsetY = Math.min(0, bounds[1]);\n          rect[0] = offsetX - offset[0] - anchorX * (width + offsetX - 2 * offset[0]);\n          rect[1] = offsetY - offset[1] - anchorY * (height + offsetY - 2 * offset[1]);\n          return rect;\n        }\n\n        return (0, _get2.default)((0, _getPrototypeOf3.default)(Path.prototype), \"originalRect\", this);\n      }\n    }, {\n      kind: \"method\",\n      key: \"pointCollision\",\n      value: function value(evt) {\n        var bounding = this.attr('bounding');\n\n        if ((0, _get2.default)((0, _getPrototypeOf3.default)(Path.prototype), \"pointCollision\", this).call(this, evt) || bounding !== 'auto' && bounding !== 'box' && bounding !== 'path' && bounding !== 0) {\n          var offsetX = evt.offsetX,\n              offsetY = evt.offsetY;\n          if (offsetX == null && offsetY == null) return true;\n          var svg = this.svg;\n\n          if (svg) {\n            var bounds = svg.bounds;\n            offsetX += Math.min(0, bounds[0]);\n            offsetY += Math.min(0, bounds[1]);\n          }\n\n          evt.targetPaths = this.findPath(offsetX, offsetY);\n\n          if (bounding !== 'box' && !(bounding === 'auto' && (this.attr('borderWidth') > 0 || this.attr('bgcolor') || this.attr('gradients').bgcolor))) {\n            return evt.targetPaths.length > 0;\n          }\n\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function value(t, drawingContext) {\n        (0, _get2.default)((0, _getPrototypeOf3.default)(Path.prototype), \"render\", this).call(this, t, drawingContext);\n        var d = this.attr('d'),\n            lineWidth = this.attr('lineWidth'),\n            lineCap = this.attr('lineCap'),\n            lineJoin = this.attr('lineJoin'),\n            lineDash = this.attr('lineDash'),\n            flexible = this.attr('flexible');\n\n        if (d) {\n          var svg = this.svg;\n\n          var _svg$bounds = (0, _slicedToArray2.default)(svg.bounds, 4),\n              ox = _svg$bounds[0],\n              oy = _svg$bounds[1],\n              ow = _svg$bounds[2],\n              oh = _svg$bounds[3];\n\n          var _this$pathOffset = (0, _slicedToArray2.default)(this.pathOffset, 2),\n              px = _this$pathOffset[0],\n              py = _this$pathOffset[1];\n\n          var _this$contentSize = (0, _slicedToArray2.default)(this.contentSize, 2),\n              w = _this$contentSize[0],\n              h = _this$contentSize[1];\n\n          if ((w < ow || h < oh) && this.attr('clipOverflow')) {\n            drawingContext.beginPath();\n            drawingContext.rect(0, 0, w, h);\n            drawingContext.clip();\n          }\n\n          if (flexible) {\n            svg.save();\n            var sw = w / (ow - Math.min(0, ox) + 2 * px);\n            svg.scale(sw, sw);\n            ox *= sw;\n            oy *= sw;\n            px *= sw;\n            py *= sw;\n          }\n\n          if (ox < 0 || oy < 0) {\n            drawingContext.translate(-Math.min(0, ox), -Math.min(0, oy));\n          }\n\n          drawingContext.translate(px, py);\n          svg.beginPath().to(drawingContext);\n\n          if (flexible) {\n            svg.restore();\n          }\n\n          drawingContext.lineWidth = lineWidth;\n          drawingContext.lineCap = lineCap;\n          drawingContext.lineJoin = lineJoin;\n\n          if (lineDash != null) {\n            drawingContext.setLineDash(lineDash);\n            var lineDashOffset = this.attr('lineDashOffset');\n            drawingContext.lineDashOffset = lineDashOffset;\n          }\n\n          var fillColor = (0, _utils.findColor)(drawingContext, this, 'fillColor');\n\n          if (fillColor) {\n            drawingContext.fillStyle = fillColor;\n          }\n\n          var strokeColor = (0, _utils.findColor)(drawingContext, this, 'strokeColor');\n\n          if (!strokeColor && !fillColor) {\n            strokeColor = (0, _utils.parseColorString)('black');\n          }\n\n          if (strokeColor) {\n            drawingContext.strokeStyle = strokeColor;\n          }\n\n          if (fillColor) {\n            drawingContext.fill();\n          }\n\n          if (strokeColor) {\n            drawingContext.stroke();\n          }\n        }\n      }\n    }]\n  };\n}, _basesprite.default);\nexports.default = Path;","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = use;\nvar installed = new WeakMap();\n\nvar _merged = Symbol('merged');\n\nvar target = null;\n\nfunction use(plugin) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (!target) {\n    target = Object.assign({}, this);\n    target.__spritejs = this; // target.use = use.bind(target);\n\n    target.use = function (plugin) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return use.call(target, plugin, options, merge);\n    };\n  }\n\n  if (typeof options === 'boolean') {\n    merge = options;\n    options = null;\n  }\n\n  if (installed.has(plugin)) {\n    var _ret = installed.get(plugin);\n\n    if (merge && !_ret[_merged]) {\n      Object.assign(target, _ret);\n      _ret[_merged] = true;\n    }\n\n    return _ret;\n  }\n\n  var install = plugin.install || plugin;\n  var ret = install.call(plugin, target, options) || {};\n  installed.set(plugin, ret);\n\n  if (merge) {\n    Object.assign(target.__spritejs, ret);\n    ret[_merged] = true;\n  }\n\n  return ret;\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _basesprite = _interopRequireDefault(require(\"../../core/basesprite\"));\n\nvar _animation2 = _interopRequireDefault(require(\"./animation\"));\n\nObject.assign(_basesprite.default.prototype, {\n  animate: function animate(frames, timing) {\n    var _this = this;\n\n    var isStyleAnim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var setter = null;\n\n    if (isStyleAnim) {\n      setter = function setter(frame, target) {\n        target.__attr.__styleTag = true;\n        target.attr(frame);\n        target.__attr.__styleTag = false;\n      };\n    }\n\n    var animation = new _animation2.default(this, frames, timing, setter);\n    if (this.effects) animation.applyEffects(this.effects);\n\n    if (this.layer) {\n      animation.baseTimeline = this.layer.timeline;\n      animation.play();\n      animation.finished.then(function () {\n        _this.animations.delete(animation);\n      });\n    }\n\n    this.animations.add(animation);\n    return animation;\n  },\n  transition: function transition(sec) {\n    var _ref3;\n\n    var easing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'linear';\n    var isStyleAnim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var that = this,\n        _animation = Symbol('animation');\n\n    easing = easing || 'linear';\n    var delay = 0;\n\n    if ((0, _typeof2.default)(sec) === 'object') {\n      delay = sec.delay || 0;\n      sec = sec.duration;\n    }\n\n    return _ref3 = {}, (0, _defineProperty2.default)(_ref3, _animation, null), (0, _defineProperty2.default)(_ref3, \"cancel\", function cancel() {\n      var preserveState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var animation = this[_animation];\n\n      if (animation) {\n        animation.cancel(preserveState);\n      }\n    }), (0, _defineProperty2.default)(_ref3, \"end\", function end() {\n      var animation = this[_animation];\n\n      if (animation && (animation.playState === 'running' || animation.playState === 'pending')) {\n        animation.finish();\n      }\n    }), (0, _defineProperty2.default)(_ref3, \"reverse\", function reverse() {\n      var animation = this[_animation];\n\n      if (animation) {\n        if (animation.playState === 'running' || animation.playState === 'pending') {\n          animation.playbackRate = -animation.playbackRate;\n        } else {\n          var direction = animation.timing.direction;\n          animation.timing.direction = direction === 'reverse' ? 'normal' : 'reverse';\n          animation.play();\n        }\n      }\n\n      return animation.finished;\n    }), (0, _defineProperty2.default)(_ref3, \"attr\", function attr(prop, val) {\n      this.end();\n\n      if (typeof prop === 'string') {\n        prop = (0, _defineProperty2.default)({}, prop, val);\n      }\n\n      Object.entries(prop).forEach(function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (typeof value === 'function') {\n          prop[key] = value(that.attr(key));\n        }\n      });\n      this[_animation] = that.animate([prop], {\n        duration: sec * 1000,\n        delay: delay * 1000,\n        fill: 'forwards',\n        easing: easing\n      }, isStyleAnim);\n      return this[_animation].finished;\n    }), _ref3;\n  }\n});","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _spriteAnimator = require(\"sprite-animator\");\n\nvar _spriteMath = require(\"sprite-math\");\n\nvar _utils = require(\"../../utils\");\n\nvar _patheffect = _interopRequireDefault(require(\"./patheffect\"));\n\nvar _fastAnimationFrame = require(\"../../helpers/fast-animation-frame\");\n\nvar _defaultEffect = _spriteAnimator.Effects.default;\n\nvar defaultEffect = function defaultEffect(from, to, p, start, end) {\n  var unitFrom = 'px',\n      unitTo = 'px';\n  var matchFrom = null,\n      matchTo = null;\n  var exp = /^([\\d.]+)(%|rh|rw)$/i;\n\n  if (typeof from === 'string') {\n    matchFrom = exp.exec(from);\n\n    if (matchFrom) {\n      unitFrom = matchFrom[2];\n    }\n  }\n\n  if (typeof to === 'string') {\n    matchTo = exp.exec(to);\n\n    if (matchTo) {\n      unitTo = matchTo[2];\n    }\n  }\n\n  if (unitFrom === unitTo) {\n    if (matchFrom) from = parseFloat(matchFrom[1]);\n    if (matchTo) to = parseFloat(matchTo[1]);\n  }\n\n  var v = _defaultEffect(from, to, p, start, end);\n\n  return unitFrom !== 'px' ? \"\".concat(v).concat(unitFrom) : v;\n};\n\n_spriteAnimator.Effects.default = defaultEffect;\n\nfunction arrayEffect(arr1, arr2, p, start, end) {\n  if (typeof arr1 === 'string') {\n    arr1 = (0, _utils.parseStringFloat)(arr1);\n  }\n\n  if (typeof arr2 === 'string') {\n    arr2 = (0, _utils.parseStringFloat)(arr2);\n  }\n\n  if (Array.isArray(arr1)) {\n    return arr1.map(function (o, i) {\n      return defaultEffect(o, arr2[i] != null ? arr2[i] : arr2, p, start, end);\n    });\n  }\n\n  return defaultEffect(arr1, arr2, p, start, end);\n}\n\nfunction objectEffect(obj1, obj2, p, start, end) {\n  var t1 = Object.assign({}, obj2, obj1),\n      t2 = Object.assign({}, obj1, obj2);\n  Object.entries(t1).forEach(function (_ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    t1[key] = arrayEffect(value, t2[key], p, start, end);\n  });\n  return t1;\n}\n\nfunction getTransformMatrix(trans) {\n  var matrix = new _spriteMath.Matrix();\n  Object.entries(trans).forEach(function (_ref3) {\n    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        key = _ref4[0],\n        val = _ref4[1];\n\n    if (key === 'matrix') {\n      matrix = new _spriteMath.Matrix(val);\n    } else if (Array.isArray(val)) {\n      var _matrix;\n\n      (_matrix = matrix)[key].apply(_matrix, (0, _toConsumableArray2.default)(val));\n    } else if (key === 'scale') {\n      matrix.scale(val, val);\n    } else {\n      matrix[key](val);\n    }\n  });\n  return matrix.m;\n}\n\nfunction arrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) return false;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction transformEffect(trans1, trans2, p, start, end) {\n  trans1 = (0, _utils.parseStringTransform)(trans1);\n  trans2 = (0, _utils.parseStringTransform)(trans2);\n\n  if (!arrayEqual(Object.keys(trans1), Object.keys(trans2))) {\n    trans1 = getTransformMatrix(trans1);\n    trans2 = getTransformMatrix(trans2);\n  }\n\n  if (Array.isArray(trans1) || Array.isArray(trans2)) {\n    return arrayEffect(trans1, trans2, p, start, end);\n  }\n\n  return objectEffect(trans1, trans2, p, start, end);\n}\n\nfunction colorEffect(color1, color2, p, start, end) {\n  var c1 = (0, _utils.parseColor)(color1);\n  var c2 = (0, _utils.parseColor)(color2);\n\n  if (c1.model === c2.model) {\n    c1.value = arrayEffect(c1.value, c2.value, p, start, end).map(function (c, i) {\n      return i < 3 ? Math.round(c) : Math.round(c * 100) / 100;\n    });\n    return c1.str;\n  }\n\n  return defaultEffect(color1, color2, p, start, end);\n}\n\nfunction pathEffect(path1, path2, p, start, end) {\n  path1 = (0, _utils.createSvgPath)(path1);\n  path2 = (0, _utils.createSvgPath)(path2);\n  return (0, _patheffect.default)(path1.d, path2.d, p, start, end);\n}\n\nObject.assign(_spriteAnimator.Effects, {\n  arrayEffect: arrayEffect,\n  transformEffect: transformEffect,\n  colorEffect: colorEffect,\n  pathEffect: pathEffect,\n  pos: arrayEffect,\n  size: arrayEffect,\n  transform: transformEffect,\n  bgcolor: colorEffect,\n  border: function border(v1, v2, p, start, end) {\n    if (Array.isArray(v2)) {\n      v2 = {\n        width: v2[0],\n        color: v2[1],\n        style: v2[2] || 'solid'\n      };\n    }\n\n    return {\n      width: defaultEffect(v1.width, v2.width, p, start, end),\n      color: colorEffect(v1.color, v2.color, p, start, end),\n      style: arrayEffect(v1.style, v2.style, p, start, end)\n    };\n  },\n  scale: arrayEffect,\n  translate: arrayEffect,\n  skew: arrayEffect,\n  padding: arrayEffect,\n  margin: arrayEffect,\n  color: colorEffect,\n  strokeColor: colorEffect,\n  fillColor: colorEffect,\n  d: _patheffect.default,\n  path: pathEffect,\n  clip: pathEffect\n});\n\nvar _default =\n/*#__PURE__*/\nfunction (_Animator) {\n  (0, _inherits2.default)(_default, _Animator);\n\n  function _default(sprite, frames, timing, setter) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, _default);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(_default).call(this, sprite.attr(), frames, timing));\n    _this.target = sprite;\n\n    _this.setter = setter || function (frame, target) {\n      target.attr(frame);\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(_default, [{\n    key: \"finish\",\n    value: function finish() {\n      // finish should change attrs synchronously\n      (0, _get2.default)((0, _getPrototypeOf2.default)(_default.prototype), \"finish\", this).call(this);\n      (0, _fastAnimationFrame.cancelAnimationFrame)(this.requestId);\n      this.setter(this.frame, this.target);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      if (!this.target.parent || this.playState === 'running') {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(_default.prototype), \"play\", this).call(this);\n      this.setter(this.frame, this.target);\n      var that = this;\n      this.ready.then(function () {\n        that.setter(that.frame, that.target);\n        that.requestId = (0, _fastAnimationFrame.requestAnimationFrame)(function update() {\n          var target = that.target;\n\n          if (typeof document !== 'undefined' && document.documentElement && document.documentElement.contains && target.layer && target.layer.canvas && !document.documentElement.contains(target.layer.canvas)) {\n            // if dom element has been removed stop animation.\n            // it usually occurs in single page applications.\n            that.cancel();\n            return;\n          }\n\n          var playState = that.playState;\n          that.setter(that.frame, that.target);\n          if (playState === 'idle') return;\n\n          if (playState === 'running') {\n            that.requestId = (0, _fastAnimationFrame.requestAnimationFrame)(update);\n          } else if (playState === 'paused' || playState === 'pending' && that.timeline.currentTime < 0) {\n            // playbackRate < 0 will cause playState reset to pending...\n            that.ready.then(function () {\n              that.setter(that.frame, that.target);\n              that.requestId = (0, _fastAnimationFrame.requestAnimationFrame)(update);\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      var preserveState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      (0, _fastAnimationFrame.cancelAnimationFrame)(this.requestId);\n\n      if (preserveState) {\n        this.setter(this.frame, this.target);\n        (0, _get2.default)((0, _getPrototypeOf2.default)(_default.prototype), \"cancel\", this).call(this);\n      } else {\n        (0, _get2.default)((0, _getPrototypeOf2.default)(_default.prototype), \"cancel\", this).call(this);\n        this.setter(this.frame, this.target);\n      }\n    }\n  }, {\n    key: \"playState\",\n    get: function get() {\n      if (!this.target.parent) {\n        return 'idle';\n      }\n\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(_default.prototype), \"playState\", this);\n    }\n  }, {\n    key: \"finished\",\n    get: function get() {\n      var _this2 = this;\n\n      // set last frame when finished\n      // because while the web page is not focused\n      // requestAnimationFrame will not trigger while deferTime of\n      // the animator is still running\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(_default.prototype), \"finished\", this).then(function () {\n        var that = _this2;\n        return new Promise(function (resolve) {\n          function update() {\n            that.setter(that.frame, that.target);\n            var playState = that.playState;\n\n            if (playState === 'finished' || playState === 'idle') {\n              (0, _fastAnimationFrame.cancelAnimationFrame)(that.requestId);\n              resolve();\n            } else {\n              (0, _fastAnimationFrame.requestAnimationFrame)(update);\n            }\n          }\n\n          update();\n        });\n      });\n    }\n  }]);\n  return _default;\n}(_spriteAnimator.Animator);\n\nexports.default = _default;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = pathEffect;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _svgPathToCanvas = _interopRequireDefault(require(\"svg-path-to-canvas\"));\n\nvar _sort = require(\"./sort\");\n\n// https://github.com/AlloyTeam/pasition\nfunction _subShapes(shapes, count) {\n  var _loop = function _loop(i) {\n    var shape = shapes[shapes.length - 1];\n    var newShape = [];\n    var x = shape[0][0],\n        y = shape[0][1];\n    shape.forEach(function () {\n      newShape.push([x, y, x, y, x, y, x, y]);\n    });\n    shapes.push(newShape);\n  };\n\n  for (var i = 0; i < count; i++) {\n    _loop(i);\n  }\n}\n\nfunction _upShapes(shapes, count) {\n  var _loop2 = function _loop2(i) {\n    var shape = shapes[shapes.length - 1];\n    var newShape = [];\n    shape.forEach(function (curve) {\n      newShape.push(curve.slice(0));\n    });\n    shapes.push(newShape);\n  };\n\n  for (var i = 0; i < count; i++) {\n    _loop2(i);\n  }\n}\n\nfunction split(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n  return {\n    left: _split(x1, y1, x2, y2, x3, y3, x4, y4, t),\n    right: _split(x4, y4, x3, y3, x2, y2, x1, y1, 1 - t, true)\n  };\n}\n\nfunction _split(x1, y1, x2, y2, x3, y3, x4, y4, t, reverse) {\n  var x12 = (x2 - x1) * t + x1;\n  var y12 = (y2 - y1) * t + y1;\n  var x23 = (x3 - x2) * t + x2;\n  var y23 = (y3 - y2) * t + y2;\n  var x34 = (x4 - x3) * t + x3;\n  var y34 = (y4 - y3) * t + y3;\n  var x123 = (x23 - x12) * t + x12;\n  var y123 = (y23 - y12) * t + y12;\n  var x234 = (x34 - x23) * t + x23;\n  var y234 = (y34 - y23) * t + y23;\n  var x1234 = (x234 - x123) * t + x123;\n  var y1234 = (y234 - y123) * t + y123;\n\n  if (reverse) {\n    return [x1234, y1234, x123, y123, x12, y12, x1, y1];\n  }\n\n  return [x1, y1, x12, y12, x123, y123, x1234, y1234];\n}\n\nfunction _splitCurves(curves, count) {\n  var i = 0,\n      index = 0;\n\n  for (; i < count; i++) {\n    var curve = curves[index];\n    var cs = split(curve[0], curve[1], curve[2], curve[3], curve[4], curve[5], curve[6], curve[7], 0.5);\n    curves.splice(index, 1);\n    curves.splice(index, 0, cs.left, cs.right);\n    index += 2;\n\n    if (index >= curves.length - 1) {\n      index = 0;\n    }\n  }\n}\n\nfunction pathToShapes(path) {\n  var x = 0,\n      y = 0;\n  var shapes = [];\n  path.forEach(function (p) {\n    var _p = (0, _toArray2.default)(p),\n        cmd = _p[0],\n        points = _p.slice(1);\n\n    if (cmd === 'M') {\n      x = points[0];\n      y = points[1];\n    } else {\n      shapes.push([x, y].concat((0, _toConsumableArray2.default)(points)));\n      x = points[4];\n      y = points[5];\n    }\n  });\n  return [shapes];\n} // match two path\n\n\nfunction match(pathA, pathB) {\n  var minCurves = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n  var shapesA = pathToShapes(pathA.path);\n  var shapesB = pathToShapes(pathB.path);\n  var lenA = shapesA.length,\n      lenB = shapesB.length;\n\n  if (lenA > lenB) {\n    _subShapes(shapesB, lenA - lenB);\n  } else if (lenA < lenB) {\n    _upShapes(shapesA, lenB - lenA);\n  }\n\n  shapesA = (0, _sort.sort)(shapesA, shapesB);\n  shapesA.forEach(function (curves, index) {\n    var lenA = curves.length,\n        lenB = shapesB[index].length;\n\n    if (lenA > lenB) {\n      if (lenA < minCurves) {\n        _splitCurves(curves, minCurves - lenA);\n\n        _splitCurves(shapesB[index], minCurves - lenB);\n      } else {\n        _splitCurves(shapesB[index], lenA - lenB);\n      }\n    } else if (lenA < lenB) {\n      if (lenB < minCurves) {\n        _splitCurves(curves, minCurves - lenA);\n\n        _splitCurves(shapesB[index], minCurves - lenB);\n      } else {\n        _splitCurves(curves, lenB - lenA);\n      }\n    }\n  });\n  shapesA.forEach(function (curves, index) {\n    shapesA[index] = (0, _sort.sortCurves)(curves, shapesB[index]);\n  });\n  return [shapesA, shapesB];\n}\n\nfunction lerpPoints(x1, y1, x2, y2, t) {\n  return [x1 + (x2 - x1) * t, y1 + (y2 - y1) * t];\n}\n\nfunction lerpCurve(curveA, curveB, t) {\n  return lerpPoints(curveA[0], curveA[1], curveB[0], curveB[1], t).concat(lerpPoints(curveA[2], curveA[3], curveB[2], curveB[3], t)).concat(lerpPoints(curveA[4], curveA[5], curveB[4], curveB[5], t)).concat(lerpPoints(curveA[6], curveA[7], curveB[6], curveB[7], t));\n}\n\nfunction lerp(pathA, pathB, t) {\n  var _match = match(pathA, pathB),\n      _match2 = (0, _slicedToArray2.default)(_match, 2),\n      shapesA = _match2[0],\n      shapesB = _match2[1];\n\n  var closed = /z$/img.test(pathB.d) ? 'z' : '';\n  return \"\".concat(shapesA.map(function (shapeA, i) {\n    var shapeB = shapesB[i];\n    return shapeA.map(function (curveA, i) {\n      var curveB = shapeB[i];\n      var curve = lerpCurve(curveA, curveB, t);\n\n      if (i === 0) {\n        return \"M\".concat(curve[0], \" \").concat(curve[1], \" C\").concat(curve[2], \" \").concat(curve[3], \", \").concat(curve[4], \" \").concat(curve[5], \", \").concat(curve[6], \" \").concat(curve[7]);\n      }\n\n      return \"\".concat(curve[2], \" \").concat(curve[3], \", \").concat(curve[4], \" \").concat(curve[5], \", \").concat(curve[6], \" \").concat(curve[7]);\n    });\n  }).join(' ')).concat(closed);\n}\n\nfunction pathEffect(pathA, pathB, p, s, e) {\n  var ep = (p - s) / (e - s);\n  if (ep <= 0) return pathA;\n  if (ep >= 1) return pathB;\n  pathA = new _svgPathToCanvas.default(pathA);\n  pathB = new _svgPathToCanvas.default(pathB);\n  return lerp(pathA, pathB, ep);\n}","\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sort = sort;\nexports.sortCurves = sortCurves;\n\n// https://github.com/AlloyTeam/pasition\nfunction shapeBox(shape) {\n  var minX = shape[0][0],\n      minY = shape[0][1],\n      maxX = minX,\n      maxY = minY;\n  shape.forEach(function (curve) {\n    var x1 = curve[0],\n        x2 = curve[2],\n        x3 = curve[4],\n        x4 = curve[6],\n        y1 = curve[1],\n        y2 = curve[3],\n        y3 = curve[5],\n        y4 = curve[7];\n    minX = Math.min(minX, x1, x2, x3, x4);\n    minY = Math.min(minY, y1, y2, y3, y4);\n    maxX = Math.max(maxX, x1, x2, x3, x4);\n    maxY = Math.max(maxY, y1, y2, y3, y4);\n  });\n  return [minX, minY, maxX, maxY];\n}\n\nfunction boxDistance(boxA, boxB) {\n  return Math.sqrt(Math.pow(boxA[0] - boxB[0], 2) + Math.pow(boxA[1] - boxB[1], 2)) + Math.sqrt(Math.pow(boxA[2] - boxB[2], 2) + Math.pow(boxA[3] - boxB[3], 2));\n}\n\nfunction curveDistance(curveA, curveB) {\n  var x1 = curveA[0],\n      x2 = curveA[2],\n      x3 = curveA[4],\n      x4 = curveA[6],\n      y1 = curveA[1],\n      y2 = curveA[3],\n      y3 = curveA[5],\n      y4 = curveA[7],\n      xb1 = curveB[0],\n      xb2 = curveB[2],\n      xb3 = curveB[4],\n      xb4 = curveB[6],\n      yb1 = curveB[1],\n      yb2 = curveB[3],\n      yb3 = curveB[5],\n      yb4 = curveB[7];\n  return Math.sqrt(Math.pow(xb1 - x1, 2) + Math.pow(yb1 - y1, 2)) + Math.sqrt(Math.pow(xb2 - x2, 2) + Math.pow(yb2 - y2, 2)) + Math.sqrt(Math.pow(xb3 - x3, 2) + Math.pow(yb3 - y3, 2)) + Math.sqrt(Math.pow(xb4 - x4, 2) + Math.pow(yb4 - y4, 2));\n}\n\nfunction sortCurves(curvesA, curvesB) {\n  var arrList = permuteCurveNum(curvesA.length);\n  var list = [];\n  arrList.forEach(function (arr) {\n    var distance = 0;\n    var i = 0;\n    arr.forEach(function (index) {\n      distance += curveDistance(curvesA[index], curvesB[i++]);\n    });\n    list.push({\n      index: arr,\n      distance: distance\n    });\n  });\n  list.sort(function (a, b) {\n    return a.distance - b.distance;\n  });\n  var result = [];\n  list[0].index.forEach(function (index) {\n    result.push(curvesA[index]);\n  });\n  return result;\n}\n\nfunction sort(pathA, pathB) {\n  var arrList = permuteNum(pathA.length);\n  var list = [];\n  arrList.forEach(function (arr) {\n    var distance = 0;\n    arr.forEach(function (index) {\n      distance += boxDistance(shapeBox(pathA[index]), shapeBox(pathB[index]));\n    });\n    list.push({\n      index: arr,\n      distance: distance\n    });\n  });\n  list.sort(function (a, b) {\n    return a.distance - b.distance;\n  });\n  var result = [];\n  list[0].index.forEach(function (index) {\n    result.push(pathA[index]);\n  });\n  return result;\n}\n\nfunction permuteCurveNum(num) {\n  var arr = [];\n\n  for (var i = 0; i < num; i++) {\n    var indexArr = [];\n\n    for (var j = 0; j < num; j++) {\n      var index = j + i;\n      if (index > num - 1) index -= num;\n      indexArr[index] = j;\n    }\n\n    arr.push(indexArr);\n  }\n\n  return arr;\n}\n\nfunction permuteNum(num) {\n  var arr = [];\n\n  for (var i = 0; i < num; i++) {\n    arr.push(i);\n  }\n\n  return permute(arr);\n}\n\nfunction permute(input) {\n  var permArr = [],\n      usedChars = [];\n\n  function main(input) {\n    var i, ch;\n\n    for (i = 0; i < input.length; i++) {\n      ch = input.splice(i, 1)[0];\n      usedChars.push(ch);\n\n      if (input.length === 0) {\n        permArr.push(usedChars.slice());\n      }\n\n      main(input);\n      input.splice(i, 0, ch);\n      usedChars.pop();\n    }\n\n    return permArr;\n  }\n\n  return main(input);\n}","\n\nrequire(\"./attr\");\n\nrequire(\"./node\");","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _baseattr = _interopRequireDefault(require(\"../../core/baseattr\"));\n\nvar defaultValues = {\n  state: 'default',\n  states: {},\n  actions: {\n    'beforeEnter:': {\n      duration: 300,\n      easing: 'ease-in'\n    },\n    'beforeExit:': {\n      duration: 300,\n      easing: 'ease-out'\n    },\n    'hide:': {\n      duration: 300,\n      easing: 'ease-in'\n    },\n    ':hide': {\n      duration: 300,\n      easing: 'ease-out'\n    },\n    'hide:beforeShow': 'none',\n    'beforeShow:': {\n      duration: 300,\n      easing: 'ease-in'\n    }\n  },\n  enterMode: 'normal',\n  exitMode: 'normal'\n};\n\n_baseattr.default.addAttributes({\n  states: {\n    value: defaultValues.states,\n    set: function set(val) {\n      val = Object.assign({}, val);\n      var states = this.states; // recover __default\n\n      Object.entries(states).forEach(function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (value.__default && !(key in val)) {\n          val[key] = value;\n        }\n      });\n      this.quietSet('states', val);\n    }\n  },\n  actions: {\n    value: defaultValues.actions,\n    set: function set(val) {\n      if (Array.isArray(val)) {\n        var value = {};\n        val.forEach(function (v) {\n          var key;\n          var action = v.action;\n\n          if (!action) {\n            action = Object.assign({}, v);\n            delete action.from;\n            delete action.to;\n            delete action.both;\n          }\n\n          if (v.both) {\n            if (!Array.isArray(v.both)) {\n              v.both = [v.both];\n            }\n\n            if (v.both.length > 1) {\n              key = v.both.join(':');\n              value[key] = Object.assign({}, action);\n              key = v.both.reverse().join(':');\n              value[key] = Object.assign({}, action);\n            } else {\n              value[\"\".concat(v.both[0], \":\")] = Object.assign({}, action);\n              value[\":\".concat(v.both[0])] = Object.assign({}, action);\n            }\n          } else {\n            key = \"\".concat(v.from || '', \":\").concat(v.to || '');\n            value[key] = Object.assign({}, action);\n          }\n        });\n        val = value;\n      }\n\n      var defaultVal = defaultValues.actions;\n      val = Object.assign({}, defaultVal, val);\n      this.quietSet('actions', val);\n    }\n  },\n  state: {\n    value: defaultValues.state,\n    set: function set(val) {\n      if (val == null) val = 'default';\n      var oldState = this.state;\n\n      if (oldState !== val) {\n        this.quietSet('state', val);\n        var states = this.states;\n        var action = null;\n        var toState = states[val] || {};\n        var subject = this.subject;\n\n        if (!subject.__ignoreAction && subject.layer) {\n          var fromState = states[oldState],\n              actions = this.actions;\n          action = actions[\"\".concat(oldState, \":\").concat(val)] || actions[\":\".concat(val)] || actions[\"\".concat(oldState, \":\")];\n          if (!action || action === 'none') action = {\n            duration: 0\n          };\n          var animation = subject.changeState(fromState, toState, action);\n          var tag = Symbol('tag');\n          animation.tag = tag;\n\n          if (animation.__reversed) {\n            subject.dispatchEvent(\"state-to-\".concat(oldState), {\n              from: val,\n              to: oldState,\n              action: animation.__reversed,\n              cancelled: true,\n              animation: animation\n            }, true, true);\n          }\n\n          subject.dispatchEvent(\"state-from-\".concat(oldState), {\n            from: oldState,\n            to: val,\n            action: action,\n            animation: animation\n          }, true, true);\n          animation.finished.then(function () {\n            if (animation.tag === tag) {\n              subject.dispatchEvent(\"state-to-\".concat(val), {\n                from: oldState,\n                to: val,\n                action: action,\n                animation: animation\n              }, true, true);\n            }\n          });\n\n          if (oldState === 'afterExit') {\n            animation.finish();\n          }\n        } else {\n          subject.dispatchEvent(\"state-from-\".concat(oldState), {\n            from: oldState,\n            to: val\n          }, true, true);\n          if (toState) subject.attr(toState);\n          subject.dispatchEvent(\"state-to-\".concat(val), {\n            from: oldState,\n            to: val\n          }, true, true);\n        }\n      }\n    }\n  },\n  enterMode: {\n    value: defaultValues.enterMode\n  },\n  exitMode: {\n    value: defaultValues.exitMode\n  }\n});","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _basesprite = _interopRequireDefault(require(\"../../core/basesprite\"));\n\nfunction doActions(ret, target, act) {\n  var actions = target.children.map(function (c) {\n    return c[act]();\n  }).filter(function (d) {\n    return d.promise;\n  });\n\n  if (ret.promise) {\n    actions.unshift(ret);\n  }\n\n  if (actions.length) {\n    var deferred = {\n      promise: Promise.all(actions.map(function (d) {\n        return d.promise;\n      })),\n      resolve: function resolve() {\n        actions.forEach(function (d) {\n          return d.resolve();\n        });\n        return this.promise;\n      }\n    };\n    return deferred;\n  }\n\n  return null;\n}\n\nvar _resolveState = Symbol('resolveState'),\n    _changeStateAction = Symbol('changeStateAction'),\n    _show = Symbol('show'),\n    _hide = Symbol('hide'),\n    _enter = Symbol('enter');\n\nvar _enter2 = _basesprite.default.prototype.enter;\nvar _exit2 = _basesprite.default.prototype.exit;\nObject.assign(_basesprite.default.prototype, {\n  changeState: function changeState(fromState, toState, action) {\n    var _this = this;\n\n    var animation;\n\n    if (this[_changeStateAction]) {\n      var currentAnim = this[_changeStateAction].animation;\n\n      if (this[_changeStateAction].reversable && (currentAnim.playState === 'running' || currentAnim.playState === 'pending') && this[_changeStateAction].fromState === toState && this[_changeStateAction].toState === fromState) {\n        currentAnim.playbackRate = -currentAnim.playbackRate;\n        animation = currentAnim;\n        animation.__reversed = this[_changeStateAction].action;\n      } else {\n        currentAnim.finish();\n      }\n    }\n\n    if (!animation) {\n      // const [_fromState, _toState] = [Object.assign({}, fromState), Object.assign({}, toState)];\n      // delete _fromState.__default;\n      // delete _toState.__default;\n      var _fromState = {},\n          _toState = {};\n      Object.entries(fromState || {}).forEach(function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (key !== '__default') {\n          if (typeof value === 'function') {\n            _fromState[key] = _this.attr(key);\n          } else {\n            _fromState[key] = value;\n          }\n        }\n      });\n      Object.entries(toState || {}).forEach(function (_ref3) {\n        var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n            key = _ref4[0],\n            value = _ref4[1];\n\n        if (key !== '__default') {\n          if (typeof value === 'function') {\n            _toState[key] = value(_this.attr(key));\n          } else {\n            _toState[key] = value;\n          }\n        }\n      });\n      animation = this.animate([_fromState, _toState], Object.assign({\n        fill: 'forwards'\n      }, action));\n      animation.finished.then(function () {\n        if (_this[_changeStateAction] && _this[_changeStateAction].animation === animation) delete _this[_changeStateAction];\n      });\n    }\n\n    this[_changeStateAction] = {\n      animation: animation,\n      fromState: fromState,\n      toState: toState,\n      action: action,\n      reversable: action.reversable !== false\n    };\n    return animation;\n  },\n  resolveStates: function resolveStates(states, before, after) {\n    var _this2 = this;\n\n    var currentAnimation = null,\n        resolved = false;\n    var _states = [];\n    var prev = null;\n\n    for (var i = 0; i < states.length; i++) {\n      var s = states[i];\n\n      if (prev !== s) {\n        prev = s;\n\n        _states.push(s);\n      }\n    }\n\n    states = _states;\n\n    var _resolveStates = function _resolveStates() {\n      _this2.__ignoreAction = false;\n\n      var fromState = _this2.attr('state');\n\n      if (fromState === states[0]) {\n        states.shift();\n      }\n\n      var len = states.length;\n\n      var resolveState = function resolveState(state, i) {\n        var promise = new Promise(function (resolve) {\n          _this2.once(\"state-to-\".concat(state), function () {\n            fromState = state;\n\n            if (i === len - 1) {\n              // lastState\n              delete _this2[_resolveState];\n            }\n\n            if (after) after.call(_this2, states);\n            resolve(_this2);\n          });\n\n          _this2.once(\"state-from-\".concat(fromState), function (_ref5) {\n            var animation = _ref5.animation;\n            if (animation && resolved) animation.finish();else currentAnimation = animation;\n          });\n\n          _this2.attr('state', state);\n        });\n        return promise;\n      };\n\n      var promise = Promise.resolve();\n      states.forEach(function (state, i) {\n        promise = promise.then(function () {\n          return resolveState(state, i);\n        });\n      });\n      var ret = {\n        get animation() {\n          return currentAnimation;\n        },\n\n        states: states,\n        resolve: function resolve() {\n          resolved = true;\n          if (currentAnimation) currentAnimation.finish();\n          return promise;\n        },\n        promise: promise\n      };\n      _this2[_resolveState] = ret;\n      return ret;\n    };\n\n    var rs = this[_resolveState];\n\n    if (rs) {\n      rs.resolve();\n      this.__ignoreAction = true;\n      var promise = rs.promise.then(function () {\n        if (before) before.call(_this2, states);\n        return _resolveStates().promise;\n      });\n      return {\n        promise: promise,\n        resolve: function resolve() {\n          resolved = true;\n          if (currentAnimation) currentAnimation.finish();\n          return promise;\n        }\n      };\n    }\n\n    if (before) before.call(this, states);\n    return _resolveStates();\n  },\n  // state: original -> show -> hide -> show -> original\n  show: function show() {\n    var _this3 = this;\n\n    if (this[_show]) return this[_show];\n    var originalDisplay = this.attr('__originalDisplay') || '';\n    var originalState = this.attr('__originalState') || 'default';\n    var states = this.attr('states');\n\n    if (states.show) {\n      var _st = ['show', originalState];\n\n      if (states.beforeShow) {\n        _st.unshift('beforeShow');\n      }\n\n      var deferred = this.resolveStates(_st, function () {\n        var state = _this3.attr('state');\n\n        if (state === 'hide') {\n          _this3.once('state-from-hide', function () {\n            _this3.attr('display', originalDisplay);\n          });\n        }\n      });\n      deferred.promise = deferred.promise.then(function () {\n        if (!_this3[_hide]) {\n          delete _this3.__attr.__originalDisplay;\n          delete _this3.__attr.__originalState;\n\n          if (states.show.__default) {\n            delete states.show;\n\n            _this3.attr('states', states);\n          }\n        }\n\n        delete _this3[_show];\n      });\n      this[_show] = deferred;\n      return deferred;\n    }\n\n    var rs = this[_resolveState];\n\n    if (rs) {\n      rs.resolve();\n      rs.promise.then(function () {\n        _this3.attr('state', originalState);\n\n        _this3.attr('display', originalDisplay);\n      });\n      return rs;\n    }\n\n    this.attr('state', originalState);\n    this.attr('display', originalDisplay);\n    return this;\n  },\n  hide: function hide() {\n    var _this4 = this;\n\n    var state = this.attr('state');\n    if (this[_hide] || state === 'hide' || state === 'afterExit' || state === 'beforeExit') return this[_hide];\n\n    var __originalDisplay = this.attr('__originalDisplay');\n\n    if (__originalDisplay == null) {\n      var display = this.attr('display');\n      this.attr({\n        __originalDisplay: display !== 'none' ? display : '',\n        __originalState: state !== 'hide' ? state : 'default'\n      });\n    }\n\n    var states = this.attr('states');\n\n    if (states.hide) {\n      var deferred = this.resolveStates(['show', 'hide'], function () {\n        if (!states.show) {\n          var beforeHide = {\n            __default: true\n          };\n\n          if (states.beforeShow) {\n            Object.keys(states.beforeShow).forEach(function (key) {\n              beforeHide[key] = _this4.attr(key);\n            });\n          }\n\n          Object.keys(states.hide).forEach(function (key) {\n            beforeHide[key] = _this4.attr(key);\n          });\n          states.show = beforeHide;\n\n          _this4.attr('states', states);\n        }\n      });\n      deferred.promise = deferred.promise.then(function () {\n        _this4.attr('display', 'none');\n\n        delete _this4[_hide];\n        return _this4;\n      });\n      this[_hide] = deferred;\n      return deferred;\n    }\n\n    var rs = this[_resolveState];\n\n    if (rs) {\n      rs.resolve();\n      rs.promise.then(function () {\n        _this4.attr('state', 'hide');\n\n        _this4.attr('display', 'none');\n      });\n      return rs;\n    }\n\n    this.attr('state', 'hide');\n    this.attr('display', 'none');\n    return this;\n  },\n  enter: function enter(toState) {\n    var _this5 = this;\n\n    var states = this.attr('states');\n    var ret;\n\n    if (states && (states.beforeEnter || states.afterEnter)) {\n      var deferred = this.resolveStates(['beforeEnter', 'afterEnter'], function (_states) {\n        var state = _this5.attr('state');\n\n        _states.push(toState || state);\n\n        if (state !== 'beforeEnter' && state !== 'afterEnter' && (!states.afterEnter || states.afterEnter.__default)) {\n          var afterEnter = {\n            __default: true\n          };\n          Object.keys(states.beforeEnter).forEach(function (key) {\n            afterEnter[key] = _this5.attr(key);\n          });\n          states.afterEnter = afterEnter;\n\n          _this5.attr('states', states);\n        }\n      });\n      ret = deferred;\n    } else {\n      ret = _enter2.call(this);\n    }\n\n    this[_enter] = ret;\n\n    if (this.children) {\n      var enterMode = this.attr('enterMode');\n\n      if (enterMode === 'onebyone' || enterMode === 'onebyone-reverse') {\n        var promise = null;\n        var resolved = false;\n\n        if (ret.promise) {\n          promise = ret.promise;\n        } else {\n          promise = Promise.resolve(this);\n        }\n\n        var children = this.children;\n\n        if (enterMode === 'onebyone-reverse') {\n          children = (0, _toConsumableArray2.default)(children).reverse();\n        }\n\n        var currentTask = ret;\n        children.forEach(function (c) {\n          var states = c.attr('states');\n\n          if (states && (states.beforeEnter || states.afterEnter)) {\n            if (!states.afterEnter || states.afterEnter.__default) {\n              var afterEnter = {\n                __default: true\n              };\n              Object.keys(states.beforeEnter).forEach(function (key) {\n                afterEnter[key] = c.attr(key);\n              });\n              states.afterEnter = afterEnter;\n              c.attr('states', states);\n            }\n          }\n\n          var toState = c.attr('state');\n          c.attr('state', 'beforeEnter');\n          promise = promise.then(function () {\n            var d = c.enter(toState);\n\n            if (d.promise) {\n              currentTask = d;\n\n              if (resolved && d.resolve) {\n                d.resolve();\n              }\n\n              return d.promise;\n            }\n\n            return d;\n          });\n        });\n        this[_enter] = {\n          promise: promise,\n          resolve: function resolve() {\n            if (currentTask && currentTask.resolve) currentTask.resolve();\n            resolved = true;\n          }\n        };\n      } else {\n        var _deferred = doActions(ret, this, 'enter');\n\n        if (_deferred) this[_enter] = _deferred;\n      }\n    }\n\n    return this[_enter];\n  },\n  exit: function exit(toState) {\n    var _this6 = this;\n\n    var onbyone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var _exit = function _exit() {\n      var states = _this6.attr('states');\n\n      var ret;\n      var afterEnter = states.afterEnter || {};\n\n      if (states && (states.beforeExit || states.afterExit)) {\n        var state;\n\n        var deferred = _this6.resolveStates(['beforeExit', 'afterExit'], function () {\n          state = _this6.attr('state');\n\n          if (state !== 'beforeExit' && state !== 'afterExit' && (!states.beforeExit || states.beforeExit.__default)) {\n            states.beforeExit = Object.assign({}, afterEnter);\n            states.beforeExit.__default = true;\n\n            _this6.attr('states', states);\n          }\n        });\n\n        deferred.promise.then(function () {\n          if (!onbyone) {\n            _this6.attr(afterEnter);\n\n            _this6.__attr.quietSet('state', toState || state);\n          }\n\n          return _this6;\n        });\n        ret = deferred;\n      } else {\n        var rs = _this6[_resolveState];\n\n        if (rs) {\n          rs.resolve();\n          rs.promise.then(function () {\n            _this6.attr(afterEnter);\n\n            return _exit2.call(_this6);\n          });\n          ret = rs;\n        } else {\n          ret = _exit2.call(_this6);\n\n          _this6.attr(afterEnter);\n        }\n      }\n\n      if (_this6.children) {\n        var exitMode = _this6.attr('exitMode');\n\n        if (exitMode === 'onebyone' || exitMode === 'onebyone-reverse') {\n          var promise = Promise.resolve(_this6);\n          var resolved = false;\n          var children = _this6.children;\n\n          if (exitMode === 'onebyone-reverse') {\n            children = (0, _toConsumableArray2.default)(children).reverse();\n          }\n\n          var currentTask = null;\n          children.forEach(function (c) {\n            var states = c.attr('states');\n\n            if (states && (states.beforeExit || states.afterExit)) {\n              if (!states.beforeExit || states.beforeExit.__default) {\n                states.beforeExit = Object.assign({}, afterEnter);\n                states.beforeExit.__default = true;\n                c.attr('states', states);\n              }\n            }\n\n            var toState = c.attr('state');\n            c.attr('state', 'beforeExit');\n            promise = promise.then(function () {\n              var d = c.exit(toState, true);\n\n              if (d.promise) {\n                currentTask = d;\n                if (resolved && d.resolve) d.resolve();\n                return d.promise;\n              }\n\n              return d;\n            });\n            c.__toState = toState;\n          });\n          promise = promise.then(function () {\n            var p = ret.promise || Promise.resolve(_this6);\n            currentTask = ret;\n            return p.then(function () {\n              _this6.children.forEach(function (c) {\n                var states = c.attr('states');\n                c.attr(states.afterEnter);\n\n                c.__attr.quietSet('state', c.__toState);\n\n                delete c.__toState;\n              });\n            });\n          });\n          return {\n            promise: promise,\n            resolve: function resolve() {\n              if (currentTask && currentTask.resolve) currentTask.resolve();\n              resolved = true;\n            }\n          };\n        }\n\n        var _deferred2 = doActions(ret, _this6, 'exit');\n\n        if (_deferred2) return _deferred2;\n      }\n\n      return ret;\n    };\n\n    if (this[_enter] && this[_enter].promise) {\n      var resolved = false;\n\n      this[_enter].resolve();\n\n      var promise = this[_enter].promise.then(function () {\n        var deferred = _exit();\n\n        if (resolved && deferred.resolve) {\n          deferred.resolve();\n        }\n\n        return deferred.promise;\n      });\n\n      return {\n        promise: promise,\n        resolve: function resolve() {\n          resolved = true;\n        }\n      };\n    }\n\n    return _exit();\n  }\n});","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nrequire(\"./attr\");\n\nvar flexLayout = _interopRequireWildcard(require(\"./flex\"));\n\nvar _group = _interopRequireDefault(require(\"../../core/group\"));\n\n_group.default.applyLayout('flex', flexLayout);","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _baseattr = _interopRequireDefault(require(\"../../core/baseattr\"));\n\nvar _utils = require(\"../../utils\");\n\n/*\n  BaseAttr.addAttributes({\n    flexGrow: {\n      decorators: [],\n      value: ...,\n      set: ...,\n      get: ...,\n    },\n  });\n*/\nvar relayout = true,\n    reflow = true,\n    cache = true;\n\n_baseattr.default.addAttributes({\n  flexGrow: {\n    decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 0\n  },\n  flexShrink: {\n    decorators: [(0, _utils.parseValue)(parseFloat), (0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 1\n  },\n  flexBasis: {\n    decorators: [(0, _utils.attr)({\n      relayout: relayout,\n      reflow: reflow\n    })],\n    value: 'auto'\n  },\n  order: {\n    decorators: [(0, _utils.parseValue)(parseInt), (0, _utils.attr)({\n      cache: cache,\n      relayout: relayout\n    })],\n    value: 0\n  },\n  alignSelf: {\n    decorators: [(0, _utils.attr)({\n      cache: cache,\n      relayout: relayout\n    })],\n    value: ''\n  },\n  flex: {\n    set: function set(val) {\n      this.clearFlow();\n\n      if (val != null && val !== 'initial') {\n        if (val === 'auto') {\n          this.flexGrow = 1;\n          this.flexShrink = 1;\n          this.flexBasis = 'auto';\n        } else if (val === 'none') {\n          this.flexGrow = 0;\n          this.flexShrink = 0;\n          this.flexBasis = 'auto';\n        } else if (typeof val === 'string') {\n          var values = val.trim().split(/\\s+/);\n          this.flexGrow = values[0];\n          this.flexShrink = values[1];\n          this.flexBasis = values[2];\n        } else {\n          this.flexGrow = val;\n          this.flexShrink = 1;\n          this.flexBasis = 'auto';\n        }\n      } else {\n        this.flexGrow = 0;\n        this.flexShrink = 1;\n        this.flexBasis = 'auto';\n      }\n    },\n    get: function get() {\n      return \"\".concat(this.flexGrow, \" \").concat(this.flexShrink, \" \").concat(this.flexBasis);\n    }\n  }\n});","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.relayout = relayout;\nexports.attrs = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _spriteFlexLayout = require(\"sprite-flex-layout\");\n\nvar _utils = require(\"../../utils\");\n\nvar attrs = {\n  flexDirection: {\n    decorators: [(0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 'row'\n  },\n  flexWrap: {\n    decorators: [(0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 'nowrap'\n  },\n  justifyContent: {\n    decorators: [(0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 'flex-start'\n  },\n  alignItems: {\n    decorators: [(0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 'stretch'\n  },\n  alignContent: {\n    decorators: [(0, _utils.attr)({\n      relayout: relayout\n    })],\n    value: 'stretch'\n  }\n};\nexports.attrs = attrs;\n\nfunction relayout(containerSprite, itemsSprite) {\n  itemsSprite.sort(function (a, b) {\n    var orderA = a.attributes.order | 0,\n        orderB = b.attributes.order | 0;\n\n    if (orderA !== orderB) {\n      return orderA - orderB;\n    }\n\n    return a.zOrder - b.zOrder;\n  });\n\n  var container = _spriteFlexLayout.Node.create({\n    width: containerSprite.attrSize[0],\n    height: containerSprite.attrSize[1],\n    flexDirection: containerSprite.attributes.flexDirection,\n    alignItems: containerSprite.attributes.alignItems,\n    justifyContent: containerSprite.attributes.justifyContent,\n    flexWrap: containerSprite.attributes.flexWrap,\n    alignContent: containerSprite.attributes.alignContent\n  });\n\n  itemsSprite.forEach(function (item) {\n    var _item$attr = item.attr('margin'),\n        _item$attr2 = (0, _slicedToArray2.default)(_item$attr, 4),\n        marginTop = _item$attr2[0],\n        marginRight = _item$attr2[1],\n        marginBottom = _item$attr2[2],\n        marginLeft = _item$attr2[3];\n\n    var _item$attr3 = item.attr('padding'),\n        _item$attr4 = (0, _slicedToArray2.default)(_item$attr3, 4),\n        paddingTop = _item$attr4[0],\n        paddingRight = _item$attr4[1],\n        paddingBottom = _item$attr4[2],\n        paddingLeft = _item$attr4[3];\n\n    var borderWidth = item.attr('border').width;\n\n    var _item$attrSize = (0, _slicedToArray2.default)(item.attrSize, 2),\n        width = _item$attrSize[0],\n        height = _item$attrSize[1];\n\n    var config = {\n      width: width,\n      height: height,\n      offsetWidth: item.contentSize[0],\n      offsetHeight: item.contentSize[1],\n      minWidth: item.attributes.minWidth,\n      maxWidth: item.attributes.maxWidth,\n      minHeight: item.attributes.minHeight,\n      maxHeight: item.attributes.maxHeight,\n      boxSizing: item.attr('boxSizing'),\n      marginTop: marginTop,\n      marginRight: marginRight,\n      marginBottom: marginBottom,\n      marginLeft: marginLeft,\n      paddingTop: paddingTop,\n      paddingRight: paddingRight,\n      paddingBottom: paddingBottom,\n      paddingLeft: paddingLeft,\n      borderTop: borderWidth,\n      borderRight: borderWidth,\n      borderBottom: borderWidth,\n      borderLeft: borderWidth,\n      alignSelf: item.attributes.alignSelf,\n      // flex: item.attributes.flex,\n      flexBasis: item.attributes.flexBasis,\n      flexGrow: item.attributes.flexGrow,\n      flexShrink: item.attributes.flexShrink\n    };\n\n    var node = _spriteFlexLayout.Node.create(config);\n\n    container.appendChild(node);\n  });\n  container.calculateLayout();\n  var layout = container.getAllComputedLayout();\n  containerSprite.attr({\n    layoutWidth: layout.width,\n    layoutHeight: layout.height\n  });\n  layout.children.forEach(function (item, index) {\n    var sprite = itemsSprite[index];\n\n    var _sprite$originalRect = (0, _slicedToArray2.default)(sprite.originalRect, 2),\n        ox = _sprite$originalRect[0],\n        oy = _sprite$originalRect[1]; // fix anchor\n\n\n    sprite.attr({\n      layoutX: item.left - ox,\n      layoutY: item.top - oy,\n      layoutWidth: item.width,\n      layoutHeight: item.height,\n      layoutRight: item.left + item.width,\n      layoutBottom: item.top + item.height\n    });\n  });\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"querySelector\", {\n  enumerable: true,\n  get: function get() {\n    return _selector.querySelector;\n  }\n});\nObject.defineProperty(exports, \"querySelectorAll\", {\n  enumerable: true,\n  get: function get() {\n    return _selector.querySelectorAll;\n  }\n});\nObject.defineProperty(exports, \"registerNodeType\", {\n  enumerable: true,\n  get: function get() {\n    return _nodetype.registerNodeType;\n  }\n});\nObject.defineProperty(exports, \"createNode\", {\n  enumerable: true,\n  get: function get() {\n    return _nodetype.createNode;\n  }\n});\nObject.defineProperty(exports, \"createElement\", {\n  enumerable: true,\n  get: function get() {\n    return _nodetype.createElement;\n  }\n});\nObject.defineProperty(exports, \"isValidNodeType\", {\n  enumerable: true,\n  get: function get() {\n    return _nodetype.isValidNodeType;\n  }\n});\n\nvar _selector = require(\"./selector\");\n\nvar _nodetype = require(\"./nodetype\");\n\nvar _basenode = _interopRequireDefault(require(\"../../core/basenode\"));\n\nvar _basesprite = _interopRequireDefault(require(\"../../core/basesprite\"));\n\nvar _sprite = _interopRequireDefault(require(\"../../core/sprite\"));\n\nvar _label = _interopRequireDefault(require(\"../../core/label\"));\n\nvar _path = _interopRequireDefault(require(\"../../core/path\"));\n\nvar _group = _interopRequireDefault(require(\"../../core/group\"));\n\nvar _layer = _interopRequireDefault(require(\"../../core/layer\"));\n\n(0, _nodetype.registerNodeType)('node', _basenode.default);\n(0, _nodetype.registerNodeType)('basesprite', _basesprite.default);\n(0, _nodetype.registerNodeType)('sprite', _sprite.default);\n(0, _nodetype.registerNodeType)('label', _label.default);\n(0, _nodetype.registerNodeType)('path', _path.default);\n(0, _nodetype.registerNodeType)('group', _group.default, true);\n(0, _nodetype.registerNodeType)('layer', _layer.default, true);\nObject.defineProperties(_basenode.default.prototype, {\n  attributes: {\n    get: function get() {\n      if (typeof Proxy === 'function') {\n        try {\n          return new Proxy(this.__attr, {\n            get: function get(target, prop) {\n              if (prop in target) return target[prop];\n              return target.subject.attr(prop);\n            },\n            set: function set(target, prop, value) {\n              if (typeof prop !== 'string' || /^__/.test(prop)) target[prop] = value;else target.subject.attr(prop, value);\n              return true;\n            },\n            deleteProperty: function deleteProperty(target, prop) {\n              if (typeof prop !== 'string' || /^__/.test(prop)) delete target[prop];else target.subject.attr(prop, null);\n              return true;\n            }\n          });\n        } catch (ex) {\n          return this.__attr;\n        }\n      }\n\n      return this.__attr;\n    }\n  },\n  style: {\n    get: function get() {\n      if (typeof Proxy === 'function') {\n        try {\n          return new Proxy(this.__attr, {\n            get: function get(target, prop) {\n              if (prop !== 'id' && prop !== 'name' && prop !== 'class') {\n                return target[prop];\n              }\n\n              return null;\n            },\n            set: function set(target, prop, value) {\n              if (prop !== 'id' && prop !== 'name' && prop !== 'class') {\n                target.subject.attr(prop, value);\n              }\n\n              return true;\n            },\n            deleteProperty: function deleteProperty(target, prop) {\n              if (prop !== 'id' && prop !== 'name' && prop !== 'class') {\n                target.subject.attr(prop, null);\n                return true;\n              }\n\n              return false;\n            }\n          });\n        } catch (ex) {\n          return this.__attr;\n        }\n      }\n\n      return this.__attr;\n    }\n  },\n  parentNode: {\n    get: function get() {\n      return this.parent;\n    }\n  },\n  nextSibling: {\n    get: function get() {\n      return this.getNodeNearBy(1);\n    }\n  },\n  previousSibling: {\n    get: function get() {\n      return this.getNodeNearBy(-1);\n    }\n  },\n  nextElementSibling: {\n    get: function get() {\n      return this.getNodeNearBy(1, true);\n    }\n  },\n  previousElementSibling: {\n    get: function get() {\n      return this.getNodeNearBy(-1, true);\n    }\n  }\n});\nObject.assign(_basenode.default.prototype, {\n  addEventListener: function addEventListener(type, handler) {\n    return this.on(type, handler);\n  },\n  removeEventListener: function removeEventListener(type, handler) {\n    return this.off(type, handler);\n  },\n  getNodeNearBy: function getNodeNearBy() {\n    var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var isElement = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (!this.parent) return null;\n    if (distance === 0) return this;\n    var children = isElement ? this.parent.children : this.parent.childNodes;\n    var idx = children.indexOf(this);\n    return children[idx + distance];\n  },\n  getAttribute: function getAttribute(prop) {\n    /* istanbul ignore next */\n    return this.attr(prop);\n  },\n  setAttribute: function setAttribute(prop, val) {\n    /* istanbul ignore next */\n    return this.attr(prop, val);\n  },\n  removeAttribute: function removeAttribute(prop) {\n    /* istanbul ignore next */\n    return this.attr(prop, null);\n  },\n  contains: function contains(node) {\n    while (node && this !== node) {\n      node = node.parent;\n    }\n\n    return !!node;\n  }\n});","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.querySelectorAll = querySelectorAll;\nexports.querySelector = querySelector;\nexports.isMatched = isMatched;\nexports.compile = compile;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _utils = require(\"../../utils\");\n\nvar CSSselect = require('css-select');\n\nCSSselect.pseudos.hover = function (next) {\n  return !!next.attr('__internal_state_hover_');\n};\n\nCSSselect.pseudos.active = function (next) {\n  return !!next.attr('__internal_state_active_');\n};\n\nfunction isTag(elem) {\n  return elem.nodeType === 1 || typeof elem.nodeType === 'string';\n}\n\nfunction getChildren(elem) {\n  if (elem.scene_) {\n    return [elem.scene_];\n  }\n\n  if (elem.layer_) {\n    return [elem.layer_];\n  }\n\n  return Array.from(elem.childNodes || []);\n}\n\nfunction getParent(elem) {\n  if (elem.nodeType === 1) return elem.parentElement;\n\n  if (typeof elem.nodeType === 'string') {\n    return elem.parent || elem.canvas || elem.container;\n  }\n}\n\nfunction removeSubsets(nodes) {\n  var idx = nodes.length,\n      node,\n      ancestor,\n      replace; // Check if each node (or one of its ancestors) is already contained in the\n  // array.\n\n  while (--idx > -1) {\n    node = ancestor = nodes[idx]; // Temporarily remove the node under consideration\n\n    nodes[idx] = null;\n    replace = true;\n\n    while (ancestor) {\n      if (nodes.indexOf(ancestor) > -1) {\n        replace = false;\n        nodes.splice(idx, 1);\n        break;\n      }\n\n      ancestor = getParent(ancestor);\n    } // If the node has been found to be unique, re-insert it.\n\n\n    if (replace) {\n      nodes[idx] = node;\n    }\n  }\n\n  return nodes;\n}\n\nvar adapter = {\n  isTag: isTag,\n  existsOne: function existsOne(test, elems) {\n    return elems.some(function (elem) {\n      return isTag(elem) ? test(elem) || adapter.existsOne(test, getChildren(elem)) : false;\n    });\n  },\n  getSiblings: function getSiblings(elem) {\n    var parent = getParent(elem);\n    return parent && getChildren(parent);\n  },\n  getChildren: getChildren,\n  getParent: getParent,\n  getAttributeValue: function getAttributeValue(elem, name) {\n    if (elem.nodeType === 1 && name === 'class' || name === 'id') {\n      return elem[name];\n    }\n\n    if (this.hasAttrib(elem, name)) {\n      var val = elem.attributes[name];\n\n      if (Array.isArray(val)) {\n        val = \"[\".concat(val.join(), \"]\");\n      }\n\n      return String(val);\n    }\n  },\n  hasAttrib: function hasAttrib(elem, name) {\n    return elem.attributes[name] != null;\n  },\n  removeSubsets: removeSubsets,\n  getName: function getName(elem) {\n    return elem.tagName ? elem.tagName.toLowerCase() : null;\n  },\n  findOne: function findOne(test, arr) {\n    var elem = null;\n\n    for (var i = 0, l = arr.length; i < l && !elem; i++) {\n      if (test(arr[i])) {\n        elem = arr[i];\n      } else {\n        var childs = getChildren(arr[i]);\n\n        if (childs && childs.length > 0) {\n          elem = findOne(test, childs);\n        }\n      }\n    }\n\n    return elem;\n  },\n  findAll: function findAll(test, elems) {\n    var result = [];\n\n    for (var i = 0, j = elems.length; i < j; i++) {\n      if (!isTag(elems[i])) continue; // eslint-disable-line\n\n      if (test(elems[i])) result.push(elems[i]);\n      var childs = getChildren(elems[i]);\n      if (childs) result = result.concat(findAll(test, childs));\n    }\n\n    return result;\n  },\n  getText: function getText(elem) {\n    if (Array.isArray(elem)) return elem.map(getText).join('');\n    if (isTag(elem)) return getText(getChildren(elem));\n    if (elem.nodeType === 3) return elem.nodeValue;\n    if (typeof elem.nodeType === 'string') return elem.text;\n    return '';\n  }\n};\n\nfunction resolveQuery(query) {\n  if (typeof query !== 'string') return query;\n  var matches = query.match(/\\[(bgcolor|fillColor|strokeColor|color)\\s*=\\s*['\"]?\\w+['\"]?\\]/g);\n\n  if (matches) {\n    matches = matches.map(function (matched) {\n      var kv = matched.slice(1, -1).split('=');\n      var color = (0, _utils.parseColorString)(kv[1].replace(/['\"]/g, ''));\n      return [matched, \"[\".concat(kv[0], \"=\\\"\").concat(color, \"\\\"]\")];\n    });\n    matches.forEach(function (_ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n          r = _ref2[0],\n          p = _ref2[1];\n\n      query = query.replace(r, p);\n    });\n  }\n\n  matches = query.match(/\\[\\w+\\s*=\\s*['\"]\\[.+?\\]['\"]\\]/g);\n\n  if (matches) {\n    matches = matches.map(function (matched) {\n      var kv = matched.slice(1, -1).split('=');\n      var arr = kv[1].slice(2, -2).split(/,/g).map(function (k) {\n        return k.trim();\n      });\n      return [matched, \"[\".concat(kv[0], \"=\\\"[\").concat(arr, \"]\\\"]\")];\n    });\n    matches.forEach(function (_ref3) {\n      var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n          r = _ref4[0],\n          p = _ref4[1];\n\n      query = query.replace(r, p);\n    });\n  }\n\n  return query;\n}\n\nfunction querySelectorAll(query, elems) {\n  return CSSselect.selectAll(resolveQuery(query), elems, {\n    adapter: adapter\n  });\n}\n\nfunction querySelector(query, elems) {\n  return CSSselect.selectOne(resolveQuery(query), elems, {\n    adapter: adapter\n  });\n}\n\nfunction isMatched(elem, query) {\n  return CSSselect.is(elem, resolveQuery(query), {\n    adapter: adapter\n  });\n}\n\nfunction compile(query) {\n  return CSSselect.compile(resolveQuery(query), {\n    adapter: adapter\n  });\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerNodeType = registerNodeType;\nexports.createNode = createNode;\nexports.createElement = createElement;\nexports.isValidNodeType = isValidNodeType;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime/helpers/construct\"));\n\nvar _selector = require(\"./selector\");\n\nvar nodeTypes = new Map();\n/* istanbul ignore next  */\n\nvar ownerDocumentDescriptor = {\n  get: function get() {\n    return {\n      createElementNS: function createElementNS(uri, name) {\n        return createNode(name);\n      }\n    };\n  }\n};\nvar elementProto = {\n  getElementById: function getElementById(id) {\n    return (0, _selector.querySelector)(\"#\".concat(id), this);\n  },\n  getElementsByName: function getElementsByName(name) {\n    return (0, _selector.querySelectorAll)(\"[name=\\\"\".concat(name, \"\\\"]\"), this);\n  },\n  getElementsByClassName: function getElementsByClassName(className) {\n    return (0, _selector.querySelectorAll)(\".\".concat(className), this);\n  },\n  getElementsByTagName: function getElementsByTagName(tagName) {\n    return (0, _selector.querySelectorAll)(tagName, this);\n  },\n  querySelector: function querySelector(selector) {\n    return (0, _selector.querySelector)(selector, this);\n  },\n  querySelectorAll: function querySelectorAll(selector) {\n    return (0, _selector.querySelectorAll)(selector, this);\n  }\n};\n\nfunction registerNodeType(type, Class) {\n  var isQuerable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var nodeType = type.toLowerCase();\n  var tagName = type.toUpperCase();\n  Object.defineProperty(Class.prototype, 'nodeType', {\n    get: function get() {\n      return nodeType;\n    }\n  }); // friendly to snabbdom\n\n  Object.defineProperty(Class.prototype, 'tagName', {\n    get: function get() {\n      return tagName;\n    }\n  });\n  Object.defineProperty(Class.prototype, 'nodeName', {\n    get: function get() {\n      return tagName;\n    }\n  });\n  nodeTypes.set(nodeType, Class);\n\n  if (isQuerable && !Class.prototype.ownerDocument) {\n    Object.defineProperty(Class.prototype, 'ownerDocument', ownerDocumentDescriptor);\n    Class.prototype.namespaceURI = \"http://spritejs.org/\".concat(type);\n    Object.assign(Class.prototype, elementProto);\n  }\n}\n\nfunction createNode(type) {\n  var Class = getNodeType(type);\n\n  if (Class) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return (0, _construct2.default)(Class, args);\n  }\n\n  return null;\n}\n\nfunction createElement(type, attrs, content) {\n  var Node = typeof type === 'string' ? getNodeType(type) : type;\n  if (!Node) return null;\n  var sprite = new Node(typeof content === 'string' ? content : undefined);\n\n  if (attrs !== null) {\n    sprite.attr(attrs);\n  }\n\n  if ((0, _typeof2.default)(content) === 'object' && sprite.append) {\n    if (content instanceof Array) {\n      sprite.append.apply(sprite, (0, _toConsumableArray2.default)(content));\n    } else {\n      sprite.append(content);\n    }\n  }\n\n  return sprite;\n}\n\nfunction getNodeType(type) {\n  return nodeTypes.get(type.toLowerCase());\n}\n\nfunction isValidNodeType(type) {\n  return !!getNodeType(type);\n}","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _basenode = _interopRequireDefault(require(\"../../core/basenode\"));\n\nvar _layer = _interopRequireDefault(require(\"../../core/layer\"));\n\nvar _stylesheet = _interopRequireDefault(require(\"./stylesheet\"));\n\n/* istanbul ignore next */\n_layer.default.prototype.fromDocumentCSS = function () {\n  _stylesheet.default.fromDocumentCSS();\n};\n\n_basenode.default.prototype.restyle = function () {\n  _stylesheet.default.computeStyle(this);\n};\n\nvar _default = _stylesheet.default;\nexports.default = _default;","\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _selector = require(\"../dom/selector\");\n\nvar _utils = require(\"../../utils\");\n\nvar cssWhat = require('css-what');\n\nvar cssRules = [];\nvar keyFrames = {};\n\nvar _matchedSelectors = Symbol('matchedSelectors');\n\nvar _transitions = Symbol('transitions');\n\nvar _animation = Symbol('animation');\n/* istanbul ignore next */\n\n\nfunction parseTransitionValue(values) {\n  if (typeof values === 'string') values = values.trim().split(/\\s*,\\s*/g);\n  var ret = [];\n\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i].toString();\n\n    if (value === 'initial') {\n      value = 0;\n    } else if (/ms$/.test(value)) {\n      value = parseFloat(value) / 1000;\n    } else {\n      value = parseFloat(value);\n    }\n\n    ret.push(value);\n  }\n\n  return ret;\n}\n/* istanbul ignore next */\n\n\nfunction parseAnimationValue(value) {\n  value = value.toString();\n\n  if (value === 'initial') {\n    value = 0;\n  } else if (/ms$/.test(value)) {\n    value = parseFloat(value);\n  } else {\n    value = parseFloat(value) * 1000;\n  }\n\n  return value;\n}\n/* istanbul ignore next */\n\n\nfunction toPxValue(value, defaultWidth) {\n  // eslint-disable-line complexity\n  if (typeof value === 'string') {\n    var matched = value.match(/^([\\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin)$/);\n\n    if (matched) {\n      // console.log(matched);\n      var size = parseFloat(matched[1]);\n      var unit = matched[2];\n      value = (0, _utils.sizeToPixel)({\n        size: size,\n        unit: unit\n      });\n    } else {\n      var _size = Number(value);\n\n      if (!Number.isNaN(_size)) {\n        value = _size;\n      }\n    }\n  }\n\n  return value;\n}\n/* istanbul ignore next */\n\n\nvar CSSGetter = {\n  opacity: true,\n  width: true,\n  height: true,\n  backgroundColor: true,\n  flexGrow: true,\n  flexShrink: true,\n  flexBasis: true,\n  order: true,\n  flexDirection: true,\n  flexWrap: true,\n  justifyContent: true,\n  alignItems: true,\n  alignContent: true,\n  position: true,\n  alignSelf: true,\n  transform: true,\n  transformOrigin: true,\n  borderTopWidth: true,\n  borderRightWidth: true,\n  borderBottomWidth: true,\n  borderLeftWidth: true,\n  borderTopColor: true,\n  borderRightColor: true,\n  borderBottomColor: true,\n  borderLeftColor: true,\n  borderTopStyle: true,\n  borderRightStyle: true,\n  borderBottomStyle: true,\n  borderLeftStyle: true,\n  borderTopLeftRadius: true,\n  borderTopRightRadius: true,\n  borderBottomRightRadius: true,\n  borderBottomLeftRadius: true,\n  boxSizing: true,\n  display: true,\n  paddingTop: true,\n  paddingRight: true,\n  paddingBottom: true,\n  paddingLeft: true,\n  marginTop: true,\n  marginRight: true,\n  marginBottom: true,\n  marginLeft: true,\n  zIndex: true,\n  font: true,\n  fontSize: true,\n  fontFamily: true,\n  fontStyle: true,\n  fontVariantCaps: true,\n  fontWeight: true,\n  color: true,\n  textAlign: true,\n  lineHeight: true,\n  lineBreak: true,\n  wordBreak: true,\n  letterSpacing: true,\n  textIndent: true,\n  transitionDuration: parseTransitionValue,\n  transitionTimingFunction: function transitionTimingFunction(values) {\n    if (typeof values === 'string') values = values.trim().split(/\\s*,\\s*/g);\n    var ret = [];\n\n    for (var i = 0; i < values.length; i++) {\n      var value = values[i].toString();\n      if (value === 'initial') value = 'ease';\n      ret.push(value);\n    }\n\n    return ret;\n  },\n  transitionDelay: parseTransitionValue,\n  transitionProperty: true,\n  animationDuration: parseAnimationValue,\n  animationDelay: parseAnimationValue,\n  animationTimingFunction: function animationTimingFunction(value) {\n    value = value.toString();\n    return value !== 'initial' ? value : 'ease';\n  },\n  animationIterationCount: function animationIterationCount(value) {\n    value = value.toString();\n    if (value === 'initial') return 1;\n    if (value === 'infinity') return Infinity;\n    return parseFloat(value);\n  },\n  animationDirection: function animationDirection(value) {\n    value = value.toString();\n    return value !== 'initial' ? value : 'normal';\n  },\n  animationFillMode: function animationFillMode(value) {\n    value = value.toString();\n    if (value === 'initial' || value === 'none') value = 'auto';\n    return value;\n  },\n  animationPlayState: true,\n  animationName: true\n};\n/* istanbul ignore next */\n\nfunction parseRuleAttrs(rule) {\n  // eslint-disable-line complexity\n  var styleAttrs;\n  var isStyleMap = !!rule.styleMap;\n\n  if (!isStyleMap) {\n    if (!rule.style) return;\n    var props = (0, _toConsumableArray2.default)(rule.style).map(function (key) {\n      return [key, rule.style[key]];\n    }).filter(function (_ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return value != null;\n    });\n    var matched = rule.cssText.match(/--sprite-[\\w-]+\\s*:\\s*.+?(;|$)/img);\n\n    if (matched) {\n      matched.forEach(function (rule) {\n        var _rule$split = rule.split(':'),\n            _rule$split2 = (0, _slicedToArray2.default)(_rule$split, 2),\n            key = _rule$split2[0],\n            value = _rule$split2[1];\n\n        props.push([key, value.trim().replace(/;$/, '')]);\n      });\n    }\n\n    var isIgnore = props['--sprite-ignore'];\n\n    if (isIgnore && isIgnore !== 'false' && isIgnore !== '0') {\n      return;\n    }\n\n    styleAttrs = props;\n  }\n\n  if (rule.styleMap && rule.styleMap.has('--sprite-ignore')) {\n    var _isIgnore = rule.styleMap.get('--sprite-ignore')[0].trim();\n\n    if (_isIgnore !== 'false' && _isIgnore !== '0' && _isIgnore !== '') {\n      return;\n    }\n  }\n\n  if (rule.styleMap) {\n    styleAttrs = (0, _toConsumableArray2.default)(rule.styleMap);\n  }\n\n  var attrs = {},\n      reserved = {};\n  var borderRadius = null;\n  var transition = null;\n  var gradient = {};\n  styleAttrs.forEach(function (_ref3) {\n    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    // eslint-disable-line complexity\n    if (key === '--sprite-transition') {\n      throw new Error('Not support --sprite-transition, instead use transition.');\n    }\n\n    if (key === '--sprite-animation') {\n      throw new Error('Not support --sprite-animation, instead use animation.');\n    }\n\n    if (key.indexOf('--sprite-') === 0) {\n      key = key.replace('--sprite-', '');\n      key = toCamel(key);\n      if (isStyleMap) value = value[0][0].trim();\n\n      if (key === 'gradient') {\n        // --sprite-gradient: bgcolor,color vector(0, 150, 150, 0) 0,#fff 0.5,rgba(33, 33, 77, 0.7) 1,rgba(128, 45, 88, 0.5)\n        var _matched = value.match(/(.+?)vector\\((.+?)\\)(.+)/);\n\n        if (_matched) {\n          var properties = _matched[1].trim().split(/\\s*,\\s*/g),\n              vector = _matched[2].split(',').map(function (s) {\n            return Number(s.trim());\n          }),\n              colors = _matched[3].trim().split(/\\s+/).map(function (s) {\n            var m = s.match(/^([\\d.]+),(.*)/);\n\n            if (m) {\n              return {\n                offset: Number(m[1].trim()),\n                color: m[2].trim()\n              };\n            }\n\n            return null;\n          }).filter(function (c) {\n            return c != null;\n          });\n\n          properties.forEach(function (prop) {\n            gradient[prop] = {\n              vector: vector,\n              colors: colors\n            };\n          });\n        }\n      }\n\n      if (key === 'border') {\n        var values = value.split(/\\s+/);\n\n        var _values = (0, _slicedToArray2.default)(values, 3),\n            style = _values[0],\n            width = _values[1],\n            color = _values[2];\n\n        reserved.border = {\n          style: style,\n          width: width,\n          color: color\n        };\n      } else {\n        if (key !== 'fontSize' && typeof value === 'string') {\n          if (/,/.test(value)) {\n            var _values2 = value.split(',');\n\n            value = _values2.map(function (v) {\n              return toPxValue(v.trim());\n            });\n          } else {\n            value = toPxValue(value);\n          }\n        }\n\n        reserved[key] = value;\n      }\n    } else {\n      key = toCamel(key);\n\n      if (key in CSSGetter) {\n        if (typeof CSSGetter[key] === 'function') {\n          value = CSSGetter[key](value);\n        } else {\n          if (isStyleMap) {\n            value = value[0].toString();\n          }\n\n          if (key !== 'fontSize') {\n            value = toPxValue(value);\n          }\n        }\n\n        if (/^animation/.test(key)) {\n          attrs.animation = attrs.animation || {};\n          attrs.animation[key] = value;\n          return;\n        }\n\n        if (value === 'initial') return;\n        if (key === 'backgroundColor') key = 'bgcolor';\n        if (key === 'fontVariantCaps') key = 'fontVariant';\n        if (key === 'lineHeight' && value === 'normal') value = '';\n\n        if (/Radius$/.test(key)) {\n          if (typeof value === 'string') {\n            value = value.split(/\\s+/).map(function (v) {\n              return toPxValue(v);\n            });\n          } else {\n            value = [value, value];\n          }\n\n          borderRadius = borderRadius || [0, 0, 0, 0, 0, 0, 0, 0];\n\n          if (key === 'borderTopLeftRadius') {\n            borderRadius[0] = value[0];\n            borderRadius[1] = value[1];\n          } else if (key === 'borderTopRightRadius') {\n            borderRadius[2] = value[0];\n            borderRadius[3] = value[1];\n          } else if (key === 'borderBottomRightRadius') {\n            borderRadius[4] = value[0];\n            borderRadius[5] = value[1];\n          } else if (key === 'borderBottomLeftRadius') {\n            borderRadius[6] = value[0];\n            borderRadius[7] = value[1];\n          }\n        } else if (/^border(Left|Right|Top|Bottom)\\w+/.test(key)) {\n          if (/Color$/.test(key)) {\n            attrs.borderColor = value;\n          } else if (/Style$/.test(key)) {\n            attrs.borderStyle = value;\n          } else if (/Width$/.test(key)) {\n            attrs.borderWidth = value;\n          }\n        } else if (key === 'transitionDelay') {\n          transition = transition || {};\n          transition.delay = value;\n        } else if (key === 'transitionDuration') {\n          transition = transition || {};\n          transition.duration = value;\n        } else if (key === 'transitionTimingFunction') {\n          transition = transition || {};\n          transition.easing = value;\n        } else if (key === 'transitionProperty') {\n          transition = transition || {};\n          transition.properties = value;\n        } else {\n          attrs[key] = value;\n        }\n      }\n    }\n  });\n\n  if (borderRadius) {\n    attrs.borderRadius = borderRadius;\n  }\n\n  Object.assign(attrs, reserved, gradient);\n\n  if (transition) {\n    transition.properties = transition.properties || 'all';\n    transition.delay = transition.delay || [0];\n    transition.duration = transition.duration || [0];\n    transition.easing = transition.easing || ['ease'];\n    attrs.transitions = [];\n    var properties = transition.properties.split(',').map(function (p) {\n      return p.trim();\n    });\n    properties.forEach(function (key, i) {\n      var _attrs = null;\n\n      if (key.indexOf('--sprite-') === 0) {\n        key = key.replace('--sprite-', '');\n      }\n\n      key = toCamel(key);\n\n      if (key !== 'borderRadius' && /^border/.test(key)) {\n        key = 'border';\n      }\n\n      if (key === 'backgroundColor' || key === 'background') key = 'bgcolor';\n      if (key === 'fontVariantCaps') key = 'fontVariant';\n\n      if (key === 'all') {\n        _attrs = Object.assign({}, attrs);\n        delete _attrs.transitions;\n        delete _attrs.animation;\n      } else if (key in attrs) {\n        _attrs = (0, _defineProperty2.default)({}, key, attrs[key]);\n      }\n\n      if (_attrs) {\n        attrs.transitions.push({\n          easing: transition.easing[i],\n          attrs: _attrs,\n          delay: transition.delay[i],\n          duration: transition.duration[i]\n        });\n      }\n    });\n  }\n\n  if ('fontSize' in attrs || 'fontFamily' in attrs || 'fontStyle' in attrs || 'fontVariant' in attrs || 'fontWeight' in attrs) {\n    // for font inherit\n    var font = attrs.font || 'normal normal normal 16px Arial';\n\n    var _parseFont = (0, _utils.parseFont)(font),\n        style = _parseFont.style,\n        variant = _parseFont.variant,\n        weight = _parseFont.weight,\n        family = _parseFont.family,\n        size = _parseFont.size,\n        unit = _parseFont.unit;\n\n    attrs.font = \"\".concat(attrs.fontStyle || style, \" \").concat(attrs.fontVariant || variant, \" \").concat(attrs.fontWeight || weight, \" \").concat(attrs.fontSize || size + unit, \" \").concat(attrs.fontFamily || family);\n    delete attrs.fontSize;\n    delete attrs.fontFamily;\n    delete attrs.fontVariant;\n    delete attrs.fontWeight;\n    delete attrs.fontStyle;\n  }\n\n  return attrs;\n}\n\nfunction parseFrames(rule)\n/* istanbul ignore next */\n{\n  var rules = rule.cssRules || rule.rules;\n\n  if (rules && rules.length > 0) {\n    var frames = [];\n\n    for (var i = 0; i < rules.length; i++) {\n      var _rule = rules[i];\n      var offset = parseFloat(_rule.keyText) / 100;\n      var frame = parseRuleAttrs(_rule);\n      frame.offset = offset;\n      frames.push(frame);\n    }\n\n    return frames;\n  }\n}\n/* istanbul ignore next */\n\n\nfunction toCamel(str) {\n  return str.replace(/([^-])(?:-+([^-]))/g, function ($0, $1, $2) {\n    return $1 + $2.toUpperCase();\n  });\n}\n\nfunction resolveToken(token) {\n  // eslint-disable-line complexity\n  var ret = '',\n      priority = 0,\n      valid = true;\n\n  if (token.type === 'tag') {\n    ret = token.name;\n    priority = 1;\n  } else if (token.type === 'universal') {\n    ret = '*';\n    priority = 0;\n  } else if (token.type === 'pseudo') {\n    var data = token.data;\n\n    if (data != null) {\n      if (token.name === 'not') {\n        data.forEach(function (rules) {\n          rules.forEach(function (token) {\n            var r = resolveToken(token);\n            ret += r.token;\n            valid &= r.valid;\n          });\n        });\n        ret = \":\".concat(token.name, \"(\").concat(ret, \")\");\n      } else {\n        ret = \":\".concat(token.name, \"(\").concat(token.data, \")\");\n      }\n    } else {\n      ret = \":\".concat(token.name);\n    }\n\n    if (token.name === 'hover')\n      /* istanbul ignore next */\n      {\n        _utils.relatedAttributes.add('__internal_state_hover_');\n      } else if (token.name === 'active')\n      /* istanbul ignore next */\n      {\n        _utils.relatedAttributes.add('__internal_state_active_');\n      } // not support yet\n\n\n    valid = token.name !== 'focus' && token.name !== 'link' && token.name !== 'visited' && token.name !== 'lang';\n    priority = token.name !== 'not' ? 1000 : 0;\n  } else if (token.type === 'pseudo-element')\n    /* istanbul ignore next */\n    {\n      ret = \"::\".concat(token.name);\n      priority = 1;\n      valid = false; // pseudo-element not support\n    } else if (token.type === 'attribute') {\n    var name = token.name,\n        action = token.action,\n        value = token.value;\n\n    _utils.relatedAttributes.add(name);\n\n    if (action === 'exists') {\n      ret = \"[\".concat(name, \"]\");\n    } else if (action === 'equals') {\n      if (name === 'id') {\n        ret = \"#\".concat(value);\n      } else {\n        ret = \"[\".concat(name, \"=\\\"\").concat(value, \"\\\"]\");\n      }\n    } else if (action === 'not')\n      /* istanbul ignore next */\n      {\n        throw new Error('Attribute \\'not\\' action is not allowed.'); // ret = `[${name}!=\"${value}\"]`;\n      } else if (action === 'start') {\n      ret = \"[\".concat(name, \"^=\\\"\").concat(value, \"\\\"]\");\n    } else if (action === 'end') {\n      ret = \"[\".concat(name, \"$=\\\"\").concat(value, \"\\\"]\");\n    } else if (action === 'element') {\n      if (name === 'class') {\n        ret = \".\".concat(value);\n      } else {\n        ret = \"[\".concat(name, \"~=\\\"\").concat(value, \"\\\"]\");\n      }\n    } else if (action === 'any') {\n      ret = \"[\".concat(name, \"*=\\\"\").concat(value, \"\\\"]\");\n    } else if (action === 'hyphen') {\n      ret = \"[\".concat(name, \"|=\\\"\").concat(value, \"\\\"]\");\n    }\n\n    if (name === 'id' && action === 'equals') {\n      priority = 1000000;\n    } else {\n      priority = 1000;\n    }\n  } else if (token.type === 'child') {\n    ret = '>';\n    priority = 0;\n  } else if (token.type === 'parent')\n    /* istanbul ignore next */\n    {\n      throw new Error('Parent selector is not allowed.'); // ret = '<';\n      // priority = 0;\n    } else if (token.type === 'sibling') {\n    ret = '~';\n    priority = 0;\n  } else if (token.type === 'adjacent') {\n    ret = '+';\n    priority = 0;\n  } else if (token.type === 'descendant') {\n    ret = ' ';\n    priority = 0;\n  } else\n    /* istanbul ignore next */\n    {\n      throw new Error(\"Unknown token \".concat(token, \".\"));\n    }\n\n  return {\n    token: ret,\n    priority: priority,\n    valid: valid\n  };\n}\n\nvar order = 0;\nvar _default = {\n  add: function add(rules) {\n    var fromDoc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    Object.entries(rules).forEach(function (_ref5) {\n      var _ref6 = (0, _slicedToArray2.default)(_ref5, 2),\n          rule = _ref6[0],\n          attributes = _ref6[1];\n\n      var selectors = cssWhat.parse(rule);\n\n      for (var i = 0; i < selectors.length; i++) {\n        var selector = selectors[i];\n        var tokens = selector.map(function (token) {\n          return resolveToken(token);\n        }).filter(function (token) {\n          return token.valid;\n        });\n        var r = tokens.reduce(function (a, b) {\n          a.priority += b.priority;\n          a.tokens.push(b.token);\n          return a;\n        }, {\n          tokens: [],\n          priority: 0\n        });\n        var selectorStr = r.tokens.join('');\n\n        try {\n          var compiled = (0, _selector.compile)(selectorStr);\n          var _rule2 = {\n            selector: selectorStr,\n            compiled: compiled,\n            priority: r.priority,\n            attributes: attributes,\n            order: order++,\n            fromDoc: fromDoc\n          };\n          cssRules.push(_rule2);\n        } catch (ex)\n        /* istanbul ignore next */\n        {\n          console.warn(ex.message);\n        }\n      }\n    });\n    cssRules.sort(function (a, b) {\n      var d = a.priority - b.priority;\n      return d !== 0 ? d : a.order - b.order;\n    });\n  },\n  fromDocumentCSS: function fromDocumentCSS(stylesheets, override)\n  /* istanbul ignore next */\n  {\n    if (override) {\n      cssRules = cssRules.filter(function (r) {\n        return !r.fromDoc;\n      });\n    }\n\n    if (typeof document === 'undefined') return;\n    if (!stylesheets) stylesheets = document.styleSheets;\n\n    if (stylesheets) {\n      var styleRules = {};\n\n      for (var i = 0; i < stylesheets.length; i++) {\n        var rules = null;\n\n        try {\n          rules = stylesheets[i].cssRules || stylesheets[i].rules;\n        } catch (ex) {\n          rules = null;\n        }\n\n        if (!rules) continue; // eslint-disable-line no-continue\n\n        for (var j = 0; j < rules.length; j++) {\n          var rule = rules[j];\n          var selectorText = rule.selectorText;\n\n          if (rule.type !== 1 && rule.type !== 7) {\n            // is not style rule or keyframesrule\n            continue; // eslint-disable-line no-continue\n          }\n\n          if (rule.type === 7) {\n            var frames = parseFrames(rule);\n            keyFrames[rule.name] = frames;\n            continue; // eslint-disable-line no-continue\n          }\n\n          var attrs = parseRuleAttrs(rule);\n\n          if (attrs) {\n            styleRules[selectorText] = styleRules[selectorText] || {};\n            Object.assign(styleRules[selectorText], attrs);\n          }\n        }\n      }\n\n      this.add(styleRules, true);\n    }\n  },\n  computeStyle: function computeStyle(el) {\n    if (!el.attributes) return {};\n    el.__styleNeedUpdate = false;\n    if (cssRules.length <= 0) return {};\n    var attrs = {};\n    var selectors = [];\n    var transitions = [];\n    cssRules.forEach(function (rule) {\n      var compiled = rule.compiled,\n          selector = rule.selector,\n          attributes = rule.attributes;\n\n      if ((0, _selector.isMatched)(el, compiled)) {\n        Object.assign(attrs, attributes); // console.log(JSON.stringify(attrs.transitions));\n\n        if (attrs.transitions)\n          /* istanbul ignore next */\n          {\n            transitions.push.apply(transitions, (0, _toConsumableArray2.default)(attrs.transitions));\n            attrs.transitions.forEach(function (t) {\n              Object.keys(t.attrs).forEach(function (k) {\n                // if(k in attrs) delete attrs[k];\n                el.attributes.__getStyleTag = true;\n\n                if (el.attributes[k]) {\n                  attrs[k] = el.attributes[k];\n                }\n\n                el.attributes.__getStyleTag = false; // console.log(el.attributes.style[k]);\n              });\n            });\n            delete attrs.transitions;\n          }\n\n        selectors.push(selector);\n      }\n    }); // if(selectors.length <= 0) return;\n\n    var matchedSelectors = selectors.join();\n\n    if (el[_matchedSelectors] !== matchedSelectors) {\n      // console.log(transitions);\n\n      /* istanbul ignore if */\n      if (attrs.animation) {\n        var animation = attrs.animation;\n        var delay = animation.animationDelay,\n            direction = animation.animationDirection,\n            duration = animation.animationDuration,\n            fill = animation.animationFillMode,\n            iterations = animation.animationIterationCount,\n            name = animation.animationName,\n            playState = animation.animationPlayState,\n            easing = animation.animationTimingFunction;\n        var frames = keyFrames[name];\n\n        if (frames) {\n          if (el[_animation]) {\n            el[_animation].cancel();\n          }\n\n          el[_animation] = el.animate(frames, {\n            duration: duration,\n            delay: delay,\n            fill: fill,\n            iterations: iterations,\n            easing: easing,\n            direction: direction\n          });\n          el.setReleaseKey(_animation);\n          if (playState !== 'running') el[_animation].pause();\n        } else {\n          console.warn(\"Unknow animation: \".concat(name));\n        }\n\n        delete attrs.animation;\n      }\n      /* istanbul ignore if */\n\n\n      if (el[_transitions]) {\n        el[_transitions].forEach(function (t) {\n          t.cancel(true);\n          el.attributes.__styleTag = true;\n          el.attr(t.__attrs);\n          el.attributes.__styleTag = false;\n        });\n\n        delete el[_transitions];\n      }\n      /* istanbul ignore if */\n\n\n      if (transitions.length > 0) {\n        el[_transitions] = [];\n        el.setReleaseKey(_transitions);\n        Promise.all(transitions.map(function (t) {\n          var attrs = t.attrs,\n              delay = t.delay,\n              duration = t.duration,\n              easing = t.easing;\n          var transition = el.transition({\n            duration: duration,\n            delay: delay\n          }, easing, true);\n          transition.__attrs = attrs;\n\n          el[_transitions].push(transition);\n\n          return transition.attr(Object.assign({}, attrs));\n        })).then(function () {\n          el.dispatchEvent('transitionend', {}, true, true);\n        });\n      }\n\n      el.dispatchEvent('stylechange', {\n        oldSelectors: el[_matchedSelectors],\n        newSelectors: matchedSelectors\n      }, true, true);\n      el[_matchedSelectors] = matchedSelectors;\n      el.attributes.clearStyle();\n      el.attributes.__styleTag = true;\n      el.attr(attrs);\n      el.attributes.__styleTag = false; // if(el.forceUpdate) el.forceUpdate();\n    }\n\n    return attrs;\n  },\n\n  get relatedAttributes() {\n    return _utils.relatedAttributes;\n  },\n\n  get cssRules() {\n    return cssRules;\n  }\n\n};\nexports.default = _default;"]}